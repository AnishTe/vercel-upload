"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[314],{6323:(e,t,r)=>{r.d(t,{$:()=>j,EF:()=>m,Fj:()=>p,Ix:()=>c,T4:()=>u,eq:()=>v,iD:()=>d,id:()=>h,j3:()=>b,jq:()=>x,oV:()=>g,ri:()=>f,yF:()=>y});var a=r(2651),s=r(9208);let n="https://api.pesb.co.in:5500/PESB",o=()=>{let e=s.A.get("currentUserId"),t=s.A.get("userToken_".concat(e));return{clientId:e,token:t}},i=()=>{let e=s.A.get("currentUserId"),t=s.A.get("userToken_".concat(e));return{username:e,token:t}},l=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s={...t};r&&(s={...o(),...s});let n=i();return a.A.post(e,s,{headers:{"Content-Type":"application/json",Accept:"*/*",...n}})},d=(e,t)=>a.A.post("".concat(n,"/auth/login"),{clientId:e,password:t}),c=e=>a.A.post("".concat(n,"/auth/getloginotp"),e),u=e=>a.A.post("".concat(n,"/auth/loginWithOtp"),e),m=()=>l("".concat(n,"/auth/getActiveSessions"),{},!0),f=e=>l("".concat(n,"/auth/logout"),e,!0),p=()=>l("".concat(n,"/limit/getUtradeLimit"),{},!0),x=e=>l("".concat(n,"/limit/setUtradeLimit"),e,!0),h=()=>l("".concat(n,"/report/client_fa_summary"),{},!0),b=e=>l("".concat(n,"/report/ledger"),e,!0),g=e=>l("".concat(n,"/report/cr_sauda"),e,!0),v=e=>l("".concat(n,"/report/global"),e,!0),y=e=>l("".concat(n,"/report/annual_p_l"),e,!0),j=async()=>l("".concat(n,"/report/holding_new"),{},!0)},8314:(e,t,r)=>{r.r(t),r.d(t,{default:()=>W});var a=r(5155),s=r(2115),n=r(9606),o=r(2679),i=r(3415),l=r(6046),d=r(814),c=r(9208),u=r(3312),m=r(9749),f=r(4870),p=r(3900),x=r(3610),h=r(8166),b=r(7357),g=r(7028),v=r(3360),y=r(4256),j=r(1488),w=r(7668),N="Tabs",[I,R]=(0,h.A)(N,[b.RG]),C=(0,b.RG)(),[k,T]=I(N),A=s.forwardRef((e,t)=>{let{__scopeTabs:r,value:s,onValueChange:n,defaultValue:o,orientation:i="horizontal",dir:l,activationMode:d="automatic",...c}=e,u=(0,y.jH)(l),[m,f]=(0,j.i)({prop:s,onChange:n,defaultProp:o});return(0,a.jsx)(k,{scope:r,baseId:(0,w.B)(),value:m,onValueChange:f,orientation:i,dir:u,activationMode:d,children:(0,a.jsx)(v.sG.div,{dir:u,"data-orientation":i,...c,ref:t})})});A.displayName=N;var D="TabsList",F=s.forwardRef((e,t)=>{let{__scopeTabs:r,loop:s=!0,...n}=e,o=T(D,r),i=C(r);return(0,a.jsx)(b.bL,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:s,children:(0,a.jsx)(v.sG.div,{role:"tablist","aria-orientation":o.orientation,...n,ref:t})})});F.displayName=D;var M="TabsTrigger",S=s.forwardRef((e,t)=>{let{__scopeTabs:r,value:s,disabled:n=!1,...o}=e,i=T(M,r),l=C(r),d=P(i.baseId,s),c=B(i.baseId,s),u=s===i.value;return(0,a.jsx)(b.q7,{asChild:!0,...l,focusable:!n,active:u,children:(0,a.jsx)(v.sG.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:d,...o,ref:t,onMouseDown:(0,x.m)(e.onMouseDown,e=>{n||0!==e.button||!1!==e.ctrlKey?e.preventDefault():i.onValueChange(s)}),onKeyDown:(0,x.m)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&i.onValueChange(s)}),onFocus:(0,x.m)(e.onFocus,()=>{let e="manual"!==i.activationMode;u||n||!e||i.onValueChange(s)})})})});S.displayName=M;var _="TabsContent",E=s.forwardRef((e,t)=>{let{__scopeTabs:r,value:n,forceMount:o,children:i,...l}=e,d=T(_,r),c=P(d.baseId,n),u=B(d.baseId,n),m=n===d.value,f=s.useRef(m);return s.useEffect(()=>{let e=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,a.jsx)(g.C,{present:o||m,children:r=>{let{present:s}=r;return(0,a.jsx)(v.sG.div,{"data-state":m?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":c,hidden:!s,id:u,tabIndex:0,...l,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:s&&i})}})});function P(e,t){return"".concat(e,"-trigger-").concat(t)}function B(e,t){return"".concat(e,"-content-").concat(t)}E.displayName=_;var V=r(1567);let z=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(F,{ref:t,className:(0,V.cn)("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",r),...s})});z.displayName=F.displayName;let O=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(S,{ref:t,className:(0,V.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",r),...s})});O.displayName=S.displayName;let J=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(E,{ref:t,className:(0,V.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),...s})});J.displayName=E.displayName;var L=r(7401);let q=(0,L.A)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),$=(0,L.A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var G=r(6323);let U=i.Ik({clientId:i.Yj().min(1,"Client ID is required"),password:i.Yj().min(6,"Password must be at least 6 characters").nonempty("Password is required")}),Y=i.Ik({clientId:i.Yj().min(1,"Client ID is required"),mobileNumber:i.Yj().min(10,"Mobile number must be 10 digits").max(10,"Mobile number must be 10 digits").regex(/^\d{10}$/,"Mobile number must be 10 digits"),otp:i.Yj().optional()});function W(){let e=(0,l.useRouter)(),[t,r]=(0,s.useState)(!1),[i,x]=(0,s.useState)(!1),[h,b]=(0,s.useState)(!1),[g,v]=(0,s.useState)("password"),y=(0,n.mN)({resolver:(0,o.u)(U),defaultValues:{clientId:"",password:""}}),j=(0,n.mN)({resolver:(0,o.u)(Y),defaultValues:{clientId:"",mobileNumber:"",otp:""}}),w=async e=>{x(!0);try{let t=await (0,G.iD)(e.clientId,e.password),r=null==t?void 0:t.data;"success"===r.status?R(r,e.clientId):d.oR.error(r.message)}catch(e){d.oR.error(e.message||"Login failed.")}finally{x(!1)}},N=async e=>{x(!0);try{let t=await (0,G.Ix)({clientId:e.clientId,mobile:e.mobileNumber}),r=null==t?void 0:t.data;if("success"===r.status)d.oR.success("OTP sent successfully!"),b(!0);else throw Error(r.message||"Failed to send OTP")}catch(e){d.oR.error(e.message||"An error occurred")}finally{x(!1)}},I=async e=>{if(h){x(!0);try{let t=await (0,G.T4)({clientId:e.clientId,otp:e.otp}),r=null==t?void 0:t.data;if("success"===r.status)R(r,e.clientId);else throw Error(r.message||"Invalid OTP")}catch(e){d.oR.error(e.message||"An error occurred")}finally{x(!1)}}else await N(e)},R=(t,r)=>{let a=null==t?void 0:t.token;if(!a)return d.oR.error("Invalid Token!");c.A.set("userToken_".concat(r),a,{expires:7}),c.A.set("currentUserId",r,{expires:7}),c.A.set("userDetails_".concat(r),JSON.stringify(t.userDetails),{expires:7}),d.oR.success(t.message||"Login Successful!"),setTimeout(()=>e.push("/dashboard"),1e3)};return(0,s.useEffect)(()=>{(()=>{let t=c.A.get("currentUserId"),r=t?c.A.get("userToken_".concat(t)):null;t&&r&&e.push("/dashboard")})()},[e]),(0,a.jsx)("div",{className:"container flex h-screen items-center justify-center",children:(0,a.jsxs)(m.Zp,{className:"w-[550px]",children:[(0,a.jsxs)(m.aR,{children:[(0,a.jsx)(m.ZB,{children:"Sign In"}),(0,a.jsx)(m.BT,{children:"Choose your login method"})]}),(0,a.jsx)(m.Wu,{children:(0,a.jsxs)(A,{defaultValue:"password",onValueChange:e=>v(e),children:[(0,a.jsxs)(z,{className:"grid w-full grid-cols-2",children:[(0,a.jsx)(O,{value:"password",children:"Password"}),(0,a.jsx)(O,{value:"otp",children:"OTP"})]}),(0,a.jsx)(J,{value:"password",children:(0,a.jsx)(f.lV,{...y,children:(0,a.jsxs)("form",{onSubmit:y.handleSubmit(w),className:"space-y-4",children:[(0,a.jsx)(f.zB,{control:y.control,name:"clientId",render:e=>{let{field:t}=e;return(0,a.jsxs)(f.eI,{children:[(0,a.jsx)(f.lR,{children:"Client ID"}),(0,a.jsx)(f.MJ,{children:(0,a.jsx)(p.p,{placeholder:"Enter your Client ID",...t})}),(0,a.jsx)(f.C5,{})]})}}),(0,a.jsx)(f.zB,{control:y.control,name:"password",render:e=>{let{field:s}=e;return(0,a.jsxs)(f.eI,{children:[(0,a.jsx)(f.lR,{children:"Password"}),(0,a.jsx)(f.MJ,{children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(p.p,{type:t?"text":"password",placeholder:"Enter your Password",...s}),(0,a.jsx)(u.$,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>r(e=>!e),children:t?(0,a.jsx)(q,{className:"h-4 w-4"}):(0,a.jsx)($,{className:"h-4 w-4"})})]})}),(0,a.jsx)(f.C5,{})]})}}),(0,a.jsx)(u.$,{type:"submit",className:"w-full",disabled:i,children:i?"Signing In...":"Sign In"})]})})}),(0,a.jsx)(J,{value:"otp",children:(0,a.jsx)(f.lV,{...j,children:(0,a.jsxs)("form",{onSubmit:j.handleSubmit(I),className:"space-y-4",children:[(0,a.jsx)(f.zB,{control:j.control,name:"clientId",render:e=>{let{field:t}=e;return(0,a.jsxs)(f.eI,{children:[(0,a.jsx)(f.lR,{children:"Client ID"}),(0,a.jsx)(f.MJ,{children:(0,a.jsx)(p.p,{placeholder:"Enter your Client ID",...t})}),(0,a.jsx)(f.C5,{})]})}}),(0,a.jsx)(f.zB,{control:j.control,name:"mobileNumber",render:e=>{let{field:t}=e;return(0,a.jsxs)(f.eI,{children:[(0,a.jsx)(f.lR,{children:"Mobile Number"}),(0,a.jsx)(f.MJ,{children:(0,a.jsx)(p.p,{placeholder:"Enter your Mobile Number",...t})}),(0,a.jsx)(f.C5,{})]})}}),h&&(0,a.jsx)(f.zB,{control:j.control,name:"otp",render:e=>{let{field:t}=e;return(0,a.jsxs)(f.eI,{children:[(0,a.jsx)(f.lR,{children:"OTP"}),(0,a.jsx)(f.MJ,{children:(0,a.jsx)(p.p,{placeholder:"Enter the OTP",...t})}),(0,a.jsx)(f.C5,{})]})}}),(0,a.jsx)(u.$,{type:"submit",className:"w-full",disabled:i,children:i?"Loading...":h?"Sign In":"Send OTP"})]})})})]})})]})})}},3312:(e,t,r)=>{r.d(t,{$:()=>d});var a=r(5155),s=r(2115),n=r(2317),o=r(1027),i=r(1567);let l=(0,o.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,t)=>{let{className:r,variant:s,size:o,asChild:d=!1,...c}=e,u=d?n.DX:"button";return(0,a.jsx)(u,{className:(0,i.cn)(l({variant:s,size:o,className:r})),ref:t,...c})});d.displayName="Button"},9749:(e,t,r)=>{r.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>l,Zp:()=>o,aR:()=>i,wL:()=>u});var a=r(5155),s=r(2115),n=r(1567);let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("rounded-xl border bg-card text-card-foreground shadow mt-7",r),...s})});o.displayName="Card";let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col md:flex-row md:items-center md:justify-between p-6 border-b bg-blue-500 mx-3 -mt-6 px-8 pt-4 pb-4 rounded-xl shadow-lg text-white space-y-4 md:space-y-0",r),...s})});i.displayName="CardHeader";let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("font-semibold leading-none tracking-tight",r),...s})});l.displayName="CardTitle";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...s})});d.displayName="CardDescription";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...s})});c.displayName="CardContent";let u=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...s})});u.displayName="CardFooter"},4870:(e,t,r)=>{r.d(t,{C5:()=>b,MJ:()=>h,eI:()=>p,lR:()=>x,lV:()=>d,zB:()=>u});var a=r(5155),s=r(2115),n=r(2317),o=r(9606),i=r(1567),l=r(8986);let d=o.Op,c=s.createContext({}),u=e=>{let{...t}=e;return(0,a.jsx)(c.Provider,{value:{name:t.name},children:(0,a.jsx)(o.xI,{...t})})},m=()=>{let e=s.useContext(c),t=s.useContext(f),{getFieldState:r,formState:a}=(0,o.xW)(),n=r(e.name,a);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=t;return{id:i,name:e.name,formItemId:"".concat(i,"-form-item"),formDescriptionId:"".concat(i,"-form-item-description"),formMessageId:"".concat(i,"-form-item-message"),...n}},f=s.createContext({}),p=s.forwardRef((e,t)=>{let{className:r,...n}=e,o=s.useId();return(0,a.jsx)(f.Provider,{value:{id:o},children:(0,a.jsx)("div",{ref:t,className:(0,i.cn)("space-y-2",r),...n})})});p.displayName="FormItem";let x=s.forwardRef((e,t)=>{let{className:r,...s}=e,{error:n,formItemId:o}=m();return(0,a.jsx)(l.J,{ref:t,className:(0,i.cn)(n&&"text-destructive",r),htmlFor:o,...s})});x.displayName="FormLabel";let h=s.forwardRef((e,t)=>{let{...r}=e,{error:s,formItemId:o,formDescriptionId:i,formMessageId:l}=m();return(0,a.jsx)(n.DX,{ref:t,id:o,"aria-describedby":s?"".concat(i," ").concat(l):"".concat(i),"aria-invalid":!!s,...r})});h.displayName="FormControl",s.forwardRef((e,t)=>{let{className:r,...s}=e,{formDescriptionId:n}=m();return(0,a.jsx)("p",{ref:t,id:n,className:(0,i.cn)("text-[0.8rem] text-muted-foreground",r),...s})}).displayName="FormDescription";let b=s.forwardRef((e,t)=>{let{className:r,children:s,...n}=e,{error:o,formMessageId:l}=m(),d=o?String(null==o?void 0:o.message):s;return d?(0,a.jsx)("p",{ref:t,id:l,className:(0,i.cn)("text-[0.8rem] font-medium text-destructive",r),...n,children:d}):null});b.displayName="FormMessage"},3900:(e,t,r)=>{r.d(t,{p:()=>o});var a=r(5155),s=r(2115),n=r(1567);let o=s.forwardRef((e,t)=>{let{className:r,type:s,...o}=e;return(0,a.jsx)("input",{type:s,className:(0,n.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...o})});o.displayName="Input"},8986:(e,t,r)=>{r.d(t,{J:()=>d});var a=r(5155),s=r(2115),n=r(6195),o=r(1027),i=r(1567);let l=(0,o.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.b,{ref:t,className:(0,i.cn)(l(),r),...s})});d.displayName=n.b.displayName},1567:(e,t,r)=>{r.d(t,{cn:()=>n});var a=r(3463),s=r(9795);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}}}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[318],{8302:(e,r,a)=>{Promise.resolve().then(a.bind(a,1510))},1510:(e,r,a)=>{"use strict";a.d(r,{default:()=>x});var l=a(5155),s=a(2115),t=a(9749),c=a(1541),n=a(7081);function o(e){let{label:r,value:a,loading:s}=e;return(0,l.jsxs)("div",{className:"flex flex-row items-center gap-4 justify-center p-2 rounded-lg",children:[(0,l.jsx)("h3",{className:"text-sm font-medium text-secondary-foreground",children:r}),s?(0,l.jsx)(n.E,{className:"h-8 w-24 mt-1"}):(0,l.jsx)("p",{className:"text-lg font-semibold",children:(0,l.jsx)(c.A,{animateOn:"view",revealDirection:"center",characters:"12345678",text:new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:2,minimumFractionDigits:2}).format(a)})})]})}var i=a(3404);let d=[{accessorKey:"SCRIP_SYMBOL",header:"Scrip Symbol",cell:e=>{let{row:r}=e;return(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("span",{children:r.original.SCRIP_SYMBOL}),(0,l.jsxs)("span",{className:"text-xs text-muted-foreground",children:["Company Code: ",r.original.COMPANY_CODE]}),(0,l.jsxs)("span",{className:"text-xs text-muted-foreground",children:["COMPCODE: ",r.original.COMPCODE]})]})}},{accessorKey:"TRADING_QUANTITY",header:"Trading Quantity"},{accessorKey:"TRADING_AMOUNT",header:"Trading Amount",cell:e=>{let{row:r}=e,a=parseFloat(r.getValue("TRADING_AMOUNT"));return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(a)}},{accessorKey:"BUY_QUANTITY",header:"Buy Quantity"},{accessorKey:"BUY_RATE",header:"Buy Rate"},{accessorKey:"BUY_AMOUNT",header:"Buy Amount",cell:e=>{let{row:r}=e,a=parseFloat(r.getValue("BUY_AMOUNT"));return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(a)}},{accessorKey:"SALE_QUANTITY",header:"Sale Quantity"},{accessorKey:"SALE_RATE",header:"Sale Rate"},{accessorKey:"SALE_AMOUNT",header:"Sale Amount",cell:e=>{let{row:r}=e,a=parseFloat(r.getValue("SALE_AMOUNT"));return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(a)}},{accessorKey:"NET_QUANTITY",header:"Net Quantity"},{accessorKey:"NET_RATE",header:"Net Rate"},{accessorKey:"NET_AMOUNT",header:"Net Amount",cell:e=>{let{row:r}=e,a=r.original.NET_AMOUNT,s=new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(a);return(0,l.jsx)("span",{className:a>=0?"text-green-600":"text-red-600",children:s})}},{accessorKey:"CLOSING_PRICE",header:"Closing Price"},{accessorKey:"NOT_PROFIT",header:"Net Profit",cell:e=>{let{row:r}=e,a=r.original.NOT_PROFIT,s=new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(a);return(0,l.jsx)("span",{className:a>=0?"text-green-600":"text-red-600",children:s})}}];var m=a(6323),u=a(7328),h=a(3092),g=a(5147);function x(){let[e,r]=(0,s.useState)([]),[a,c]=(0,s.useState)(0),[n,x]=(0,s.useState)(0),[N,f]=(0,s.useState)(0),[j,p]=(0,s.useState)(!0),[y,b]=(0,s.useState)([]),[C,w]=(0,s.useState)(!1),[v,T]=(0,s.useState)(null);(0,s.useEffect)(()=>{(async()=>{p(!0);try{let e=await (0,m.eq)();if(!(0,u.k)(e)){w(!0);return}let a=JSON.parse(e.data.data);if("True"===a.Success&&a["Success Description"]){let e=a["Success Description"],l=e.filter(e=>"DERIVATIVES"===e.COMPANY_CODE||"CAPITAL"===e.COMPANY_CODE),s=l.filter(e=>"CAPITAL"===e.COMPANY_CODE).reduce((e,r)=>e+parseFloat(r.NOT_PROFIT||0),0),t=l.filter(e=>"DERIVATIVES"===e.COMPANY_CODE).reduce((e,r)=>e+parseFloat(r.NOT_PROFIT||0),0);r(l),c(s),x(t);let n=e.filter(e=>"EXPENSES"===e.COMPANY_CODE),o=n.reduce((e,r)=>e+parseFloat(r.NOT_PROFIT||0),0);b(n),f(o)}else throw Error(a["Error Description"]||"Failed to fetch Holdings data.")}catch(e){T(e.message||"An error occurred while fetching data.")}finally{p(!1)}})()},[]);let S=e=>e.replace(/^\*|\*$/g,"");return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(h.A,{children:(0,l.jsx)("div",{className:"space-y-4",children:(0,l.jsxs)(t.Zp,{children:[(0,l.jsx)(t.aR,{className:"flex flex-row items-center justify-between",children:(0,l.jsx)(t.ZB,{children:"Global Report"})}),(0,l.jsxs)(t.Wu,{children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,l.jsx)(o,{label:"Total Capital",value:a,loading:j}),(0,l.jsx)(o,{label:"Total Derivatives",value:n,loading:j}),(0,l.jsx)(o,{label:"Total Expenses",value:N,loading:j})]}),j?(0,l.jsx)(g.A,{columns:4,rows:10}):v?(0,l.jsx)("h3",{children:v}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i.b,{columns:d,data:e,showAllRows:!0}),(0,l.jsxs)("div",{className:"mt-6 p-4 max-w-[30%] border border-border rounded-md bg-card",children:[(0,l.jsx)("h3",{className:"font-semibold text-lg mb-4 text-card-foreground",children:"Expense Details"}),(0,l.jsx)("div",{className:"space-y-2",children:y.length>0?y.map((e,r)=>(0,l.jsxs)("div",{className:"flex justify-between border-b border-border p-1",children:[(0,l.jsx)("span",{className:"font-medium text-card-foreground",children:S(e.SCRIP_SYMBOL)}),(0,l.jsx)("span",{className:"text-card-foreground",children:new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:2}).format(e.NOT_PROFIT)})]},r)):(0,l.jsx)("p",{className:"text-muted-foreground",children:"No expenses found."})})]})]})]})]})})}),C&&(0,l.jsx)(u.B,{})]})}},5147:(e,r,a)=>{"use strict";a.d(r,{A:()=>t});var l=a(5155);a(2115);var s=a(7081);let t=e=>{let{columns:r,rows:a}=e;return(0,l.jsxs)("div",{className:"w-full p-4 space-y-4",children:[(0,l.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[...Array(r||4)].map((e,r)=>(0,l.jsx)("div",{className:"h-9 rounded-lg bg-gray-100 dark:bg-gray-800",children:(0,l.jsx)(s.E,{className:"w-full h-full"})},"header-".concat(r)))}),(0,l.jsx)("div",{className:"space-y-2",children:[...Array(a||10)].map((e,a)=>(0,l.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[...Array(r||4)].map((e,r)=>(0,l.jsx)("div",{className:"h-12 rounded-lg bg-gray-100 dark:bg-gray-800",children:(0,l.jsx)(s.E,{className:"w-full h-full"})},"cell-".concat(a,"-").concat(r)))},"row-".concat(a)))})]})}},3404:(e,r,a)=>{"use strict";a.d(r,{b:()=>C});var l=a(5155),s=a(2115),t=a(9789),c=a(9083),n=a(1567);let o=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,l.jsx)("div",{className:"relative w-full overflow-auto",children:(0,l.jsx)("table",{ref:r,className:(0,n.cn)("w-full caption-bottom text-sm",a),...s})})});o.displayName="Table";let i=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,l.jsx)("thead",{ref:r,className:(0,n.cn)("[&_tr]:border-b",a),...s})});i.displayName="TableHeader";let d=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,l.jsx)("tbody",{ref:r,className:(0,n.cn)("[&_tr:last-child]:border-0",a),...s})});d.displayName="TableBody",s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,l.jsx)("tfoot",{ref:r,className:(0,n.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...s})}).displayName="TableFooter";let m=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,l.jsx)("tr",{ref:r,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...s})});m.displayName="TableRow";let u=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,l.jsx)("th",{ref:r,className:(0,n.cn)("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...s})});u.displayName="TableHead";let h=s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,l.jsx)("td",{ref:r,className:(0,n.cn)("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...s})});h.displayName="TableCell",s.forwardRef((e,r)=>{let{className:a,...s}=e;return(0,l.jsx)("caption",{ref:r,className:(0,n.cn)("mt-4 text-sm text-muted-foreground",a),...s})}).displayName="TableCaption";var g=a(7485),x=a(3900),N=a(3312),f=a(2291),j=a(1719),p=a(8435),y=a(3518),b=a(6967);function C(e){var r,a,n;let{columns:C,data:w,showAllRows:v=!1,filterColumn:T,filterPlaceholder:S="Filter...",selectableRows:A=!1,onSelectedRowsChange:I}=e,[R,O]=s.useState([]),[E,_]=s.useState([]),[P,F]=s.useState({}),[M,k]=s.useState({}),D=s.useMemo(()=>C.filter(e=>{if(e.conditionalColumn){for(let[r,a]of e.conditionalColumn)if(w.some(e=>a.some(a=>e[r]===a.value)))return!1}return!e.hidden}).map(e=>({...e})),[C,w]),Y=(0,t.N4)({data:w,columns:A?[{id:"select",header:e=>{let{table:r}=e;return(0,l.jsx)(f.S,{checked:r.getIsAllPageRowsSelected(),onCheckedChange:e=>r.toggleAllPageRowsSelected(!!e),"aria-label":"Select all"})},cell:e=>{let{row:r}=e;return(0,l.jsx)(f.S,{checked:r.getIsSelected(),onCheckedChange:e=>r.toggleSelected(!!e),"aria-label":"Select row"})},enableSorting:!1},...D]:D,onSortingChange:O,onColumnFiltersChange:_,getCoreRowModel:(0,c.HT)(),getPaginationRowModel:(0,c.kW)(),getSortedRowModel:(0,c.h5)(),getFilteredRowModel:(0,c.hM)(),onColumnVisibilityChange:F,onRowSelectionChange:k,state:{sorting:R,columnFilters:E,columnVisibility:P,rowSelection:M}});return s.useEffect(()=>{v?Y.setPageSize(w.length):Y.setPageSize(10)},[v,w.length,Y]),s.useEffect(()=>{I&&I(Object.keys(M).map(e=>Y.getRow(e).original))},[M,I,Y]),(0,l.jsxs)("div",{className:"w-full",children:[(0,l.jsxs)("div",{className:"flex items-center py-4",children:[T&&(0,l.jsx)(x.p,{placeholder:S,value:null!==(n=null===(r=Y.getColumn(T))||void 0===r?void 0:r.getFilterValue())&&void 0!==n?n:"",onChange:e=>{var r;return null===(r=Y.getColumn(T))||void 0===r?void 0:r.setFilterValue(e.target.value)},className:"max-w-sm"}),(0,l.jsxs)(g.rI,{children:[(0,l.jsx)(g.ty,{asChild:!0,children:(0,l.jsxs)(N.$,{variant:"outline",className:"ml-auto",children:["View Columns ",(0,l.jsx)(j.A,{className:"ml-2 h-4 w-4"})]})}),(0,l.jsx)(g.SQ,{align:"end",children:Y.getAllColumns().filter(e=>e.getCanHide()).map(e=>(0,l.jsx)(g.hO,{className:"capitalize",checked:e.getIsVisible(),onCheckedChange:r=>e.toggleVisibility(!!r),children:e.id},e.id))})]})]}),(0,l.jsx)("div",{className:"rounded-md border",children:(0,l.jsxs)(o,{children:[(0,l.jsx)(i,{children:Y.getHeaderGroups().map(e=>(0,l.jsx)(m,{className:"sticky top-0 bg-background z-10",children:e.headers.map(e=>(0,l.jsx)(u,{className:"p-2 text-foreground",children:e.isPlaceholder?null:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,t.Kv)(e.column.columnDef.header,e.getContext()),e.column.getCanSort()&&(0,l.jsx)(N.$,{variant:"ghost",size:"sm",onClick:()=>e.column.toggleSorting(),className:"ml-1 h-4 w-4 p-0",children:(0,l.jsx)(p.A,{className:"h-1 w-1"})})]})},e.id))},e.id))}),(0,l.jsx)(d,{children:(null===(a=Y.getRowModel().rows)||void 0===a?void 0:a.length)?Y.getRowModel().rows.map(e=>(0,l.jsx)(m,{"data-state":e.getIsSelected()&&"selected",children:e.getVisibleCells().map(e=>(0,l.jsx)(h,{children:(0,t.Kv)(e.column.columnDef.cell,e.getContext())},e.id))},e.id)):(0,l.jsx)(m,{children:(0,l.jsx)(h,{colSpan:C.length,className:"h-24 text-center",children:"No results."})})})]})}),!v&&(0,l.jsxs)("div",{className:"flex items-center justify-end space-x-2 py-4",children:[(0,l.jsx)(N.$,{variant:"outline",size:"sm",onClick:()=>Y.previousPage(),disabled:!Y.getCanPreviousPage(),children:(0,l.jsx)(y.A,{className:"h-4 w-4"})}),(0,l.jsx)(N.$,{variant:"outline",size:"sm",onClick:()=>Y.nextPage(),disabled:!Y.getCanNextPage(),children:(0,l.jsx)(b.A,{className:"h-4 w-4"})})]})]})}}},e=>{var r=r=>e(e.s=r);e.O(0,[247,814,794,518,176,42,802,76,92,441,517,358],()=>r(8302)),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[318],{8302:(e,r,a)=>{Promise.resolve().then(a.bind(a,1510))},1510:(e,r,a)=>{"use strict";a.d(r,{default:()=>h});var s=a(5155),t=a(2115),l=a(9749),c=a(1541),n=a(7081);function i(e){let{label:r,value:a,loading:t}=e;return(0,s.jsxs)("div",{className:"flex flex-row items-center gap-4 justify-center p-2 rounded-lg",children:[(0,s.jsx)("h3",{className:"text-sm font-medium text-secondary-foreground",children:r}),t?(0,s.jsx)(n.E,{className:"h-8 w-24 mt-1"}):(0,s.jsx)("p",{className:"text-lg font-semibold",children:(0,s.jsx)(c.A,{animateOn:"view",revealDirection:"center",characters:"12345678",text:new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:2,minimumFractionDigits:2}).format(a)})})]})}var d=a(3404);let o=[{accessorKey:"SCRIP_SYMBOL",header:"Scrip Symbol",cell:e=>{let{row:r}=e,a=new Date(r.original.EXPIRY_DATE1);return(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("span",{children:r.original.SCRIP_SYMBOL}),(0,s.jsxs)("span",{className:"text-xs text-muted-foreground",children:["Company Code: ",r.original.COMPANY_CODE]}),(0,s.jsxs)("span",{className:"text-xs text-muted-foreground",children:["COMPCODE: ",r.original.COMPCODE]}),(0,s.jsxs)("span",{className:"text-xs text-muted-foreground",children:["Date:"," ",a.toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"2-digit"})]})]})}},{accessorKey:"TRADING_QUANTITY",header:"Trading Quantity"},{accessorKey:"TRADING_AMOUNT",header:"Trading Amount",cell:e=>{let{row:r}=e,a=parseFloat(r.getValue("TRADING_AMOUNT"));return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(a)}},{accessorKey:"BUY_QUANTITY",header:"Buy Quantity"},{accessorKey:"BUY_RATE",header:"Buy Rate"},{accessorKey:"BUY_AMOUNT",header:"Buy Amount",cell:e=>{let{row:r}=e,a=parseFloat(r.getValue("BUY_AMOUNT"));return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(a)}},{accessorKey:"SALE_QUANTITY",header:"Sale Quantity"},{accessorKey:"SALE_RATE",header:"Sale Rate"},{accessorKey:"SALE_AMOUNT",header:"Sale Amount",cell:e=>{let{row:r}=e,a=parseFloat(r.getValue("SALE_AMOUNT"));return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(a)}},{accessorKey:"NET_QUANTITY",header:"Net Quantity"},{accessorKey:"NET_RATE",header:"Net Rate"},{accessorKey:"NET_AMOUNT",header:"Net Amount",cell:e=>{let{row:r}=e,a=r.original.NET_AMOUNT,t=new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(a);return(0,s.jsx)("span",{className:a>=0?"text-green-600":"text-red-600",children:t})}},{accessorKey:"CLOSING_PRICE",header:"Closing Price"},{accessorKey:"NOT_PROFIT",header:"Net Profit"}];var u=a(6323),m=a(7328),N=a(9063),x=a(5147);function h(){let[e,r]=(0,t.useState)([]),[a,c]=(0,t.useState)(0),[n,h]=(0,t.useState)(0),[g,y]=(0,t.useState)(0),[f,A]=(0,t.useState)(!0),[p,T]=(0,t.useState)([]),[j,I]=(0,t.useState)(!1),[O,E]=(0,t.useState)(null);(0,t.useEffect)(()=>{(async()=>{A(!0);try{let e=await (0,u.eq)();if(!(0,m.k)(e)){I(!0);return}let a=JSON.parse(e.data.data);if("True"===a.Success&&a["Success Description"]){let e=a["Success Description"],s=e.filter(e=>"DERIVATIVES"===e.COMPANY_CODE||"CAPITAL"===e.COMPANY_CODE),t=s.filter(e=>"CAPITAL"===e.COMPANY_CODE).reduce((e,r)=>e+parseFloat(r.NOT_PROFIT||0),0),l=s.filter(e=>"DERIVATIVES"===e.COMPANY_CODE).reduce((e,r)=>e+parseFloat(r.NOT_PROFIT||0),0);r(s),c(t),h(l);let n=e.filter(e=>"EXPENSES"===e.COMPANY_CODE),i=n.reduce((e,r)=>e+parseFloat(r.NOT_PROFIT||0),0);T(n),y(i)}else throw Error(a["Error Description"]||"Failed to fetch Holdings data.")}catch(e){E(e.message||"An error occurred while fetching data.")}finally{A(!1)}})()},[]);let _=e=>e.replace(/^\*|\*$/g,"");return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(N.A,{children:(0,s.jsx)("div",{className:"space-y-4",children:(0,s.jsxs)(l.Zp,{children:[(0,s.jsx)(l.aR,{className:"flex flex-row items-center justify-between",children:(0,s.jsx)(l.ZB,{children:"Global Report"})}),(0,s.jsxs)(l.Wu,{children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsx)(i,{label:"Total Capital",value:a,loading:f}),(0,s.jsx)(i,{label:"Total Derivatives",value:n,loading:f}),(0,s.jsx)(i,{label:"Total Expenses",value:g,loading:f})]}),f?(0,s.jsx)(x.A,{columns:4,rows:10}):O?(0,s.jsx)("h3",{children:O}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.b,{columns:o,data:e,showAllRows:!0}),(0,s.jsxs)("div",{className:"mt-6 p-4 max-w-[30%] border border-border rounded-md bg-card",children:[(0,s.jsx)("h3",{className:"font-semibold text-lg mb-4 text-card-foreground",children:"Expense Details"}),(0,s.jsx)("div",{className:"space-y-2",children:p.length>0?p.map((e,r)=>(0,s.jsxs)("div",{className:"flex justify-between border-b border-border p-1",children:[(0,s.jsx)("span",{className:"font-medium text-card-foreground",children:_(e.SCRIP_SYMBOL)}),(0,s.jsx)("span",{className:"text-card-foreground",children:new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:2}).format(e.NOT_PROFIT)})]},r)):(0,s.jsx)("p",{className:"text-muted-foreground",children:"No expenses found."})})]})]})]})]})})}),j&&(0,s.jsx)(m.B,{})]})}},5147:(e,r,a)=>{"use strict";a.d(r,{A:()=>l});var s=a(5155);a(2115);var t=a(7081);let l=e=>{let{columns:r,rows:a}=e;return(0,s.jsxs)("div",{className:"w-full p-4 space-y-4",children:[(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[...Array(r||4)].map((e,r)=>(0,s.jsx)("div",{className:"h-9 rounded-lg bg-gray-100 dark:bg-gray-800",children:(0,s.jsx)(t.E,{className:"w-full h-full"})},"header-".concat(r)))}),(0,s.jsx)("div",{className:"space-y-2",children:[...Array(a||10)].map((e,a)=>(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[...Array(r||4)].map((e,r)=>(0,s.jsx)("div",{className:"h-12 rounded-lg bg-gray-100 dark:bg-gray-800",children:(0,s.jsx)(t.E,{className:"w-full h-full"})},"cell-".concat(a,"-").concat(r)))},"row-".concat(a)))})]})}}},e=>{var r=r=>e(e.s=r);e.O(0,[247,814,794,518,440,825,802,282,491,441,517,358],()=>r(8302)),_N_E=e.O()}]);
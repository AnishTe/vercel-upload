(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[603],{3943:(e,r,l)=>{Promise.resolve().then(l.bind(l,8393))},8393:(e,r,l)=>{"use strict";l.d(r,{Ledger:()=>u});var t=l(5155),s=l(2115),a=l(6323),i=l(9063),n=l(7328),d=l(3257),c=l(9749);function u(){let[e,r]=(0,s.useState)(!1),[l,u]=(0,s.useState)(null),[o,g]=(0,s.useState)(!1),[f,A]=(0,s.useState)(null),[T,h]=(0,s.useState)(null),[p,L]=(0,s.useState)(0);(0,s.useEffect)(()=>{(async()=>{r(!0);try{let e=await (0,a.id)();if(!(0,n.k)(e)){g(!0);return}let r=JSON.parse(e.data.data);if("True"===r.Success&&r["Success Description"]){let e=r["Success Description"];A(e),h(r.groupedData||[])}else throw Error(r["Error Description"]||"Failed to fetch ledger data.")}catch(e){u(e.message||"An unknown error occurred while fetching data.")}finally{r(!1)}})()},[]);let C=T&&f?Object.entries(T).map(e=>{let[r,l]=e;return{cocd:r,total:l.reduce((e,r)=>{let l=f.filter(e=>e.TITAL===r);return e+(null==l?void 0:l.reduce((e,r)=>e+parseFloat(r.AMOUNT||"0"),0))},0)}}):[];(0,s.useEffect)(()=>{if(f){let e=f.find(e=>"Ledger+Mrg+Coll"===e.TITAL||"Ledger+Mrg+Coll"===e.COCD);e&&L(parseFloat(e.AMOUNT)||0)}},[f]);let j=["Associate Ledger","FD","Beneficiary","UnConcile Credit","Pending Receipt"],x=[...Array.isArray(f)?null==f?void 0:f.filter(e=>"Ledger+Mrg+Coll"!==e.TITAL&&!j.includes(e.TITAL)):[],...Array.isArray(f)?null==f?void 0:f.filter(e=>("Ledger+Mrg+Coll"===e.TITAL||"Ledger+Mrg+Coll"===e.TITAL)&&!j.includes(e.TITAL)):[]];return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.A,{children:(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)(c.Zp,{children:[(0,t.jsx)(c.aR,{children:(0,t.jsx)(c.ZB,{className:"font-semibold",children:"Ledger"})}),(0,t.jsx)(c.Wu,{className:"px-6 py-8",children:(0,t.jsx)(d.A,{error:l,loading:e,ledgerMrgCollAmount:p,filteredDataWithLedgerMrgColl:x,groupedTotals:C,data:null!=f?f:[]})})]})})}),o&&(0,t.jsx)(n.B,{})]})}}},e=>{var r=r=>e(e.s=r);e.O(0,[247,814,794,518,440,825,282,263,441,517,358],()=>r(3943)),_N_E=e.O()}]);
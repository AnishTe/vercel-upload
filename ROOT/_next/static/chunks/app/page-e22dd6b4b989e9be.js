(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{9115:(e,s,r)=>{Promise.resolve().then(r.bind(r,3686))},1902:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(7401).A)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])},3686:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>i});var t=r(5155),a=r(3092),l=r(8393),n=r(1471);function i(){return(0,n.a)(),(0,t.jsx)(a.A,{children:(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsx)("div",{className:"grid gap-4 md:grid-cols-3 grid-cols-1",children:(0,t.jsx)(l.Ledger,{})})})})}},8393:(e,s,r)=>{"use strict";r.d(s,{Ledger:()=>d});var t=r(5155),a=r(2115),l=r(6323),n=r(7328),i=r(3257),c=r(9749);function d(){let[e,s]=(0,a.useState)(!1),[r,d]=(0,a.useState)(null),[m,o]=(0,a.useState)(!1),[u,x]=(0,a.useState)(null),[f,h]=(0,a.useState)(null),[j,N]=(0,a.useState)(0);(0,a.useEffect)(()=>{(async()=>{s(!0);try{let e=await (0,l.id)();if(!(0,n.k)(e)){o(!0);return}let s=JSON.parse(e.data.data);if("True"===s.Success&&s["Success Description"]){let e=s["Success Description"];x(e),h(s.groupedData||[])}else throw Error(s["Error Description"]||"Failed to fetch ledger data.")}catch(e){d(e.message||"An unknown error occurred while fetching data.")}finally{s(!1)}})()},[]);let p=f&&u?Object.entries(f).map(e=>{let[s,r]=e;return{cocd:s,total:r.reduce((e,s)=>{let r=u.filter(e=>e.TITAL===s);return e+(null==r?void 0:r.reduce((e,s)=>e+parseFloat(s.AMOUNT||"0"),0))},0)}}):[];(0,a.useEffect)(()=>{if(u){let e=u.find(e=>"Ledger+Mrg+Coll"===e.TITAL||"Ledger+Mrg+Coll"===e.COCD);e&&N(parseFloat(e.AMOUNT)||0)}},[u]);let g=["Associate Ledger","FD","Beneficiary","UnConcile Credit","Pending Receipt"],y=[...Array.isArray(u)?null==u?void 0:u.filter(e=>"Ledger+Mrg+Coll"!==e.TITAL&&!g.includes(e.TITAL)):[],...Array.isArray(u)?null==u?void 0:u.filter(e=>("Ledger+Mrg+Coll"===e.TITAL||"Ledger+Mrg+Coll"===e.TITAL)&&!g.includes(e.TITAL)):[]];return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(c.Zp,{children:[(0,t.jsx)(c.aR,{children:(0,t.jsx)(c.ZB,{className:"font-semibold",children:"Ledger"})}),(0,t.jsx)(c.Wu,{className:"px-6 py-8",children:(0,t.jsx)(i.A,{error:r,loading:e,ledgerMrgCollAmount:j,filteredDataWithLedgerMrgColl:y,groupedTotals:p,data:null!=u?u:[]})})]}),m&&(0,t.jsx)(n.B,{})]})}},3257:(e,s,r)=>{"use strict";r.d(s,{A:()=>o});var t=r(5155),a=r(7081),l=r(3312),n=r(1902),i=r(1719),c=r(2115),d=r(1541),m=r(9749);let o=function(e){let{error:s,loading:r,ledgerMrgCollAmount:o,filteredDataWithLedgerMrgColl:u,groupedTotals:x,data:f}=e,[h,j]=(0,c.useState)(!1),N=u.filter(e=>"Ledger"===e.TITAL),p=u.filter(e=>"Ledger"!==e.TITAL),g=N.reduce((e,s)=>e+parseFloat(s.AMOUNT||"0"),0);return s?(0,t.jsx)("div",{className:"text-center text-red-500 m-2",children:s}):(0,t.jsx)(m.Zp,{className:"w-full max-w-2xl mx-auto border-hidden shadow-none",children:(0,t.jsxs)(m.Wu,{children:[r?(0,t.jsx)(a.E,{className:"h-8 w-full"}):(0,t.jsxs)("div",{className:"flex justify-center items-center gap-6 m-2",children:[(0,t.jsx)("span",{className:"font-[400]",children:"Total Available Limit as of previous date:"}),(0,t.jsx)("span",{className:"font-semibold",children:(0,t.jsx)(d.A,{animateOn:"view",revealDirection:"center",characters:"123456789",text:new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:2,minimumFractionDigits:2}).format(o)})})]}),(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)("div",{className:"border rounded-md",children:[(0,t.jsxs)("div",{className:"flex justify-between p-4 font-semibold border-b",children:[(0,t.jsx)("span",{children:"Type"}),(0,t.jsx)("span",{children:"Total Amount"})]}),r?[...Array(7)].map((e,s)=>(0,t.jsxs)("div",{className:"flex justify-between items-center p-3",children:[(0,t.jsx)(a.E,{className:"h-4 w-1/3"}),(0,t.jsx)(a.E,{className:"h-4 w-1/4"})]},s)):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex justify-between items-center p-3",children:[(0,t.jsx)("span",{children:"Ledger"}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("span",{className:"mr-1",children:new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:2}).format(g)}),(0,t.jsx)(l.$,{variant:"ghost",size:"sm",onClick:()=>{j(e=>!e)},children:h?(0,t.jsx)(n.A,{size:8}):(0,t.jsx)(i.A,{size:8})})]})]}),h&&(0,t.jsx)("div",{className:"pl-4 space-y-2 m-2",children:N.map((e,s)=>(0,t.jsxs)("div",{className:"flex justify-between items-center p-3",children:[(0,t.jsx)("span",{className:"text-sm text-gray-500",children:e.COCD}),(0,t.jsx)("span",{className:"text-sm text-gray-500",children:new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:2}).format(parseFloat(e.AMOUNT))})]},s))}),p.map((e,s)=>{let r=null==x?void 0:x.find(s=>s.cocd===e.TITAL),a=r&&-1===f.findIndex((e,t)=>e.TITAL===r.cocd&&t>s),l="Ledger+Mrg+Coll"===e.TITAL;return(0,t.jsxs)("div",{className:"border-t",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center p-3",children:[(0,t.jsxs)("span",{className:l?"font-semibold":"",children:[e.TITAL," ",(0,t.jsx)("span",{className:"text-xs",children:e.COCD})]}),(0,t.jsx)("span",{className:l?"font-semibold":"",children:new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:2}).format(parseFloat(e.AMOUNT))})]}),a&&r&&(0,t.jsx)("div",{className:"flex justify-end p-2 border-t",children:(0,t.jsx)("span",{className:"font-semibold",children:new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:2}).format(r.total)})})]},s)})]})]})})]})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[247,814,794,176,42,76,92,441,517,358],()=>s(9115)),_N_E=e.O()}]);
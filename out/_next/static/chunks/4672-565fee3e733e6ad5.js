"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4672],{69343:(e,t,s)=>{s.d(t,{$v:()=>f,EO:()=>u,Lt:()=>i,Rx:()=>y,Zr:()=>h,ck:()=>g,r7:()=>m,wd:()=>p});var o=s(95155),n=s(12115),a=s(4733),r=s(21567),c=s(73312);let i=a.bL;a.l9;let l=a.ZL,d=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,o.jsx)(a.hJ,{className:(0,r.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...n,ref:t})});d.displayName=a.hJ.displayName;let u=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,o.jsxs)(l,{children:[(0,o.jsx)(d,{}),(0,o.jsx)(a.UC,{ref:t,className:(0,r.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...n})]})});u.displayName=a.UC.displayName;let p=e=>{let{className:t,...s}=e;return(0,o.jsx)("div",{className:(0,r.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...s})};p.displayName="AlertDialogHeader";let g=e=>{let{className:t,...s}=e;return(0,o.jsx)("div",{className:(0,r.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s})};g.displayName="AlertDialogFooter";let m=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,o.jsx)(a.hE,{ref:t,className:(0,r.cn)("text-lg font-semibold",s),...n})});m.displayName=a.hE.displayName;let f=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,o.jsx)(a.VY,{ref:t,className:(0,r.cn)("text-sm text-muted-foreground",s),...n})});f.displayName=a.VY.displayName;let y=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,o.jsx)(a.rc,{ref:t,className:(0,r.cn)((0,c.r)(),s),...n})});y.displayName=a.rc.displayName;let h=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,o.jsx)(a.ZD,{ref:t,className:(0,r.cn)((0,c.r)({variant:"outline"}),"mt-2 sm:mt-0",s),...n})});h.displayName=a.ZD.displayName},59173:(e,t,s)=>{s.d(t,{k:()=>c});var o=s(95155),n=s(12115),a=s(16838),r=s(21567);let c=n.forwardRef((e,t)=>{let{className:s,value:n,...c}=e;return(0,o.jsx)(a.bL,{ref:t,className:(0,r.cn)("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",s),...c,children:(0,o.jsx)(a.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(n||0),"%)")}})})});c.displayName=a.bL.displayName},24672:(e,t,s)=>{s.d(t,{KYCProvider:()=>S,b:()=>v});var o=s(95155),n=s(12115),a=s(76046),r=s(65564),c=s(83469),i=s(69343),l=s(73312),d=s(23950),u=s(34420),p=s(30405),g=s(23160),m=s(71838),f=s(25683),y=s(25427),h=s(59173);let _={steps:{signin:"not_started","personal-details":"not_started","nominee-poa":"not_started",bank:"not_started",exchange:"not_started",completion:"not_started"},kycMode:"online",currentStep:"signin",previouslyCompletedSteps:{}},k=(0,n.createContext)(void 0);function S(e){let{children:t}=e,[s,S]=(0,n.useState)(()=>{try{let e=localStorage.getItem("kyc_state");if(e)return JSON.parse(e)}catch(e){console.error("Error loading KYC state from localStorage:",e)}return _}),[v,x]=(0,n.useState)(!1),[b,I]=(0,n.useState)(null),[N,C]=(0,n.useState)(!1),[w,R]=(0,n.useState)(!0),[T,j]=(0,n.useState)(!1),[E,O]=(0,n.useState)(10),[D,K]=(0,n.useState)(!1),[A,Y]=(0,n.useState)(""),P=(0,a.useRouter)(),M=(0,a.usePathname)(),F=(0,a.useSearchParams)(),z=(0,n.useRef)(!0),V=(0,n.useRef)(!1),L=(0,n.useRef)(!1),J=(0,n.useRef)(!1),U=(0,n.useRef)(!1),W=(0,n.useRef)(!1),Z=(0,n.useRef)(!1),$=(0,n.useRef)(!1),G=(0,n.useRef)(null),H=(0,n.useMemo)(()=>["signin","personal-details","nominee-poa","bank","exchange","completion"],[]),X=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";K(e),Y(t)},q=(0,n.useRef)(null),Q=(0,u.d)(0),B=(0,p.z)(Q,{damping:20,stiffness:120}),ee=(0,g.G)(B,e=>Math.min(Math.floor(100*e),100));(0,m.N)(e=>{if(T){null===q.current&&(q.current=e);let t=Math.min((e-q.current)/1e4,1);Q.set(t),1===t&&(j(!1),P.replace("/kyc/signin"))}else Q.set(0),q.current=null});let et="offline"===s.kycMode,es=()=>sessionStorage.getItem("kyc_session_id"),eo=()=>{sessionStorage.removeItem("kyc_session_id"),console.log("Session ID cleared from sessionStorage")},en=()=>{sessionStorage.removeItem("kyc_session_id"),["kyc_state","kyc_signin_form","kyc_personal-details_form","kyc_nominee-poa_form","kyc_bank_form","kyc_exchange_form","kyc_completion_form","kyc_last_navigation","kyc_referrer"].forEach(e=>{localStorage.removeItem(e)}),console.log("All KYC data cleared from storage")};(0,n.useEffect)(()=>{if(z.current){z.current=!1;return}try{localStorage.setItem("kyc_state",JSON.stringify(s))}catch(e){console.error("Error saving KYC state to localStorage:",e)}},[s]),(0,n.useEffect)(()=>{let e=M.split("/").pop()||"";e.endsWith(".html")&&(e=e.replace(".html","")),e&&H.includes(e)&&S(t=>t.currentStep!==e?{...t,currentStep:e}:t)},[H,M]);let ea=(0,n.useCallback)(e=>{let t=H.indexOf(e);if(0===t||"completed"===s.steps[e])return!0;if("personal-details"===e){let e=localStorage.getItem("kyc_signin_form");return"completed"===s.steps.signin&&!!e}for(let o=0;o<t;o++){let t=H[o];if("completed"!==s.steps[t])return console.log("Previous step ".concat(t," is not completed (").concat(s.steps[t],"), blocking access to ").concat(e)),!1}return!0},[H,s]),er=(0,n.useCallback)(e=>{let t=H.indexOf(e);return t>0?H[t-1]:null},[H]),ec=(0,n.useCallback)(()=>{var e;let t=(null===(e=M.split("/").pop())||void 0===e?void 0:e.replace(".html",""))||"",s=er(t);if(s){console.log("Navigating back from ".concat(t," to ").concat(s)),ey(t,s),U.current=!0;let e=(0,c.K)("/kyc/".concat(s)),o=es();o&&"signin"!==s&&(e+="?session_id=".concat(o)),(0,r.oR)({title:"Going back",description:"Returning to ".concat(s.replace("-"," ")," step."),variant:"default"}),setTimeout(()=>{P.push(e)},100)}else(0,r.oR)({title:"Cannot go back",description:"You are already on the first step.",variant:"destructive"})},[M,er,P]),ei=(0,n.useCallback)(()=>{var e;console.log("Finding correct step based on completion status..."),console.log("Current step statuses:",s.steps);let t=(null===(e=M.split("/").pop())||void 0===e?void 0:e.replace(".html",""))||"";if(H.includes(t)&&ea(t))return console.log("User is allowed on ".concat(t,", no redirection needed")),t;let o=H[0];for(let e=0;e<H.length;e++){let t=H[e],n=s.steps[t],a=localStorage.getItem("kyc_".concat(t,"_form"));if(console.log("Checking step ".concat(t,": status=").concat(n,", hasFormData=").concat(!!a)),"completed"===n&&a)o=t,console.log("Step ".concat(t," is completed with data, updating furthest accessible"));else if("completed"!==n){let n=!0;for(let t=0;t<e;t++){let e=H[t],o=s.steps[e],a=localStorage.getItem("kyc_".concat(e,"_form"));if("completed"!==o||!a){n=!1;break}}n&&(o=t,console.log("Step ".concat(t," is accessible as next step, updating furthest accessible")));break}}return console.log("Furthest accessible step determined: ".concat(o)),o},[H,ea,M,s.steps]),el=(0,n.useCallback)(()=>{var e;let t=(null===(e=M.split("/").pop())||void 0===e?void 0:e.replace(".html",""))||"";if("signin"===t)return!0;if(!localStorage.getItem("kyc_state"))return console.log("localStorage cleared, access denied"),!1;let s=F.get("session_id"),o=es();return s||o?!!ea(t)||(console.log("Access denied to step: ".concat(t)),!1):(console.log("No session found, access denied"),!1)},[ea,M,F]),ed=(0,n.useCallback)(()=>{var e;if(!N||Z.current||U.current||$.current)return;let t=(null===(e=M.split("/").pop())||void 0===e?void 0:e.replace(".html",""))||"";if("signin"!==t){let e=F.get("session_id"),t=es();if(!e&&!t)return}let s=ei();if(console.log("Redirect check:",{correctStep:s,currentPath:t,shouldRedirect:s!==t,isInitialized:N,hasRedirected:Z.current,navigationInProgress:U.current}),s!==t&&H.includes(t)){if("personal-details"===t&&ea(t)){console.log("User is on personal-details and has access, not redirecting");return}console.log("Redirecting from ".concat(t," to correct step: ").concat(s)),Z.current=!0,U.current=!0;let e=(0,c.K)("/kyc/".concat(s));if("signin"!==s){let t=es();t&&(e+="?session_id=".concat(t))}(0,r.oR)({title:"Redirecting to correct step",description:"Taking you to the ".concat(s.replace("-"," ")," step based on your progress."),variant:"default"}),setTimeout(()=>{P.replace(e)},100)}else console.log("Already on correct step or not a KYC page")},[H,ei,N,M,P,F,ea]),eu=(0,n.useCallback)(()=>{console.log("Checking for inconsistent state...");let e={...s.steps},t=!1;"in_progress"===e.signin&&("completed"===e["personal-details"]||"completed"===e.bank)&&(console.log("Found inconsistent state: signin is in_progress but later steps are completed"),localStorage.getItem("kyc_signin_form")&&(console.log("Found signin form data, marking signin as completed"),e.signin="completed",t=!0));for(let s=0;s<H.length-1;s++){let o=H[s],n=H[s+1];"completed"!==e[o]&&("completed"===e[n]||"in_progress"===e[n])&&(console.log("Found inconsistent state: ".concat(o," is ").concat(e[o]," but ").concat(n," is ").concat(e[n])),localStorage.getItem("kyc_".concat(o,"_form"))&&(console.log("Found form data for ".concat(o,", marking it as completed")),e[o]="completed",t=!0))}if(t){S(t=>({...t,steps:e}));try{localStorage.setItem("kyc_state",JSON.stringify({...s,steps:e}))}catch(e){console.error("Error saving updated KYC state to localStorage:",e)}return console.log("Fixed inconsistent state:",e),!0}return!1},[H,s]),ep=(0,n.useCallback)(()=>{if(J.current)return;let e=F.get("status"),t=F.get("digio_doc_id");F.get("session_id");let s=F.get("message");if(e&&t){console.log("Detected Digio redirect with params:",{status:e,digioDocId:t,message:s}),sessionStorage.setItem("digioStatus",e),sessionStorage.setItem("digioKID",t),J.current=!0;let o=M.split("/").pop()||"";if(o.endsWith(".html")&&(o=o.replace(".html","")),o&&H.includes(o)){let n=er(o);n&&(console.log("Processing previous step ".concat(n," with status: ").concat(e)),"success"===e?(0,r.oR)({title:"Verification Successful",description:"Your information has been verified successfully."}):"cancel"===e?(0,r.oR)({title:"Verification Cancelled",description:"KYC verification process was cancelled.",variant:"destructive"}):(0,r.oR)({title:"Verification Failed",description:s||"There was an issue with your verification.",variant:"destructive"}),ek(t),U.current=!0,setTimeout(()=>{if(window.history&&window.history.replaceState){let e=window.location.pathname,t=es();t&&"signin"!==o&&(e+="?session_id=".concat(t)),window.history.replaceState({},document.title,e)}if("success"===e)U.current=!1;else if("cancel"===e||"failure"===e){if(["personal-details"].includes(o)){console.log("Staying on step: ".concat(o," due to ").concat(e," status.")),U.current=!1;return}let t=(0,c.K)("/kyc/".concat(n)),s=es();s&&"signin"!==n&&(t+="?session_id=".concat(s)),console.log("Non-success status detected. Navigating back to: ".concat(n,", URL: ").concat(t)),P.replace(t)}},100))}}},[H,er,M,P,F]);(0,n.useEffect)(()=>{if(!N&&!L.current){var e;L.current=!0;let t=(null===(e=M.split("/").pop())||void 0===e?void 0:e.replace(".html",""))||"",s=el();if(setTimeout(()=>{if(!s&&"signin"!==t){console.log("Access denied, redirecting to signin"),en(),S(_),P.replace("/kyc/signin"),R(!1);return}},1e3),!localStorage.getItem("kyc_state")&&"signin"!==t){console.log("localStorage cleared, redirecting to signin"),en(),S(_),P.replace("/kyc/signin"),R(!1);return}"signin"!==t||F.get("session_id")||(eo(),console.log("On signin page with no explicit session_id, cleared any existing session")),setTimeout(()=>{C(!0),R(!1),console.log("KYC Context initialized, checking for correct step...")},100)}},[M,F,P,N,el]),(0,n.useEffect)(()=>{N&&!Z.current&&ed()},[N,M,ed]),(0,n.useEffect)(()=>{Z.current=!1},[M]),(0,n.useEffect)(()=>{if(!J.current){let e=F.get("status"),t=F.get("digio_doc_id");e&&t&&(ep(),J.current=!0)}},[ep,M,F]),(0,n.useEffect)(()=>{J.current=!1,U.current=!1},[M]),(0,n.useEffect)(()=>{W.current||(eu(),W.current=!0)},[eu]);let eg=(e,t)=>{S(s=>{if("completed"===t&&"completed"!==s.steps[e]){let o={...s.previouslyCompletedSteps,[e]:!0};return{...s,steps:{...s.steps,[e]:t},previouslyCompletedSteps:o}}return{...s,steps:{...s.steps,[e]:t}}})},em=e=>{S(t=>t.currentStep!==e?{...t,currentStep:e}:t)},ef=(0,n.useCallback)(()=>{if(V.current)return!1;V.current=!0;let e=!1,t={...s.steps};for(let s=0;s<H.length;s++){let o=H[s],n="kyc_".concat(o,"_form");"completed"!==t[o]||localStorage.getItem(n)||(console.log("Step ".concat(o," is marked as completed but has no data. Resetting.")),t[o]="not_started",e=!0)}for(let s=0;s<H.length-1;s++){let o=H[s],n=H[s+1];("failed"===t[o]||"cancelled"===t[o]||"not_started"===t[o])&&("completed"===t[n]||"in_progress"===t[n])&&(console.log("Inconsistent state: ".concat(o," is ").concat(t[o]," but ").concat(n," is ").concat(t[n],". Resetting ").concat(n,".")),t[n]="not_started",e=!0)}if(e){S(e=>({...e,steps:t}));try{localStorage.setItem("kyc_state",JSON.stringify({...s,steps:t}))}catch(e){console.error("Error saving updated KYC state to localStorage:",e)}}return e},[H,s]);(0,n.useEffect)(()=>{N&&ef()},[N,ef]),(0,n.useEffect)(()=>{{let e={...s.steps},t=!1;"completed"!==e.signin||localStorage.getItem("kyc_signin_form")||(e.signin="not_started",t=!0),"completed"!==e["personal-details"]||localStorage.getItem("kyc_personal-details_form")||(e["personal-details"]="not_started",t=!0),"completed"!==e.bank||localStorage.getItem("kyc_bank_form")||(e.bank="not_started",t=!0),"completed"!==e.exchange||localStorage.getItem("kyc_exchange_form")||(e.exchange="not_started",t=!0),"completed"!==e.completion||localStorage.getItem("kyc_completion_form")||(e.completion="not_started",t=!0),t&&S(t=>({...t,steps:e}))}},[s.steps]);let ey=(e,t)=>{sessionStorage.setItem("kyc_last_navigation",JSON.stringify({from:e,to:t,timestamp:Date.now()})),sessionStorage.setItem("kyc_referrer",e),console.log("Navigation tracked: ".concat(e," -> ").concat(t))},eh=e=>{let t=H.indexOf(e);return t<H.length-1?H[t+1]:null},e_=e=>{if(ey(s.currentStep,e),U.current){console.log("Navigation already in progress, ignoring request to navigate to",e);return}if(eu()){console.log("State was fixed, delaying navigation slightly"),setTimeout(()=>{e_(e)},100);return}if("bank"===s.currentStep&&"bank"!==e&&!s.steps.bank.includes("completed")&&!v){x(!0),I(e);return}let t=H.indexOf(e);if(t>0)for(let e=0;e<t;e++){let t=H[e],o="kyc_".concat(t,"_form");if("completed"===s.steps[t]&&!localStorage.getItem(o)){eg(t,"not_started"),P.push((0,c.K)("/kyc/".concat(t)));return}}v&&x(!1),b&&I(null),U.current=!0,console.log("Navigating to step: ".concat(e));let o=(0,c.K)("/kyc/".concat(e)),n=es();n&&"signin"!==e&&(o+="?session_id=".concat(n)),setTimeout(()=>{P.push(o),U.current=!1},100)},ek=e=>{S(t=>({...t,digioDocId:e}))};return(0,o.jsxs)(k.Provider,{value:{state:s,updateStepStatus:eg,setCurrentStep:em,navigateToStep:e_,navigateToPreviousStep:ec,canAccessStep:ea,setSessionId:e=>{sessionStorage.setItem("kyc_session_id",e),console.log("Session ID set in sessionStorage: ".concat(e))},setDigioSessionId:e=>{S(t=>({...t,digioSessionId:e}))},setDigioDocId:ek,setKycId:e=>{S(t=>({...t,kycId:e})),console.log("KYC ID set: ".concat(e))},handleDigioParams:ep,getPreviousStep:er,getNextStep:eh,handleDigioReturn:(e,t)=>{let o;if("success"===t?(o="completed",(0,r.oR)({title:"Verification Successful",description:"Your information has been verified successfully."})):"cancel"===t?(o="cancelled",(0,r.oR)({title:"Verification Cancelled",description:"KYC verification process was cancelled.",variant:"destructive"})):(o="failed",(0,r.oR)({title:"Verification Failed",description:"There was an issue with your verification.",variant:"destructive"})),eg(e,o),"success"===t){let t=H.indexOf(e);if(t<H.length-1&&s.previouslyCompletedSteps){let e={...s.steps},o=!1;for(let n=t+1;n<H.length;n++){let t=H[n];if(s.previouslyCompletedSteps[t]&&localStorage.getItem("kyc_".concat(t,"_form")))e[t]="completed",o=!0,console.log("Restoring previously completed step: ".concat(t));else break}o&&(S(t=>({...t,steps:e})),(0,r.oR)({title:"Previous progress restored",description:"Your previously completed steps have been restored.",variant:"default"}))}}if(U.current=!0,"success"===t){let t=eh(e);t&&(console.log("Success status in handleDigioReturn. Navigating to next step: ".concat(t)),setTimeout(()=>{let e=(0,c.K)("/kyc/".concat(t)),s=es();s&&"signin"!==t&&(e+="?session_id=".concat(s)),P.push(e)},100))}else console.log("Non-success status in handleDigioReturn. Staying on current step: ".concat(e)),setTimeout(()=>{let t=(0,c.K)("/kyc/".concat(e)),s=es();s&&"signin"!==e&&(t+="?session_id=".concat(s)),P.push(t)},100)},showBankConfirmation:v,setShowBankConfirmation:x,pendingNavigation:b,setPendingNavigation:I,validateStepStatuses:ef,trackCompletedStep:e=>{S(t=>({...t,previouslyCompletedSteps:{...t.previouslyCompletedSteps,[e]:!0}}))},fixInconsistentState:eu,getSessionId:es,redirectToCorrectStep:ed,clearSession:eo,checkTokenValidity:e=>!e||!!e.isValid||(j(!0),O(10),G.current&&clearInterval(G.current),G.current=setInterval(()=>{O(e=>e<=1?(clearInterval(G.current),j(!1),P.replace("/kyc/signin"),0):e-1)},1e3),en(),S(_),!1),clearAllKYCData:en,isLocalStorageCleared:()=>{let e=localStorage.getItem("kyc_state"),t=["kyc_signin_form","kyc_personal-details_form","kyc_nominee-poa_form","kyc_bank_form","kyc_exchange_form","kyc_completion_form"].some(e=>localStorage.getItem(e));return!e&&!t},isValidatingAccess:w,isNavigating:D,navigationMessage:A,setNavigationLoading:X,handleStepCompletion:(e,t,s)=>{X(!0,"Completing ".concat(e.replace("-"," ")," step..."));try{localStorage.setItem("kyc_".concat(e,"_form"),JSON.stringify(t)),eg(e,"completed"),(0,r.oR)({title:"Step Completed",description:"".concat(e.replace("-"," ")," information saved successfully.")});let o=s||eh(e)||e;setTimeout(()=>{X(!0,"Redirecting to next step..."),em(o),setTimeout(()=>{e_(o),X(!1)},400)},1e3)}catch(t){console.error("Error completing ".concat(e," step:"),t),X(!1),(0,r.oR)({title:"Error",description:"There was an error saving your information. Please try again.",variant:"destructive"})}},setKYCMode:e=>{S(t=>({...t,kycMode:e})),localStorage.setItem("kyc_mode",e)},isOfflineMode:et},children:[t,(0,o.jsx)(f.N,{children:T&&(0,o.jsx)(i.Lt,{open:!0,onOpenChange:()=>{},children:(0,o.jsxs)(i.EO,{className:"max-w-lg w-full text-center px-6 py-8 rounded-2xl shadow-xl bg-white dark:bg-zinc-900 border border-red-200 dark:border-red-800",children:[(0,o.jsxs)(i.wd,{className:"space-y-3 ",children:[(0,o.jsx)(y.P.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{duration:.4},className:"flex justify-center",children:(0,o.jsx)("div",{className:"bg-red-100 dark:bg-red-900 p-4 rounded-full shadow-inner",children:(0,o.jsx)(d.A,{className:"w-12 h-12 text-red-600 dark:text-red-300"})})}),(0,o.jsx)(y.P.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},exit:{opacity:0,y:15},transition:{duration:.3,delay:.1},children:(0,o.jsxs)("div",{className:"flex flex-col items-center justify-center mx-auto",children:[(0,o.jsx)(i.r7,{className:"text-3xl font-medium text-red-600 dark:text-red-300 mt-6",children:"Your KYC Session Has Expired"}),(0,o.jsxs)(i.$v,{className:"mt-2 text-md text-zinc-700 dark:text-zinc-300 py-1",children:[(0,o.jsx)("p",{className:"text-center",children:"For your security, your session has timed out."}),(0,o.jsxs)("p",{className:"text-center",children:["You'll be redirected to the sign-in page in"," ",(0,o.jsx)("span",{className:"text-red-600 dark:text-red-400 font-semibold",children:E})," ","seconds."]})]})]})})]}),(0,o.jsxs)(y.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.3,delay:.2},className:"w-full mt-4 space-y-2",children:[(0,o.jsx)(h.k,{value:ee.get(),className:"h-3 transition-none bg-zinc-200 dark:bg-zinc-800"}),(0,o.jsxs)(y.P.p,{className:"text-sm text-muted-foreground text-center",children:["Redirecting... ",(0,o.jsx)(y.P.span,{className:"font-medium",children:ee}),"%"]})]}),(0,o.jsx)(y.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},transition:{duration:.25,delay:.4},children:(0,o.jsx)(l.$,{variant:"destructive",size:"lg",className:"mt-6  font-medium tracking-wide rounded-md w-[50%]",onClick:()=>{G.current&&clearInterval(G.current),j(!1),P.replace("/kyc/signin")},children:"Redirect Now"})})]})})})]})}function v(){let e=(0,n.useContext)(k);if(void 0===e)throw Error("useKYC must be used within a KYCProvider");return e}},65564:(e,t,s)=>{s.d(t,{dj:()=>p,oR:()=>u});var o=s(12115);let n=0,a=new Map,r=e=>{if(a.has(e))return;let t=setTimeout(()=>{a.delete(e),d({type:"REMOVE_TOAST",toastId:e})},1e6);a.set(e,t)},c=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?r(s):e.toasts.forEach(e=>{r(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},i=[],l={toasts:[]};function d(e){l=c(l,e),i.forEach(e=>{e(l)})}function u(e){let{...t}=e,s=(n=(n+1)%Number.MAX_SAFE_INTEGER).toString(),o=()=>d({type:"DISMISS_TOAST",toastId:s});return d({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||o()}}}),{id:s,dismiss:o,update:e=>d({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function p(){let[e,t]=o.useState(l);return o.useEffect(()=>(i.push(t),()=>{let e=i.indexOf(t);e>-1&&i.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>d({type:"DISMISS_TOAST",toastId:e})}}},21567:(e,t,s)=>{s.d(t,{cn:()=>a});var o=s(43463),n=s(69795);function a(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,n.QP)((0,o.$)(t))}},83469:(e,t,s)=>{function o(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];{let s=sessionStorage.getItem("clientId"),o="true"===sessionStorage.getItem("branchClientCheck"),n="true"===sessionStorage.getItem("familyClientCheck"),a=s&&(o||n)&&!["/authentication/branch/login"].some(t=>e.startsWith(t)||e.startsWith("branch")),r=new URL(e,window.location.origin);t?r.search="":a&&(r.searchParams.set("clientId",s),o?r.searchParams.set("branchClientCheck","true"):n&&r.searchParams.set("familyClientCheck","true"));let c=r.pathname.endsWith(".html")?r.pathname:"".concat(r.pathname,".html");return"".concat(c).concat(r.search)}}s.d(t,{K:()=>o})}}]);
"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7438],{61594:(e,a,t)=>{t.d(a,{A:()=>r});let r=(0,t(67401).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},14081:(e,a,t)=>{t.d(a,{A:()=>r});let r=(0,t(67401).A)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},93650:(e,a,t)=>{t.d(a,{A:()=>r});let r=(0,t(67401).A)("FileX",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m14.5 12.5-5 5",key:"b62r18"}],["path",{d:"m9.5 12.5 5 5",key:"1rk7el"}]])},77711:(e,a,t)=>{t.d(a,{default:()=>l.a});var r=t(21956),l=t.n(r)},21956:(e,a,t)=>{Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return l}});let r=t(60306)._(t(30580));function l(e,a){var t;let l={};"function"==typeof e&&(l.loader=e);let s={...l,...a};return(0,r.default)({...s,modules:null==(t=s.loadableGenerated)?void 0:t.modules})}("function"==typeof a.default||"object"==typeof a.default&&null!==a.default)&&void 0===a.default.__esModule&&(Object.defineProperty(a.default,"__esModule",{value:!0}),Object.assign(a.default,a),e.exports=a.default)},39827:(e,a,t)=>{Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"BailoutToCSR",{enumerable:!0,get:function(){return l}});let r=t(93719);function l(e){let{reason:a,children:t}=e;if("undefined"==typeof window)throw new r.BailoutToCSRError(a);return t}},30580:(e,a,t)=>{Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return c}});let r=t(95155),l=t(12115),s=t(39827),d=t(79214);function n(e){return{default:e&&"default"in e?e.default:e}}let i={loader:()=>Promise.resolve(n(()=>null)),loading:null,ssr:!0},c=function(e){let a={...i,...e},t=(0,l.lazy)(()=>a.loader().then(n)),c=a.loading;function o(e){let n=c?(0,r.jsx)(c,{isLoading:!0,pastDelay:!0,error:null}):null,i=!a.ssr||!!a.loading,o=i?l.Suspense:l.Fragment,u=a.ssr?(0,r.jsxs)(r.Fragment,{children:["undefined"==typeof window?(0,r.jsx)(d.PreloadChunks,{moduleIds:a.modules}):null,(0,r.jsx)(t,{...e})]}):(0,r.jsx)(s.BailoutToCSR,{reason:"next/dynamic",children:(0,r.jsx)(t,{...e})});return(0,r.jsx)(o,{...i?{fallback:n}:{},children:u})}return o.displayName="LoadableComponent",o}},79214:(e,a,t)=>{Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"PreloadChunks",{enumerable:!0,get:function(){return n}});let r=t(95155),l=t(47650),s=t(75861),d=t(18284);function n(e){let{moduleIds:a}=e;if("undefined"!=typeof window)return null;let t=s.workAsyncStorage.getStore();if(void 0===t)return null;let n=[];if(t.reactLoadableManifest&&a){let e=t.reactLoadableManifest;for(let t of a){if(!e[t])continue;let a=e[t].files;n.push(...a)}}return 0===n.length?null:(0,r.jsx)(r.Fragment,{children:n.map(e=>{let a=t.assetPrefix+"/_next/"+(0,d.encodeURIPath)(e);return e.endsWith(".css")?(0,r.jsx)("link",{precedence:"dynamic",href:a,rel:"stylesheet",as:"style"},e):((0,l.preload)(a,{as:"script",fetchPriority:"low"}),null)})})}},85147:(e,a,t)=>{t.d(a,{A:()=>s});var r=t(95155);t(12115);var l=t(87081);let s=e=>{let{columns:a,rows:t}=e;return(0,r.jsxs)("div",{className:"w-full p-4 space-y-4",children:[(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[...Array(a||4)].map((e,a)=>(0,r.jsx)("div",{className:"h-9 rounded-lg bg-gray-100 dark:bg-gray-800",children:(0,r.jsx)(l.E,{className:"w-full h-full"})},"header-".concat(a)))}),(0,r.jsx)("div",{className:"space-y-2",children:[...Array(t||10)].map((e,t)=>(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[...Array(a||4)].map((e,a)=>(0,r.jsx)("div",{className:"h-12 rounded-lg bg-gray-100 dark:bg-gray-800",children:(0,r.jsx)(l.E,{className:"w-full h-full"})},"cell-".concat(t,"-").concat(a)))},"row-".concat(t)))})]})}},40894:(e,a,t)=>{t.d(a,{A:()=>w});var r=t(95155),l=t(12115),s=t(73312),d=t(22130),n=t(38002),i=t(14505);let c=(0,t(67401).A)("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);var o=t(93650),u=t(61594),m=t(67328),f=t(12711),x=t(47282),h=t(98986),p=t(33900),g=t(85147),y=t(77711),b=t(17733);let j=[{id:"clientId",accessorKey:"clientId",header:"Client ID",cell:e=>{var a;let{row:t}=e,l=null!==(a=t.original.clientId)&&void 0!==a?a:"-";return(0,r.jsx)("div",{className:"font-medium",children:l})}},{id:"mobileNo",accessorKey:"mobileNo",header:"Mobile No"},{id:"message",accessorKey:"message",header:"Message"},{id:"messageType",accessorKey:"messageType",header:"Message Type"},{id:"ownMsgStatus",accessorKey:"ownMsgStatus",header:"Own Message Status"},{id:"whMsgStatus",accessorKey:"whMsgStatus",header:"WhatsApp Message Status"},{id:"reason",accessorKey:"reason",header:"Error"},{id:"createdTime",accessorKey:"createdTime",header:"Created Time",cell:e=>{let{row:a}=e,t=a.original.createdTime;return t?(0,b.GP)(new Date(t),"yyyy-MM-dd HH:mm:ss"):"-"}},{id:"updatedTime",accessorKey:"updatedTime",header:"Updated Time",cell:e=>{let{row:a}=e,t=a.original.updatedTime;return t?(0,b.GP)(new Date(t),"yyyy-MM-dd HH:mm:ss"):"-"}}],v=(0,y.default)(()=>Promise.all([t.e(1122),t.e(3740),t.e(3930),t.e(343),t.e(9690),t.e(4390),t.e(2449),t.e(8417),t.e(4156),t.e(227),t.e(5996),t.e(9368)]).then(t.bind(t,75996)),{loadableGenerated:{webpack:()=>[75996]},ssr:!1,loading:()=>(0,r.jsx)(g.A,{columns:4,rows:10})});function w(e){let{title:a,tabContent:t,defaultTab:y}=e,[b,w]=(0,l.useState)(!1),[N,k]=(0,l.useState)(!1),[M,C]=(0,l.useState)(""),[P,S]=(0,l.useState)(""),[A,D]=(0,l.useState)(!1),[R,T]=(0,l.useState)(y),[F,_]=(0,l.useState)(()=>new Date().toISOString().split("T")[0]),[$,O]=(0,l.useState)([]),[L,E]=(0,l.useState)(!1),[H,I]=(0,l.useState)(null),K=(0,l.useCallback)(async()=>{E(!0),I(null);try{let e=await (0,x.DFb)({date:F});if(!(0,m.k9)(e)){w(!0);return}let a=e.data.data;a&&a.length>0?O(a):O([])}catch(e){console.error("Error fetching CUSPA ledger message logs:",e),I("Failed to load data.")}finally{E(!1)}},[F]);(0,l.useEffect)(()=>{F&&K()},[K,F]);let B=async(e,a)=>{k(!0);try{let r=await e();if(!(0,m.k9)(r)){w(!0);return}if(null==r?void 0:r.data)C("".concat(a," Successful")),S(r.data.message||JSON.stringify(r.data.data));else{var t;throw Error((null==r?void 0:null===(t=r.data)||void 0===t?void 0:t.error)||"Failed to perform ".concat(a))}}catch(e){C("".concat(a," Failed")),S("An error occurred during ".concat(a,". Please try again."))}finally{k(!1),D(!0)}},Z=t[R].icon;return(0,r.jsxs)(f.default,{children:[(0,r.jsx)("div",{className:"mx-auto py-4 px-4 md:px-6",children:(0,r.jsxs)(d.Zp,{className:"w-full shadow-lg border-0",children:[(0,r.jsx)(d.aR,{className:"bg-gradient-to-r from-primary/10 to-primary/5 pb-4",children:(0,r.jsx)(d.ZB,{className:"text-xl font-bold text-center",children:a})}),(0,r.jsx)(d.Wu,{className:"p-0",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row min-h-[400px]",children:[(0,r.jsx)("div",{className:"w-full md:w-64 border-b md:border-b-0 md:border-r border-border/60",children:(0,r.jsx)("div",{className:"p-4 space-y-1",children:Object.entries(t).map(e=>{let[a,{title:t,icon:l}]=e;return(0,r.jsxs)("button",{className:"w-full text-left px-4 py-3 rounded-lg flex items-center gap-3 transition-colors\n                                ".concat(R===a?"bg-primary text-primary-foreground font-medium":"hover:bg-muted text-foreground/80 hover:text-foreground"),onClick:()=>T(a),children:[(0,r.jsx)(l,{className:"h-5 w-5"}),(0,r.jsx)("span",{children:t})]},a)})})}),(0,r.jsxs)("div",{className:"flex-grow flex flex-col items-center justify-center p-2 md:p-10 gap-4",children:[(0,r.jsxs)("div",{className:"w-full flex items-center justify-center flex-col gap-4",children:[(0,r.jsxs)("div",{className:"mb-8 text-center",children:[(0,r.jsx)("div",{className:"inline-flex items-center justify-center h-12 w-12 rounded-full bg-primary/10 mb-4",children:(0,r.jsx)(Z,{className:"h-6 w-6 text-primary"})}),(0,r.jsx)("h3",{className:"text-xl font-semibold mb-2",children:t[R].title}),t[R].description&&(0,r.jsx)("p",{className:"text-muted-foreground",children:t[R].description}),"cuspaLedgerMessage"===R&&(0,r.jsxs)("p",{className:"text-muted-foreground mt-4",children:[(0,r.jsx)("span",{className:"font-medium",children:"\uD83D\uDCC1 Please ensure the input files are placed at the following location before processing:"}),(0,r.jsx)("br",{}),"D:\\CRON\\Files\\CuspaDebit\\$yyyy$\\$MM$$yy$\\$dd$$MM$$yyyy$",(0,r.jsx)("br",{}),(0,r.jsx)("span",{className:"font-medium",children:"\uD83D\uDDD3️ (Replace placeholders with the current date values — e.g., yyyy=2025, MM=06, dd=04, yy=25)"})]})]}),(0,r.jsx)(s.$,{onClick:()=>B(t[R].action,t[R].title),disabled:N,size:"lg",className:"max-w-md w-full h-12",children:N?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.A,{className:"mr-2 h-5 w-5 animate-spin"}),"Processing..."]}):"Process ".concat(t[R].title)})]}),"cuspaLedgerMessage"===R&&(0,r.jsxs)(d.Zp,{className:"w-full shadow-lg",children:[(0,r.jsxs)(d.aR,{children:[(0,r.jsxs)(d.ZB,{className:"text-center flex items-center justify-between gap-2 ",children:["Logs",(0,r.jsxs)(s.$,{variant:"secondary",className:"text-sm",onClick:()=>K(),children:[" ",(0,r.jsx)(c,{className:"mr-1 h-2 w-2"}),"Refresh "]})]}),(0,r.jsxs)("div",{className:"flex flex-col space-y-2 mb-4 w-full sm:w-auto",children:[(0,r.jsx)(h.J,{htmlFor:"date",children:"Date:"}),(0,r.jsx)("div",{className:"flex items-center space-x-2 w-full sm:w-auto",children:(0,r.jsx)(p.p,{id:"date",type:"date",value:F,onChange:e=>{_(e.target.value)},className:"w-full sm:w-38 bg-white text-black placeholder-gray-400"})})]})]}),(0,r.jsxs)(d.Wu,{children:[H&&(0,r.jsx)("div",{className:"text-center text-red-500 p-4 bg-red-100 rounded-md",children:H}),L?(0,r.jsx)(g.A,{columns:5,rows:10}):(0,r.jsx)(r.Fragment,{children:null===$?(0,r.jsx)("p",{}):$.length>0?(0,r.jsx)(v,{columns:j,data:$,showPagination:!1,filterColumn:"clientId",filterPlaceholder:"Filter ClientID..."}):(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center p-4 text-center bg-muted/20 rounded-md border border-dashed border-muted-foreground/20 my-4",children:[(0,r.jsx)("div",{className:"rounded-full bg-muted p-3 mb-4",children:(0,r.jsx)(o.A,{className:"h-8 w-8 text-muted-foreground"})}),(0,r.jsx)("h3",{className:"text-lg font-medium mb-2",children:"No records found"}),(0,r.jsx)("p",{className:"text-muted-foreground mb-4 max-w-md",children:"There are no records available for this criteria."})]})})]})]})]})]})})]})}),b&&(0,r.jsx)(m.Bs,{}),A&&(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:(0,r.jsx)("div",{className:"bg-background rounded-lg shadow-lg max-w-md w-full mx-4 overflow-hidden animate-in fade-in zoom-in duration-300",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)(n.XL,{className:"text-lg font-semibold mb-2 flex items-center gap-2",children:[(0,r.jsx)(u.A,{className:"h-6 w-6 ".concat(M.includes("Failed")?"text-destructive":"text-primary")}),M]}),(0,r.jsx)(n.TN,{className:"text-muted-foreground",children:P}),(0,r.jsx)("div",{className:"flex justify-end mt-6",children:(0,r.jsx)(s.$,{onClick:()=>D(!1),children:"Close"})})]})})})]})}},38002:(e,a,t)=>{t.d(a,{Fc:()=>i,TN:()=>o,XL:()=>c});var r=t(95155),l=t(12115),s=t(31027),d=t(21567);let n=(0,s.F)("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),i=l.forwardRef((e,a)=>{let{className:t,variant:l,...s}=e;return(0,r.jsx)("div",{ref:a,role:"alert",className:(0,d.cn)(n({variant:l}),t),...s})});i.displayName="Alert";let c=l.forwardRef((e,a)=>{let{className:t,...l}=e;return(0,r.jsx)("h5",{ref:a,className:(0,d.cn)("mb-1 font-medium leading-none tracking-tight",t),...l})});c.displayName="AlertTitle";let o=l.forwardRef((e,a)=>{let{className:t,...l}=e;return(0,r.jsx)("div",{ref:a,className:(0,d.cn)("text-sm [&_p]:leading-relaxed",t),...l})});o.displayName="AlertDescription"},22130:(e,a,t)=>{t.d(a,{BT:()=>c,Wu:()=>o,ZB:()=>i,Zp:()=>d,aR:()=>n,wL:()=>u});var r=t(95155),l=t(12115),s=t(21567);let d=l.forwardRef((e,a)=>{let{className:t,...l}=e;return(0,r.jsx)("div",{ref:a,className:(0,s.cn)("rounded-xl border bg-card text-card-foreground shadow mt-7",t),...l})});d.displayName="Card";let n=l.forwardRef((e,a)=>{let{className:t,...l}=e;return(0,r.jsx)("div",{ref:a,className:(0,s.cn)("flex flex-row lg:flex-row md:flex-col sm:flex-col md:items-center md:justify-between p-6 border-b bg-blue-500 mx-3 -mt-6 px-8 pt-4 pb-4 rounded-xl shadow-lg text-white space-y-4 md:space-y-0 mb-4",t),...l})});n.displayName="CardHeader";let i=l.forwardRef((e,a)=>{let{className:t,...l}=e;return(0,r.jsx)("div",{ref:a,className:(0,s.cn)("font-semibold leading-none tracking-tight",t),...l})});i.displayName="CardTitle";let c=l.forwardRef((e,a)=>{let{className:t,...l}=e;return(0,r.jsx)("div",{ref:a,className:(0,s.cn)("text-sm text-muted",t),...l})});c.displayName="CardDescription";let o=l.forwardRef((e,a)=>{let{className:t,...l}=e;return(0,r.jsx)("div",{ref:a,className:(0,s.cn)("p-3 pt-0",t),...l})});o.displayName="CardContent";let u=l.forwardRef((e,a)=>{let{className:t,...l}=e;return(0,r.jsx)("div",{ref:a,className:(0,s.cn)("flex items-center p-3 pt-0",t),...l})});u.displayName="CardFooter"},98986:(e,a,t)=>{t.d(a,{J:()=>c});var r=t(95155),l=t(12115),s=t(46195),d=t(31027),n=t(21567);let i=(0,d.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=l.forwardRef((e,a)=>{let{className:t,...l}=e;return(0,r.jsx)(s.b,{ref:a,className:(0,n.cn)(i(),t),...l})});c.displayName=s.b.displayName},87081:(e,a,t)=>{t.d(a,{E:()=>s});var r=t(95155),l=t(21567);function s(e){let{className:a,...t}=e;return(0,r.jsx)("div",{className:(0,l.cn)("animate-pulse rounded-md bg-primary/10",a),...t})}},21567:(e,a,t)=>{t.d(a,{cn:()=>s});var r=t(43463),l=t(69795);function s(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,l.QP)((0,r.$)(a))}},46195:(e,a,t)=>{t.d(a,{b:()=>n});var r=t(12115),l=t(59997),s=t(95155),d=r.forwardRef((e,a)=>(0,s.jsx)(l.sG.label,{...e,ref:a,onMouseDown:a=>{var t;a.target.closest("button, input, select, textarea")||(null===(t=e.onMouseDown)||void 0===t||t.call(e,a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));d.displayName="Label";var n=d}}]);
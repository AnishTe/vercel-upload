"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9741],{62153:(e,t,r)=>{r.d(t,{A:()=>f});var l=r(95155),s=r(98867),a=r(61594),i=r(66889),d=r(48686),n=r(21567),o=r(24672),c=r(12115),m=r(27461),x=r(25427),u=r(53601);function f(){var e,t;let{state:r,navigateToStep:f,canAccessStep:p,validateStepStatuses:h}=(0,o.b)(),{setErrors:b}=(0,m.Z)(),[g,j]=(0,c.useState)(null),N=(0,c.useMemo)(()=>["signin","personal-details","nominee-poa","bank","exchange","completion"],[]);(0,c.useEffect)(()=>{try{let e=localStorage.getItem("kyc_state");if(!e)return;let t=JSON.parse(e),r=(null==t?void 0:t.steps)||{},l=N.find(e=>(null==r?void 0:r[e])!=="completed");j(l||N[N.length-1])}catch(e){console.error("âŒ Failed to parse kyc_state from localStorage",e)}},[N]),(0,c.useEffect)(()=>{h()},[h]);let w=[{id:"signin",label:"Sign In",description:"Verify your identity"},{id:"personal-details",label:"Personal Details",description:"Provide your information"},{id:"nominee-poa",label:"Nominee & POA",description:"Add nominees and POA"},{id:"bank",label:"Bank",description:"Add bank details"},{id:"exchange",label:"Exchange",description:"Choose exchanges"},{id:"completion",label:"Completion",description:"Completed process!"}],y=w.findIndex(e=>e.id===r.currentStep),v=y<3?w.slice(0,4):y>=w.length-3?w.slice(-4):w.slice(y-1,y+3);return(0,l.jsxs)("div",{className:"w-full",children:[(0,l.jsx)("div",{className:"hidden md:block",children:(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsx)("div",{className:"absolute top-5 left-0 w-full h-0.5 bg-gray-200"}),(0,l.jsx)("ol",{className:"relative flex justify-between",children:w.map((e,t)=>{let o=r.steps[e.id],c=r.currentStep===e.id,m="completed"===o,h="failed"===o,j="in_progress"===o,N=p(e.id),w=e.id===g;return(0,l.jsx)("li",{className:"flex flex-col items-center relative z-10",children:(0,l.jsxs)("div",{onClick:()=>{N&&!m&&f(e.id),b([])},className:(0,n.cn)("flex flex-col items-center cursor-default",N&&!m&&"cursor-pointer",m&&"cursor-not-allowed opacity-75"),children:[(0,l.jsx)("div",{className:(0,n.cn)("flex items-center justify-center w-10 h-10 rounded-full z-10 border-2",m?"bg-green-100 border-green-500 text-green-600":h?"bg-red-100 border-red-500 text-red-600":c?"bg-blue-100 border-blue-500 text-blue-600 ring-4 ring-blue-100":j?"bg-blue-50 border-blue-400 text-blue-500":"bg-white border-gray-300 text-gray-400"),children:m?(0,l.jsx)(s.A,{className:"w-5 h-5"}):h?(0,l.jsx)(a.A,{className:"w-5 h-5"}):c?(0,l.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}):j?(0,l.jsx)(i.A,{className:"w-5 h-5"}):(0,l.jsx)(d.A,{className:"w-4 h-4"})}),w&&!c?(0,l.jsx)(u.Bc,{children:(0,l.jsxs)(u.m_,{children:[(0,l.jsx)(u.k$,{asChild:!0,children:(0,l.jsx)(x.P.span,{animate:{y:[5,-5,5]},transition:{duration:1,repeat:1/0,repeatType:"loop",ease:"easeInOut"},className:"absolute -top-2 -right-2 bg-gradient-to-r from-blue-500 to-cyan-500 text-white text-[10px] font-semibold px-2 py-[2px] rounded-full shadow-md ring-2 ring-white z-10",children:"Click to View"})}),(0,l.jsx)(u.ZI,{className:"text-xs max-w-xs",children:"This is the next step you need to complete. Click here to jump."})]})}):c?(0,l.jsxs)("span",{className:"absolute -top-1 -right-1 flex h-4 w-10",children:[(0,l.jsx)("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-blue-400 opacity-75 z-10"}),(0,l.jsx)("span",{className:"relative inline-flex rounded-full h-4 w-10 bg-blue-500 text-[10px] text-white justify-center items-center font-medium z-10",children:"Now"})]}):null,j&&(0,l.jsx)("span",{className:"absolute -top-1 -right-1 inline-flex rounded-full h-4 px-2 bg-blue-500 text-[10px] text-white justify-center items-center font-medium z-10",children:"In Progress"}),(0,l.jsxs)("div",{className:(0,n.cn)("mt-3 text-center",N&&!m?"cursor-pointer":"cursor-not-allowed opacity-75"),children:[(0,l.jsx)("p",{className:(0,n.cn)("text-sm font-medium",c?"font-bold text-blue-700":m?"font-medium text-green-700":"font-normal text-gray-600"),children:e.label}),(0,l.jsx)("p",{className:(0,n.cn)("text-xs mt-0.5",c?"text-blue-600":"text-gray-500"),children:e.description})]})]})},e.id)})})]})}),(0,l.jsxs)("div",{className:"md:hidden",children:[(0,l.jsx)("div",{className:"relative",children:(0,l.jsxs)("div",{className:"flex justify-between px-4 py-2",children:[(0,l.jsx)("div",{className:"absolute top-[22px] left-[40px] right-[40px] h-0.5 bg-gray-200 z-0"}),v.map((e,t)=>{let o=r.steps[e.id],c=r.currentStep===e.id,m="completed"===o,h="failed"===o,j="in_progress"===o,N=p(e.id),w=e.id===g;return(0,l.jsxs)("div",{className:(0,n.cn)("flex flex-col items-center relative",c&&"scale-110"),onClick:()=>{N&&!m&&f(e.id),b([])},style:{cursor:N&&!m?"pointer":"not-allowed"},children:[(0,l.jsx)("div",{className:(0,n.cn)("flex items-center justify-center w-10 h-10 rounded-full z-10 border-2",m?"bg-green-100 border-green-500 text-green-600":h?"bg-red-100 border-red-500 text-red-600":c?"bg-blue-100 border-blue-500 text-blue-600 ring-4 ring-blue-100":j?"bg-blue-50 border-blue-400 text-blue-500":"bg-white border-gray-300 text-gray-400"),children:m?(0,l.jsx)(s.A,{className:"w-5 h-5"}):h?(0,l.jsx)(a.A,{className:"w-5 h-5"}):c?(0,l.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}):j?(0,l.jsx)(i.A,{className:"w-5 h-5"}):(0,l.jsx)(d.A,{className:"w-4 h-4"})}),w&&!c?(0,l.jsx)(u.Bc,{children:(0,l.jsxs)(u.m_,{children:[(0,l.jsx)(u.k$,{asChild:!0,children:(0,l.jsx)(x.P.span,{animate:{y:[5,-5,5]},transition:{duration:1,repeat:1/0,repeatType:"loop",ease:"easeInOut"},className:"absolute -top-2 -right-2 bg-gradient-to-r from-blue-500 to-cyan-500 text-white text-[10px] font-semibold px-2 py-[2px] rounded-full shadow-md ring-2 ring-white z-10",children:"Click to View"})}),(0,l.jsx)(u.ZI,{className:"text-xs max-w-xs",children:"This is the next step you need to complete. Click here to jump."})]})}):c?(0,l.jsxs)("span",{className:"absolute -top-1 -right-1 flex h-4 w-10",children:[(0,l.jsx)("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-blue-400 opacity-75 z-10"}),(0,l.jsx)("span",{className:"relative inline-flex rounded-full h-4 w-10 bg-blue-500 text-[10px] text-white justify-center items-center font-medium z-10",children:"Now"})]}):null,(0,l.jsx)("div",{className:(0,n.cn)("mt-2 text-center",N&&!m?"cursor-pointer":"cursor-not-allowed opacity-70"),children:(0,l.jsx)("p",{className:(0,n.cn)("text-xs font-medium",c?"font-bold text-blue-700":m?"font-medium text-green-700":"font-normal text-gray-600"),children:e.label})})]},e.id)})]})}),(0,l.jsx)("div",{className:"mt-4 bg-gradient-to-r from-blue-50 to-blue-100 p-3 rounded-lg border border-blue-200",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"mr-3 bg-blue-100 p-2 rounded-full",children:(()=>{let e=w.find(e=>e.id===r.currentStep),t=e?r.steps[e.id]:null;return"completed"===t?(0,l.jsx)(s.A,{className:"h-5 w-5 text-green-600"}):"failed"===t?(0,l.jsx)(a.A,{className:"h-5 w-5 text-red-600"}):"in_progress"===t||r.currentStep===(null==e?void 0:e.id)?(0,l.jsx)(i.A,{className:"h-5 w-5 text-blue-600"}):(0,l.jsx)(d.A,{className:"h-5 w-5 text-gray-600"})})()}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("h3",{className:"font-medium text-blue-800",children:["Step ",w.findIndex(e=>e.id===r.currentStep)+1,":"," ",null===(e=w.find(e=>e.id===r.currentStep))||void 0===e?void 0:e.label]}),(0,l.jsx)("p",{className:"text-xs text-blue-600",children:null===(t=w.find(e=>e.id===r.currentStep))||void 0===t?void 0:t.description})]})]})})]})]})}},22130:(e,t,r)=>{r.d(t,{BT:()=>o,Wu:()=>c,ZB:()=>n,Zp:()=>i,aR:()=>d,wL:()=>m});var l=r(95155),s=r(12115),a=r(21567);let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,l.jsx)("div",{ref:t,className:(0,a.cn)("rounded-xl border bg-card text-card-foreground shadow mt-7",r),...s})});i.displayName="Card";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,l.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-row lg:flex-row md:flex-col sm:flex-col md:items-center md:justify-between p-6 border-b bg-blue-500 mx-3 -mt-6 px-8 pt-4 pb-4 rounded-xl shadow-lg text-white space-y-4 md:space-y-0 mb-4",r),...s})});d.displayName="CardHeader";let n=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,l.jsx)("div",{ref:t,className:(0,a.cn)("font-semibold leading-none tracking-tight",r),...s})});n.displayName="CardTitle";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,l.jsx)("div",{ref:t,className:(0,a.cn)("text-sm text-muted",r),...s})});o.displayName="CardDescription";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,l.jsx)("div",{ref:t,className:(0,a.cn)("p-3 pt-0",r),...s})});c.displayName="CardContent";let m=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,l.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-3 pt-0",r),...s})});m.displayName="CardFooter"},44870:(e,t,r)=>{r.d(t,{C5:()=>g,MJ:()=>h,Rr:()=>b,eI:()=>f,lR:()=>p,lV:()=>o,zB:()=>m});var l=r(95155),s=r(12115),a=r(14707),i=r(69606),d=r(21567),n=r(98986);let o=i.Op,c=s.createContext({}),m=e=>{let{...t}=e;return(0,l.jsx)(c.Provider,{value:{name:t.name},children:(0,l.jsx)(i.xI,{...t})})},x=()=>{let e=s.useContext(c),t=s.useContext(u),{getFieldState:r,formState:l}=(0,i.xW)(),a=r(e.name,l);if(!e)throw Error("useFormField should be used within <FormField>");let{id:d}=t;return{id:d,name:e.name,formItemId:"".concat(d,"-form-item"),formDescriptionId:"".concat(d,"-form-item-description"),formMessageId:"".concat(d,"-form-item-message"),...a}},u=s.createContext({}),f=s.forwardRef((e,t)=>{let{className:r,...a}=e,i=s.useId();return(0,l.jsx)(u.Provider,{value:{id:i},children:(0,l.jsx)("div",{ref:t,className:(0,d.cn)("space-y-2",r),...a})})});f.displayName="FormItem";let p=s.forwardRef((e,t)=>{let{className:r,...s}=e,{error:a,formItemId:i}=x();return(0,l.jsx)(n.J,{ref:t,className:(0,d.cn)(a&&"text-destructive",r),htmlFor:i,...s})});p.displayName="FormLabel";let h=s.forwardRef((e,t)=>{let{...r}=e,{error:s,formItemId:i,formDescriptionId:d,formMessageId:n}=x();return(0,l.jsx)(a.DX,{ref:t,id:i,"aria-describedby":s?"".concat(d," ").concat(n):"".concat(d),"aria-invalid":!!s,...r})});h.displayName="FormControl";let b=s.forwardRef((e,t)=>{let{className:r,...s}=e,{formDescriptionId:a}=x();return(0,l.jsx)("p",{ref:t,id:a,className:(0,d.cn)("text-[0.8rem] text-muted-foreground",r),...s})});b.displayName="FormDescription";let g=s.forwardRef((e,t)=>{let{className:r,children:s,...a}=e,{error:i,formMessageId:n}=x(),o=i?String(null==i?void 0:i.message):s;return o?(0,l.jsx)("p",{ref:t,id:n,className:(0,d.cn)("text-[0.8rem] font-medium text-destructive",r),...a,children:o}):null});g.displayName="FormMessage"},98986:(e,t,r)=>{r.d(t,{J:()=>o});var l=r(95155),s=r(12115),a=r(46195),i=r(31027),d=r(21567);let n=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,l.jsx)(a.b,{ref:t,className:(0,d.cn)(n(),r),...s})});o.displayName=a.b.displayName},53601:(e,t,r)=>{r.d(t,{Bc:()=>d,ZI:()=>c,k$:()=>o,m_:()=>n});var l=r(95155),s=r(12115),a=r(28007),i=r(21567);let d=a.Kq,n=a.bL,o=a.l9,c=s.forwardRef((e,t)=>{let{className:r,sideOffset:s=4,...d}=e;return(0,l.jsx)(a.ZL,{children:(0,l.jsx)(a.UC,{ref:t,sideOffset:s,className:(0,i.cn)("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...d})})});c.displayName=a.UC.displayName},27461:(e,t,r)=>{r.d(t,{KYCErrorProvider:()=>d,Z:()=>i});var l=r(95155),s=r(12115);let a=(0,s.createContext)(void 0),i=()=>{let e=(0,s.useContext)(a);if(!e)throw Error("useKYCError must be used within KYCErrorProvider");return e},d=e=>{let{children:t}=e,[r,i]=(0,s.useState)([]),d=(0,s.useRef)({});return(0,l.jsx)(a.Provider,{value:{errors:r,setErrors:i,registerFieldRef:e=>t=>{t&&(d.current[e]=t)},scrollToField:e=>{console.log(e);let t=Array.isArray(e)?e.join("."):e,r=d.current[t];if(console.log(r),r){let e=r.getBoundingClientRect().top+window.scrollY-170;window.scrollTo({top:e,behavior:"smooth"}),r.classList.add("field-error-highlight"),setTimeout(()=>{r.classList.remove("field-error-highlight")},2e3)}}},children:t})}}}]);
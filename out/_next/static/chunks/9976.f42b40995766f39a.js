(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9976],{50477:()=>{},21772:(e,l,t)=>{"use strict";t.r(l),t.d(l,{default:()=>_});var s=t(95155),a=t(12115),r=t(92952),n=t(73312),i=t(22130),o=t(44870),d=t(33900),c=t(12711),u=t(87081),x=t(77594),h=t(20853),m=t(44857),f=t(80738),y=t(92598),j=t(17733),b=t(69606),p=t(67328),g=t(38003),C=t(43415),v=t(85060),w=t(47282),N=t(97307),E=t(84179),S=t(37528);r.KQ.register({family:"Courier",fonts:[{src:"https://fonts.gstatic.com/s/courierprime/v9/u-450q2lgwslOqpF_6gQ8kELaw9pWt_-.ttf"},{src:"https://fonts.gstatic.com/s/courierprime/v9/u-4k0q2lgwslOqpF_6gQ8kELY7pMf-fVqvHoJXw.ttf",fontWeight:800}]});let Y=r.vv.create({page:{fontFamily:"Courier",fontWeight:700,fontSize:10,padding:30},bgColor:{backgroundColor:"#f0f8ff"},section:{margin:5,padding:5},table:{display:"flex",width:"auto",borderStyle:"solid",borderWidth:1,borderRightWidth:0,borderBottomWidth:0,margin:5},tableRowCustom:{border:"none",textAlign:"center",margin:"auto",flexDirection:"row"},tableRow:{margin:"auto",flexDirection:"row"},tableCol:{width:"16.66%",borderStyle:"solid",borderWidth:1,borderLeftWidth:0,borderTopWidth:0,display:"flex",flexDirection:"column",justifyContent:"space-between"},tableCell:{textAlign:"center",margin:5,fontSize:10},textCenter:{textAlign:"center"},flexBetween:{display:"flex",flexDirection:"row",justifyContent:"space-between"},flexColumn:{display:"flex",flexDirection:"column"},formRow:{display:"flex",flexDirection:"row",marginBottom:2},labelCol:{width:"35%",fontFamily:"Courier",fontSize:10},valueCol:{width:"65%",fontFamily:"Courier",fontSize:10,paddingLeft:5},signatureSection:{display:"flex",flexDirection:"row",justifyContent:"space-between",width:"100%",marginTop:10},leftColumn:{display:"flex",flexDirection:"column",gap:5},rightColumn:{alignSelf:"flex-end",marginTop:20},codeMainContent:{width:"90%"},codeNumber:{width:"10%",textAlign:"right"},indentedContinuation:{marginLeft:10},codeRow:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"flex-start"},mainText:{flex:1},numberColumn:{width:20,textAlign:"right"},codeValue:{width:30,textAlign:"right"},subPoint:{marginLeft:12,paddingRight:20,display:"flex",flexDirection:"row"},subPointNumber:{width:25},subPointText:{flex:1},codeRow1:{display:"flex",flexDirection:"row",alignItems:"flex-start"},numberColumn1:{width:30,marginRight:3},mainText1:{flex:1,paddingRight:5},pageNumber:{position:"absolute",fontSize:12,bottom:30,right:30,color:"grey"},footer:{position:"absolute",bottom:30,left:30,right:30,textAlign:"right",fontSize:12}}),T=()=>(0,s.jsxs)(r.Ss,{fixed:!0,style:{marginBottom:3},children:[(0,s.jsxs)(r.Ss,{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:"100%"},children:[(0,s.jsx)(r.Ss,{style:{width:"20%"},children:(0,s.jsx)(r._V,{src:"/faviconFull.jpg",style:{width:100}})}),(0,s.jsxs)(r.Ss,{style:{width:"60%",display:"flex",alignItems:"flex-start",justifyContent:"flex-start"},children:[(0,s.jsx)(r.EY,{style:[Y.textCenter,{width:"100%"}],children:"PUNE E STOCK BROKING LIMITED"}),(0,s.jsx)(r.EY,{style:[Y.textCenter,{width:"100%"}],children:"186:STT Certificate"}),(0,s.jsx)(r.EY,{style:[Y.textCenter,{width:"100%"}],children:"Form No. 10DB"})]}),(0,s.jsx)(r.Ss,{style:{width:"20%"}})]}),(0,s.jsxs)(r.Ss,{style:{backgroundColor:"#9999cc",padding:5,margin:5},children:[(0,s.jsx)(r.EY,{style:Y.textCenter,children:"(See rule 20AB)"}),(0,s.jsx)(r.EY,{style:Y.textCenter,children:"Form for evidence of payment of Securities Transaction Tax on"}),(0,s.jsx)(r.EY,{style:Y.textCenter,children:"transactions entered in a Recognised Stock Exchange."})]})]}),D=e=>{var l,t,a,n,i,o,d,c,u,x,h,m,f,y,j;let{data:b,fromDate:p,toDate:g}=e,C=(null!==(m=null==b?void 0:b.tableDetails)&&void 0!==m?m:[]).reduce((e,l)=>e+(Number.parseFloat(null==l?void 0:l.TOTAL_EXCHANGE_VALUE)||0),0).toFixed(2),v=(null!==(f=null==b?void 0:b.tableDetails)&&void 0!==f?f:[]).reduce((e,l)=>e+(Number.parseFloat(null==l?void 0:l.TOTAL_EXCHANGE_STT)||0),0).toFixed(2),w=(null!==(y=null==b?void 0:b.tableDetails)&&void 0!==y?y:[]).reduce((e,l)=>e+(Number.parseFloat(null==l?void 0:l.TOTAL_ACCOUNT_VALUE)||0),0).toFixed(2),N=(null!==(j=null==b?void 0:b.tableDetails)&&void 0!==j?j:[]).reduce((e,l)=>e+(Number.parseFloat(null==l?void 0:l.TOTAL_ACCOUNT_STT)||0),0).toFixed(2);return(0,s.jsx)(r.yo,{children:(0,s.jsxs)(r.YW,{size:"A4",style:Y.page,children:[(0,s.jsx)(T,{}),(0,s.jsxs)(r.Ss,{children:[(0,s.jsxs)(r.Ss,{style:[Y.section,Y.bgColor],children:[(0,s.jsxs)(r.Ss,{style:Y.formRow,children:[(0,s.jsx)(r.EY,{style:Y.labelCol,children:"1. Name of the Assessee :"}),(0,s.jsx)(r.EY,{style:Y.valueCol,children:(null==b?void 0:null===(l=b.common)||void 0===l?void 0:l.CLIENT_NAME)||""})]}),(0,s.jsxs)(r.Ss,{style:Y.formRow,children:[(0,s.jsx)(r.EY,{style:Y.labelCol,children:"2. Address of the Assessee :"}),(0,s.jsx)(r.EY,{style:Y.valueCol,children:(null==b?void 0:null===(t=b.common)||void 0===t?void 0:t.RESI_ADD)||""})]}),(0,s.jsxs)(r.Ss,{style:Y.formRow,children:[(0,s.jsx)(r.EY,{style:Y.labelCol,children:"3. PAN No. of the Assessee :"}),(0,s.jsx)(r.EY,{style:Y.valueCol,children:(null==b?void 0:null===(a=b.common)||void 0===a?void 0:a.PAN_NO)||""})]}),(0,s.jsxs)(r.Ss,{style:Y.formRow,children:[(0,s.jsx)(r.EY,{style:Y.labelCol,children:"4. MAP-IN Id of the Assessee:"}),(0,s.jsx)(r.EY,{style:Y.valueCol,children:(null==b?void 0:null===(n=b.common)||void 0===n?void 0:n.MAPIN)||""})]}),(0,s.jsxs)(r.Ss,{style:Y.formRow,children:[(0,s.jsx)(r.EY,{style:Y.labelCol,children:"5. Stock Exchange :"}),(0,s.jsx)(r.EY,{style:Y.valueCol,children:(null==b?void 0:null===(i=b.common)||void 0===i?void 0:i.EXCHANGE_NAME)||""})]}),(0,s.jsxs)(r.Ss,{style:Y.formRow,children:[(0,s.jsx)(r.EY,{style:Y.labelCol,children:"6. Financial Year :"}),(0,s.jsxs)(r.EY,{style:Y.valueCol,children:[p||""," - ",g||""]})]}),(0,s.jsxs)(r.Ss,{style:Y.formRow,children:[(0,s.jsx)(r.EY,{style:Y.labelCol,children:"7. Brokers Name :"}),(0,s.jsx)(r.EY,{style:Y.valueCol,children:(null==b?void 0:null===(o=b.common)||void 0===o?void 0:o.COMPANY_NAME)||""})]}),(0,s.jsxs)(r.Ss,{style:Y.formRow,children:[(0,s.jsx)(r.EY,{style:Y.labelCol,children:"8. Brokers Address :"}),(0,s.jsx)(r.EY,{style:Y.valueCol,children:(null==b?void 0:null===(d=b.common)||void 0===d?void 0:d.COMPANY_ADDRESS)||""})]}),(0,s.jsxs)(r.Ss,{style:Y.formRow,children:[(0,s.jsx)(r.EY,{style:Y.labelCol}),(0,s.jsx)(r.EY,{style:Y.valueCol,children:(null==b?void 0:null===(c=b.common)||void 0===c?void 0:c.COMPANY_ADDRESS2)||""})]}),(0,s.jsxs)(r.Ss,{style:Y.formRow,children:[(0,s.jsx)(r.EY,{style:Y.labelCol,children:"9. Broker Code :"}),(0,s.jsx)(r.EY,{style:Y.valueCol,children:(null==b?void 0:null===(u=b.common)||void 0===u?void 0:u.BROKER_CODE)||""})]}),(0,s.jsx)(r.Ss,{style:Y.formRow,children:(0,s.jsx)(r.EY,{children:"10. Details of Value of Securities Transactions and Securities Transaction Tax Collected from the Assessee :"})})]}),(0,s.jsxs)(r.Ss,{style:Y.table,children:[(0,s.jsxs)(r.Ss,{style:[Y.tableRow,Y.bgColor],children:[(0,s.jsxs)(r.Ss,{style:Y.tableCol,children:[(0,s.jsx)(r.EY,{style:Y.tableCell,children:"Client Code number"}),(0,s.jsx)(r.EY,{style:Y.tableCell,children:"(1)"})]}),(0,s.jsxs)(r.Ss,{style:Y.tableCol,children:[(0,s.jsx)(r.EY,{style:Y.tableCell,children:"Trans Code"}),(0,s.jsx)(r.EY,{style:Y.tableCell,children:"(2)"})]}),(0,s.jsxs)(r.Ss,{style:Y.tableCol,children:[(0,s.jsx)(r.EY,{style:Y.tableCell,children:"Value of transaction enter into during financial year"}),(0,s.jsx)(r.EY,{style:Y.tableCell,children:"(3)"})]}),(0,s.jsxs)(r.Ss,{style:Y.tableCol,children:[(0,s.jsx)(r.EY,{style:Y.tableCell,children:"Total securities transaction tax collected from assessee during financial year"}),(0,s.jsx)(r.EY,{style:Y.tableCell,children:"(4)"})]}),(0,s.jsxs)(r.Ss,{style:Y.tableCol,children:[(0,s.jsx)(r.EY,{style:Y.tableCell,children:"Value of transaction (included in value given in column 3) entered into the Course of Business by the assessee"}),(0,s.jsx)(r.EY,{style:Y.tableCell,children:"(5)"})]}),(0,s.jsxs)(r.Ss,{style:Y.tableCol,children:[(0,s.jsx)(r.EY,{style:Y.tableCell,children:"Securities transaction tax collected on value of transaction given in column 5"}),(0,s.jsx)(r.EY,{style:Y.tableCell,children:"(6)"})]})]}),null==b?void 0:null===(x=b.tableDetails)||void 0===x?void 0:x.map((e,l)=>{var t;return(0,s.jsxs)(r.Ss,{style:Y.tableRow,children:[(0,s.jsx)(r.Ss,{style:Y.tableCol,children:(0,s.jsx)(r.EY,{style:Y.tableCell,children:(null==b?void 0:null===(t=b.common)||void 0===t?void 0:t.CLIENT_ID)||""})}),(0,s.jsx)(r.Ss,{style:Y.tableCol,children:(0,s.jsx)(r.EY,{style:Y.tableCell,children:(null==e?void 0:e.TRANS_CODE)||""})}),(0,s.jsx)(r.Ss,{style:Y.tableCol,children:(0,s.jsx)(r.EY,{style:Y.tableCell,children:(null==e?void 0:e.TOTAL_EXCHANGE_VALUE)?Number.parseFloat(e.TOTAL_EXCHANGE_VALUE).toFixed(2):"0.00"})}),(0,s.jsx)(r.Ss,{style:Y.tableCol,children:(0,s.jsx)(r.EY,{style:Y.tableCell,children:(null==e?void 0:e.TOTAL_EXCHANGE_STT)?Number.parseFloat(e.TOTAL_EXCHANGE_STT).toFixed(2):"0.00"})}),(0,s.jsx)(r.Ss,{style:Y.tableCol,children:(0,s.jsx)(r.EY,{style:Y.tableCell,children:(null==e?void 0:e.TOTAL_ACCOUNT_VALUE)?Number.parseFloat(e.TOTAL_ACCOUNT_VALUE).toFixed(2):"0.00"})}),(0,s.jsx)(r.Ss,{style:Y.tableCol,children:(0,s.jsx)(r.EY,{style:Y.tableCell,children:(null==e?void 0:e.TOTAL_ACCOUNT_STT)?Number.parseFloat(e.TOTAL_ACCOUNT_STT).toFixed(2):"0.00"})})]},l)}),(0,s.jsxs)(r.Ss,{style:[Y.tableRow,Y.bgColor],children:[(0,s.jsx)(r.Ss,{style:Y.tableCol,children:(0,s.jsx)(r.EY,{style:Y.tableCell,children:"** TOTAL **"})}),(0,s.jsx)(r.Ss,{style:Y.tableCol,children:(0,s.jsx)(r.EY,{style:Y.tableCell})}),(0,s.jsx)(r.Ss,{style:Y.tableCol,children:(0,s.jsx)(r.EY,{style:Y.tableCell,children:C})}),(0,s.jsx)(r.Ss,{style:Y.tableCol,children:(0,s.jsx)(r.EY,{style:Y.tableCell,children:v})}),(0,s.jsx)(r.Ss,{style:Y.tableCol,children:(0,s.jsx)(r.EY,{style:Y.tableCell,children:w})}),(0,s.jsx)(r.Ss,{style:Y.tableCol,children:(0,s.jsx)(r.EY,{style:Y.tableCell,children:N})})]})]}),(0,s.jsxs)(r.Ss,{style:[Y.bgColor],children:[(0,s.jsxs)(r.Ss,{style:[Y.section],children:[(0,s.jsx)(r.EY,{style:Y.textCenter,children:"VERIFICATION"}),(0,s.jsxs)(r.Ss,{style:Y.flexBetween,children:[(0,s.jsxs)(r.EY,{children:["I, ",(null==b?void 0:null===(h=b.common)||void 0===h?void 0:h.CLIENT_NAME)||""]}),(0,s.jsx)(r.EY,{children:", Son / Daughter of"})]}),(0,s.jsx)(r.EY,{children:"solemnly declare that to the best of my knowledge and belief the information given in this Form is correct and complete and that the total amount of securities transaction tax shown therein is truly stated and is in accordance with the provisions of Chapter VII of the Finance (No. 2) Act, 2004 and Securities Transaction Tax Rules, 2004."}),(0,s.jsxs)(r.Ss,{style:Y.signatureSection,children:[(0,s.jsxs)(r.Ss,{style:Y.leftColumn,children:[(0,s.jsx)(r.EY,{children:"Date :"}),(0,s.jsx)(r.EY,{children:"Place :"})]}),(0,s.jsxs)(r.Ss,{style:Y.rightColumn,children:[(0,s.jsx)(r.EY,{}),(0,s.jsx)(r.EY,{children:"(Name & Signature of the Assessee)"})]})]})]}),(0,s.jsxs)(r.Ss,{style:[Y.section],children:[(0,s.jsxs)(r.Ss,{style:[Y.codeRow,{margin:"5 0"}],children:[(0,s.jsx)(r.EY,{style:[Y.textCenter,{flex:1}],children:"Codes in Respect Of Taxable Securities Transaction"}),(0,s.jsx)(r.EY,{style:Y.codeValue,children:"Code"})]}),(0,s.jsxs)(r.Ss,{style:Y.codeRow,children:[(0,s.jsx)(r.EY,{style:Y.numberColumn,children:"1)"}),(0,s.jsx)(r.EY,{style:Y.mainText,children:"Purchase of an equity share in a company of the unit of an equity oriented fund. Where"}),(0,s.jsx)(r.EY,{style:Y.codeValue,children:"01"})]}),(0,s.jsxs)(r.Ss,{style:Y.subPoint,children:[(0,s.jsx)(r.EY,{style:Y.subPointNumber,children:"(a)"}),(0,s.jsx)(r.EY,{style:Y.subPointText,children:"the transaction of such purchase is enter into in the recognise stock exchange and"})]}),(0,s.jsxs)(r.Ss,{style:Y.subPoint,children:[(0,s.jsx)(r.EY,{style:Y.subPointNumber,children:"(b)"}),(0,s.jsx)(r.EY,{style:Y.subPointText,children:"the contract for purchase of such shares or unit is settled by actual delivery of transfer of such share or unit"})]}),(0,s.jsxs)(r.Ss,{style:Y.codeRow,children:[(0,s.jsx)(r.EY,{style:Y.numberColumn,children:"2)"}),(0,s.jsx)(r.EY,{style:Y.mainText,children:"Sale of an equity share in a company of a unit of an equity oriented fund. Where"}),(0,s.jsx)(r.EY,{style:Y.codeValue,children:"02"})]}),(0,s.jsxs)(r.Ss,{style:Y.subPoint,children:[(0,s.jsx)(r.EY,{style:Y.subPointNumber,children:"(a)"}),(0,s.jsx)(r.EY,{style:Y.subPointText,children:"transaction of such sale is entered into recognized stock exchange and"})]}),(0,s.jsxs)(r.Ss,{style:Y.subPoint,children:[(0,s.jsx)(r.EY,{style:Y.subPointNumber,children:"(b)"}),(0,s.jsx)(r.EY,{style:Y.subPointText,children:"the contract for sale of such shares or unit is settled by actual delivery of transfer of such share or unit"})]}),(0,s.jsxs)(r.Ss,{style:Y.codeRow,children:[(0,s.jsx)(r.EY,{style:Y.numberColumn,children:"3)"}),(0,s.jsx)(r.EY,{style:Y.mainText,children:"Sale of an equity share in a company of a unit of an equity oriented fund. Where"}),(0,s.jsx)(r.EY,{style:Y.codeValue,children:"03"})]}),(0,s.jsxs)(r.Ss,{style:Y.subPoint,children:[(0,s.jsx)(r.EY,{style:Y.subPointNumber,children:"(a)"}),(0,s.jsx)(r.EY,{style:Y.subPointText,children:"transaction of such sale is entered into recognized stock exchange and"})]}),(0,s.jsxs)(r.Ss,{style:Y.subPoint,children:[(0,s.jsx)(r.EY,{style:Y.subPointNumber,children:"(b)"}),(0,s.jsx)(r.EY,{style:Y.subPointText,children:"the contract for sale of such shares or units settled other than by the actual delivery of transfer of such share or unit"})]}),(0,s.jsxs)(r.Ss,{style:Y.codeRow,children:[(0,s.jsx)(r.EY,{style:Y.numberColumn,children:"4)"}),(0,s.jsx)(r.EY,{style:Y.mainText,children:"Sale of derivative being option in securities where in transaction of such sale is entered into an recognized stock exchange"}),(0,s.jsx)(r.EY,{style:Y.codeValue,children:"04"})]}),(0,s.jsxs)(r.Ss,{style:Y.codeRow,children:[(0,s.jsx)(r.EY,{style:Y.numberColumn,children:"5)"}),(0,s.jsx)(r.EY,{style:Y.mainText,children:"Sales of derivatives being future, where the transaction of such sale is entered into a recognized stock exchange"}),(0,s.jsx)(r.EY,{style:Y.codeValue,children:"05"})]})]}),(0,s.jsxs)(r.Ss,{style:[Y.section],children:[(0,s.jsx)(r.EY,{style:Y.textCenter,children:"Instructions:"}),(0,s.jsxs)(r.Ss,{style:Y.codeRow1,children:[(0,s.jsx)(r.EY,{style:Y.numberColumn1,children:"(i)"}),(0,s.jsx)(r.EY,{style:Y.mainText1,children:"Where an assessee has entered into transactions in a stock exchange under different client code through the same stock broker, details in this Form be filled separately for each such client code."})]}),(0,s.jsxs)(r.Ss,{style:Y.codeRow1,children:[(0,s.jsx)(r.EY,{style:Y.numberColumn1,children:"(ii)"}),(0,s.jsx)(r.EY,{style:Y.mainText1,children:"Separate Form be furnished in respect of transactions entered into in different stock exchanges and also for the transactions entered in same stock exchange through different stock brokers."})]}),(0,s.jsxs)(r.Ss,{style:Y.codeRow1,children:[(0,s.jsx)(r.EY,{style:Y.numberColumn1,children:"(iii)"}),(0,s.jsx)(r.EY,{style:Y.mainText1,children:"In column 4 of Table of item 10, fill the details of securities transaction tax collected by the stock broker from the assessee."})]}),(0,s.jsxs)(r.Ss,{style:Y.codeRow1,children:[(0,s.jsx)(r.EY,{style:Y.numberColumn1,children:"(iv)"}),(0,s.jsx)(r.EY,{style:Y.mainText1,children:"Where the assessee entering into a transaction is a stock broker on which securities transaction tax has to be paid by him, item 1 and item 7 shall be same and such assessee shall, in column 4 of the Table of item 10, fill the details of securities transaction tax collected from him by the stock exchange."})]})]})]})]})]})})};var A=t(76046);let R=e=>{if(!e)return"";let l=new Date(e);return(0,j.GP)(l,"dd/MM/yyyy")},F=e=>{if(!e)return"";let[l,t,s]=e.split("/");return"".concat(s,"-").concat(t,"-").concat(l)},_=()=>{var e;let[l,t]=a.useState(!1),[Y,T]=(0,a.useState)(!1),[_,P]=(0,a.useState)(!1),[k,O]=(0,a.useState)(null),[I,L]=(0,a.useState)(null),[M,V]=(0,a.useState)(null),[B,U]=(0,a.useState)(!1),[q,z]=(0,a.useState)({common:{},tableDetails:[],length:0}),{currentUser:W,userDetails:G}=(0,N.J)(),[J,H]=(0,a.useState)(G||{}),X=(0,A.useSearchParams)(),Z=null==J?void 0:null===(e=J.segments)||void 0===e?void 0:e.split(",");(0,a.useEffect)(()=>{let e=X.get("clientId"),l=X.get("branchClientCheck"),t=X.get("familyClientCheck");if(e){let s="";if(l?s="branchClientCheck_".concat(e):t&&(s="familyClientCheck_".concat(e)),s){let e=sessionStorage.getItem(s);H(e?JSON.parse(e):null)}else H(G)}else H(G)},[X,G]);let K=(0,a.useCallback)(()=>{let e=new Date,l=e.getUTCFullYear(),t=3>e.getUTCMonth()?new Date(l-1,3,1):new Date(l,3,1);return{fromDate:(0,j.GP)(t,"yyyy-MM-dd"),toDate:(0,j.GP)(e,"yyyy-MM-dd")}},[]),Q=(()=>{let e=new Date,l=e.getMonth(),t=e.getFullYear(),s=l<3?t-1:t;return Array.from({length:5},(e,l)=>{let t=s-l;return{label:"".concat(t,"-").concat(t+1),value:"".concat(t,"-").concat(t+1),fromDate:(0,j.GP)(new Date(t,3,1),"dd/MM/yyyy"),toDate:(0,j.GP)(new Date(t+1,2,31),"dd/MM/yyyy")}})})(),{fromDate:$,toDate:ee}=K(),el=C.Ik({fromDate:C.Yj().nonempty("From Date is required"),toDate:C.Yj().nonempty("To Date is required"),segment:C.Yj().nonempty("Segment is required"),financialYear:C.Ik({fromDate:C.Yj(),toDate:C.Yj(),value:C.Yj()})}),et=(0,b.mN)({resolver:(0,v.u)(el),defaultValues:{financialYear:Q[0]||{fromDate:"",toDate:"",value:""},fromDate:$,toDate:ee,segment:""}}),{watch:es,setValue:ea}=et;(0,a.useEffect)(()=>{let e=es((e,l)=>{let{name:t}=l;if("financialYear"===t&&(null==e?void 0:e.financialYear)){let l=e.financialYear;if((null==l?void 0:l.fromDate)&&(null==l?void 0:l.toDate)){let e=F(l.fromDate),t=F(l.toDate);e&&t&&(ea("fromDate",e,{shouldValidate:!0,shouldDirty:!0}),ea("toDate",t,{shouldValidate:!0,shouldDirty:!0}))}}});return()=>e.unsubscribe()},[es,ea]);let er=(0,a.useCallback)(async(e,l,s)=>{T(!0),O(null);try{let a=await (0,w.YOA)({fromDate:R(e),toDate:R(l),companyCode:s});if(!(0,p.k9)(a)){U(!0);return}let r="string"==typeof a.data.data?JSON.parse(a.data.data):a.data.data;if("True"===r.Success&&r["Success Description"]){let e=r["Success Description"];z(function(e){if(!e||!Array.isArray(e)||0===e.length)return{common:{},tableDetails:[],length:0};let l={},t=[],s=["STT","TOTAL_ACCOUNT_STT","TOTAL_ACCOUNT_VALUE","TOTAL_EXCHANGE_STT","TOTAL_EXCHANGE_VALUE","TRANS_CODE"];return Object.keys(e[0]||{}).forEach(t=>{s.includes(t)||(l[t]=e[0][t])}),e.forEach(e=>{let l={};s.forEach(t=>{void 0!==e[t]&&(l[t]=e[t])}),t.push(l)}),{common:l,tableDetails:t,length:e.length}}(e)),t(!0)}else throw Error(r["Error Description"]||"Failed to fetch ledger data.")}catch(e){O(e.message||"An error occurred while fetching data.")}finally{T(!1)}},[]),en=(0,a.useCallback)(e=>{if(!e.financialYear||!e.financialYear.fromDate||!e.financialYear.toDate){O("Financial year selection is invalid");return}L(e.fromDate),V(e.toDate),er(e.fromDate,e.toDate,e.segment),setTimeout(()=>{et.reset({financialYear:Q.find(l=>l.value===e.financialYear.value)||Q[0],fromDate:e.fromDate,toDate:e.toDate,segment:e.segment})},100)},[er,et,Q]),ei=async()=>{try{P(!0);let e=await (0,r.x8)((0,s.jsx)(D,{data:q,fromDate:I,toDate:M})).toBlob();(0,g.saveAs)(e,"STT_Statement_".concat(W,".pdf"))}catch(e){console.error("Error generating PDF:",e),O("Failed to generate PDF for download")}finally{P(!1)}},eo=q.tableDetails&&q.tableDetails.length>0;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.default,{children:(0,s.jsx)("div",{className:"space-y-6",children:(0,s.jsxs)(i.Zp,{className:"shadow-md",children:[(0,s.jsx)(i.aR,{children:(0,s.jsx)(i.ZB,{children:"STT Certificate"})}),(0,s.jsx)(i.Wu,{children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,s.jsx)(o.lV,{...et,children:(0,s.jsxs)("form",{onSubmit:et.handleSubmit(en),className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:[(0,s.jsx)(o.zB,{control:et.control,name:"financialYear",render:e=>{var l;let{field:t}=e;return(0,s.jsxs)(o.eI,{children:[(0,s.jsx)(o.lR,{className:"font-medium",children:"Financial Year"}),(0,s.jsxs)(S.l6,{onValueChange:e=>{let l=Q.find(l=>l.value===e);l&&t.onChange(l)},defaultValue:(null===(l=t.value)||void 0===l?void 0:l.value)||"",children:[(0,s.jsx)(o.MJ,{children:(0,s.jsx)(S.bq,{className:"w-full",children:(0,s.jsx)(S.yv,{placeholder:"Select year"})})}),(0,s.jsx)(S.gC,{children:Q.map(e=>(0,s.jsx)(S.eb,{value:e.value,children:e.label},e.value))})]}),(0,s.jsx)(o.C5,{})]})}}),(0,s.jsx)(o.zB,{control:et.control,name:"fromDate",render:e=>{var l,t;let{field:a}=e;return(0,s.jsxs)(o.eI,{children:[(0,s.jsx)(o.lR,{className:"font-medium",children:"From Date"}),(0,s.jsx)("div",{className:"relative",children:(0,s.jsx)(o.MJ,{children:(0,s.jsx)(d.p,{type:"date",id:"fromDate",className:"w-full",min:(null===(l=et.watch("financialYear"))||void 0===l?void 0:l.value)?"".concat(et.watch("financialYear").value.split("-")[0],"-04-01"):void 0,max:(null===(t=et.watch("financialYear"))||void 0===t?void 0:t.value)?"".concat(et.watch("financialYear").value.split("-")[1],"-03-31"):void 0,...a})})}),(0,s.jsx)(o.C5,{})]})}}),(0,s.jsx)(o.zB,{control:et.control,name:"toDate",render:e=>{var l,t;let{field:a}=e;return(0,s.jsxs)(o.eI,{children:[(0,s.jsx)(o.lR,{className:"font-medium",children:"To Date"}),(0,s.jsx)("div",{className:"relative",children:(0,s.jsx)(o.MJ,{children:(0,s.jsx)(d.p,{type:"date",id:"toDate",className:"w-full",min:(null===(l=et.watch("financialYear"))||void 0===l?void 0:l.value)?"".concat(et.watch("financialYear").value.split("-")[0],"-04-01"):void 0,max:(null===(t=et.watch("financialYear"))||void 0===t?void 0:t.value)?"".concat(et.watch("financialYear").value.split("-")[1],"-03-31"):new Date().toISOString().split("T")[0],...a})})}),(0,s.jsx)(o.C5,{})]})}})]}),(0,s.jsx)(o.zB,{control:et.control,name:"segment",render:e=>{let{field:l}=e;return(0,s.jsxs)(o.eI,{className:"w-full",children:[(0,s.jsx)(o.lR,{className:"font-medium block mb-2",children:"Select Segment"}),(0,s.jsx)(o.MJ,{children:(0,s.jsx)(E.z,{onValueChange:l.onChange,defaultValue:l.value,className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-4 gap-4",children:null==Z?void 0:Z.map(e=>(0,s.jsxs)(o.eI,{className:"flex items-center space-x-3 space-y-0 rounded-md p-3 hover:bg-muted/50 transition-colors ml-5",children:[(0,s.jsx)(o.MJ,{children:(0,s.jsx)(E.C,{value:e})}),(0,s.jsx)(o.lR,{className:"font-normal cursor-pointer",children:e})]},e))})}),(0,s.jsx)(o.C5,{})]})}}),(0,s.jsx)("div",{className:"flex justify-center",children:(0,s.jsx)(n.$,{type:"submit",disabled:Y,className:"w-auto px-5 py-3 text-base",children:Y?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(x.A,{className:"h-5 w-5 mr-2 animate-spin"}),"Processing..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(h.A,{className:"h-5 w-5 mr-2"}),"Generate Report"]})})})]})}),Y&&(0,s.jsxs)("div",{className:"mt-8 space-y-4 max-w-2xl mx-auto p-6 border rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(u.E,{className:"h-12 w-12 rounded-full"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(u.E,{className:"h-4 w-[250px]"}),(0,s.jsx)(u.E,{className:"h-4 w-[200px]"})]})]}),(0,s.jsx)(u.E,{className:"h-8 w-full"}),(0,s.jsx)(u.E,{className:"h-8 w-3/4 mx-auto"}),[...Array(10)].map((e,l)=>(0,s.jsx)("div",{children:(0,s.jsx)(u.E,{className:"h-4 w-full mx-auto"})},l))]}),k&&(0,s.jsx)("div",{className:"mt-8 p-6 bg rounded-lg max-w-2xl mx-auto shadow-lg text-center font-bold text-lg",children:(0,s.jsx)("div",{className:"text-center text-red-500 p-4 bg-red-100 rounded-md",children:k})}),!Y&&!k&&eo&&(0,s.jsxs)("div",{className:"mt-6 space-y-6 max-w-4xl mx-auto",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,s.jsx)(n.$,{onClick:ei,disabled:_,className:"w-full sm:w-auto px-2 py-2 text-base",variant:"default",children:_?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(x.A,{className:"h-5 w-5 mr-2 animate-spin"}),"Downloading..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(m.A,{className:"h-5 w-5 mr-2"}),"Download Statement"]})}),(0,s.jsx)(n.$,{onClick:()=>t(!l),className:"w-full sm:w-auto px-2 py-2 text-base",variant:"outline",children:l?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(f.A,{className:"h-5 w-5 mr-2"}),"Hide PDF Preview"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(y.A,{className:"h-5 w-5 mr-2"}),"Show PDF Preview"]})})]}),l&&(0,s.jsx)("div",{className:"mt-6 border rounded-lg overflow-hidden shadow-lg",children:(0,s.jsx)(r.TO,{width:"100%",height:700,className:"max-w-full",children:(0,s.jsx)(D,{data:q,fromDate:I,toDate:M})})})]})]})})]})})}),B&&(0,s.jsx)(p.Bs,{})]})}},22130:(e,l,t)=>{"use strict";t.d(l,{BT:()=>d,Wu:()=>c,ZB:()=>o,Zp:()=>n,aR:()=>i,wL:()=>u});var s=t(95155),a=t(12115),r=t(21567);let n=a.forwardRef((e,l)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:l,className:(0,r.cn)("rounded-xl border bg-card text-card-foreground shadow mt-7",t),...a})});n.displayName="Card";let i=a.forwardRef((e,l)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:l,className:(0,r.cn)("flex flex-row lg:flex-row md:flex-col sm:flex-col md:items-center md:justify-between p-6 border-b bg-blue-500 mx-3 -mt-6 px-8 pt-4 pb-4 rounded-xl shadow-lg text-white space-y-4 md:space-y-0 mb-4",t),...a})});i.displayName="CardHeader";let o=a.forwardRef((e,l)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:l,className:(0,r.cn)("font-semibold leading-none tracking-tight",t),...a})});o.displayName="CardTitle";let d=a.forwardRef((e,l)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:l,className:(0,r.cn)("text-sm text-muted",t),...a})});d.displayName="CardDescription";let c=a.forwardRef((e,l)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:l,className:(0,r.cn)("p-3 pt-0",t),...a})});c.displayName="CardContent";let u=a.forwardRef((e,l)=>{let{className:t,...a}=e;return(0,s.jsx)("div",{ref:l,className:(0,r.cn)("flex items-center p-3 pt-0",t),...a})});u.displayName="CardFooter"},44870:(e,l,t)=>{"use strict";t.d(l,{C5:()=>b,MJ:()=>y,Rr:()=>j,eI:()=>m,lR:()=>f,lV:()=>d,zB:()=>u});var s=t(95155),a=t(12115),r=t(14707),n=t(69606),i=t(21567),o=t(98986);let d=n.Op,c=a.createContext({}),u=e=>{let{...l}=e;return(0,s.jsx)(c.Provider,{value:{name:l.name},children:(0,s.jsx)(n.xI,{...l})})},x=()=>{let e=a.useContext(c),l=a.useContext(h),{getFieldState:t,formState:s}=(0,n.xW)(),r=t(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=l;return{id:i,name:e.name,formItemId:"".concat(i,"-form-item"),formDescriptionId:"".concat(i,"-form-item-description"),formMessageId:"".concat(i,"-form-item-message"),...r}},h=a.createContext({}),m=a.forwardRef((e,l)=>{let{className:t,...r}=e,n=a.useId();return(0,s.jsx)(h.Provider,{value:{id:n},children:(0,s.jsx)("div",{ref:l,className:(0,i.cn)("space-y-2",t),...r})})});m.displayName="FormItem";let f=a.forwardRef((e,l)=>{let{className:t,...a}=e,{error:r,formItemId:n}=x();return(0,s.jsx)(o.J,{ref:l,className:(0,i.cn)(r&&"text-destructive",t),htmlFor:n,...a})});f.displayName="FormLabel";let y=a.forwardRef((e,l)=>{let{...t}=e,{error:a,formItemId:n,formDescriptionId:i,formMessageId:o}=x();return(0,s.jsx)(r.DX,{ref:l,id:n,"aria-describedby":a?"".concat(i," ").concat(o):"".concat(i),"aria-invalid":!!a,...t})});y.displayName="FormControl";let j=a.forwardRef((e,l)=>{let{className:t,...a}=e,{formDescriptionId:r}=x();return(0,s.jsx)("p",{ref:l,id:r,className:(0,i.cn)("text-[0.8rem] text-muted-foreground",t),...a})});j.displayName="FormDescription";let b=a.forwardRef((e,l)=>{let{className:t,children:a,...r}=e,{error:n,formMessageId:o}=x(),d=n?String(null==n?void 0:n.message):a;return d?(0,s.jsx)("p",{ref:l,id:o,className:(0,i.cn)("text-[0.8rem] font-medium text-destructive",t),...r,children:d}):null});b.displayName="FormMessage"},98986:(e,l,t)=>{"use strict";t.d(l,{J:()=>d});var s=t(95155),a=t(12115),r=t(46195),n=t(31027),i=t(21567);let o=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=a.forwardRef((e,l)=>{let{className:t,...a}=e;return(0,s.jsx)(r.b,{ref:l,className:(0,i.cn)(o(),t),...a})});d.displayName=r.b.displayName},84179:(e,l,t)=>{"use strict";t.d(l,{C:()=>d,z:()=>o});var s=t(95155),a=t(12115),r=t(852),n=t(33565),i=t(21567);let o=a.forwardRef((e,l)=>{let{className:t,...a}=e;return(0,s.jsx)(r.bL,{className:(0,i.cn)("grid gap-2",t),...a,ref:l})});o.displayName=r.bL.displayName;let d=a.forwardRef((e,l)=>{let{className:t,...a}=e;return(0,s.jsx)(r.q7,{ref:l,className:(0,i.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t),...a,children:(0,s.jsx)(r.C1,{className:"flex items-center justify-center",children:(0,s.jsx)(n.A,{className:"h-3.5 w-3.5 fill-primary"})})})});d.displayName=r.q7.displayName},37528:(e,l,t)=>{"use strict";t.d(l,{bq:()=>x,eb:()=>y,gC:()=>f,l6:()=>c,yv:()=>u});var s=t(95155),a=t(12115),r=t(54066),n=t(51719),i=t(91902),o=t(98867),d=t(21567);let c=r.bL;r.YJ;let u=r.WT,x=a.forwardRef((e,l)=>{let{className:t,children:a,...i}=e;return(0,s.jsxs)(r.l9,{ref:l,className:(0,d.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...i,children:[a,(0,s.jsx)(r.In,{asChild:!0,children:(0,s.jsx)(n.A,{className:"h-4 w-4 opacity-50"})})]})});x.displayName=r.l9.displayName;let h=a.forwardRef((e,l)=>{let{className:t,...a}=e;return(0,s.jsx)(r.PP,{ref:l,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",t),...a,children:(0,s.jsx)(i.A,{className:"h-4 w-4"})})});h.displayName=r.PP.displayName;let m=a.forwardRef((e,l)=>{let{className:t,...a}=e;return(0,s.jsx)(r.wn,{ref:l,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",t),...a,children:(0,s.jsx)(n.A,{className:"h-4 w-4"})})});m.displayName=r.wn.displayName;let f=a.forwardRef((e,l)=>{let{className:t,children:a,position:n="popper",...i}=e;return(0,s.jsx)(r.ZL,{children:(0,s.jsxs)(r.UC,{ref:l,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...i,children:[(0,s.jsx)(h,{}),(0,s.jsx)(r.LM,{className:(0,d.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),(0,s.jsx)(m,{})]})})});f.displayName=r.UC.displayName,a.forwardRef((e,l)=>{let{className:t,...a}=e;return(0,s.jsx)(r.JU,{ref:l,className:(0,d.cn)("px-2 py-1.5 text-sm font-semibold",t),...a})}).displayName=r.JU.displayName;let y=a.forwardRef((e,l)=>{let{className:t,children:a,...n}=e;return(0,s.jsxs)(r.q7,{ref:l,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[(0,s.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(r.VF,{children:(0,s.jsx)(o.A,{className:"h-4 w-4"})})}),(0,s.jsx)(r.p4,{children:a})]})});y.displayName=r.q7.displayName,a.forwardRef((e,l)=>{let{className:t,...a}=e;return(0,s.jsx)(r.wv,{ref:l,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",t),...a})}).displayName=r.wv.displayName},87081:(e,l,t)=>{"use strict";t.d(l,{E:()=>r});var s=t(95155),a=t(21567);function r(e){let{className:l,...t}=e;return(0,s.jsx)("div",{className:(0,a.cn)("animate-pulse rounded-md bg-primary/10",l),...t})}},21567:(e,l,t)=>{"use strict";t.d(l,{cn:()=>r});var s=t(43463),a=t(69795);function r(){for(var e=arguments.length,l=Array(e),t=0;t<e;t++)l[t]=arguments[t];return(0,a.QP)((0,s.$)(l))}}}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1783],{80602:(e,t,s)=>{Promise.resolve().then(s.bind(s,20215))},20215:(e,t,s)=>{"use strict";s.d(t,{default:()=>N});var a=s(95155),r=s(12115),l=s(30814),d=s(43415),i=s(12711),c=s(73312),n=s(22130),o=s(33900),m=s(98986),u=s(69606),f=s(85060),x=s(47282),p=s(67328);let h=d.z.object({stock:d.z.string().min(1,"Stock field is required")});function N(){let[e,t]=(0,r.useState)(!1),[s,d]=(0,r.useState)(!1),[N,j]=(0,r.useState)(""),[v,g]=(0,r.useState)("");(0,r.useEffect)(()=>{b()},[]);let b=async()=>{try{let e=await (0,x.Xy$)();if(!(0,p.k9)(e)){d(!0);return}let{last_updated_stock:t,lastUpdatedTime:s}=e.data.data;j(JSON.parse(t).stock1),g(s)}catch(e){l.oR.error("Failed to fetch initial data")}},{register:w,handleSubmit:y,formState:{errors:k},reset:S}=(0,u.mN)({resolver:(0,f.u)(h)}),R=async e=>{t(!0);try{var s,a,r,i;let t=await (0,x.VJ1)({stocks:{stock1:e.stock}});if(!(0,p.k9)(t)){d(!0);return}if(null==t?void 0:null===(a=t.data)||void 0===a?void 0:null===(s=a.data)||void 0===s?void 0:s.stockInserted)l.oR.success("Stock added successfully."),S(),await b();else throw Error((null==t?void 0:null===(i=t.data)||void 0===i?void 0:null===(r=i.data)||void 0===r?void 0:r.error)||"Failed to add stock")}catch(e){l.oR.error(e instanceof Error?e.message:"An error occurred while adding the stock.")}finally{t(!1)}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.default,{children:(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)(n.Zp,{className:"w-full shadow-lg",children:[(0,a.jsx)(n.aR,{className:"text-center",children:(0,a.jsx)(n.ZB,{children:"Birthday Stock Suggestions"})}),(0,a.jsx)(n.Wu,{children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-8 min-h-[400px]",children:[(0,a.jsx)("div",{className:"p-4 w-full max-w-lg",children:(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-start gap-4",children:[(0,a.jsx)("p",{className:"text-lg font-bold",children:"Last Updated Stock:"}),(0,a.jsx)("span",{className:"font-medium ",children:N})]}),(0,a.jsxs)("div",{className:"flex items-center justify-start gap-4",children:[(0,a.jsx)("p",{className:"text-lg font-bold",children:"Last Updated Time:"}),(0,a.jsx)("span",{className:"text-md font-medium ",children:new Date(v).toLocaleString("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0})})]})]})}),(0,a.jsxs)("form",{onSubmit:y(R),className:"space-y-6 w-full max-w-md p-6 rounded-xl",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(m.J,{htmlFor:"stock",className:"text-base font-semibold",children:"Stock Name"}),(0,a.jsx)(o.p,{id:"stock",...w("stock"),placeholder:"Enter stock name"}),k.stock&&(0,a.jsx)("p",{className:"text-sm text-red-500",children:k.stock.message})]}),(0,a.jsx)(c.$,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700",disabled:e,children:e?"Uploading...":"Submit"})]})]})})]})})}),s&&(0,a.jsx)(p.Bs,{})]})}},22130:(e,t,s)=>{"use strict";s.d(t,{BT:()=>n,Wu:()=>o,ZB:()=>c,Zp:()=>d,aR:()=>i,wL:()=>m});var a=s(95155),r=s(12115),l=s(21567);let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("rounded-xl border bg-card text-card-foreground shadow mt-7",s),...r})});d.displayName="Card";let i=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-row lg:flex-row md:flex-col sm:flex-col md:items-center md:justify-between p-6 border-b bg-blue-500 mx-3 -mt-6 px-8 pt-4 pb-4 rounded-xl shadow-lg text-white space-y-4 md:space-y-0 mb-4",s),...r})});i.displayName="CardHeader";let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("font-semibold leading-none tracking-tight",s),...r})});c.displayName="CardTitle";let n=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("text-sm text-muted",s),...r})});n.displayName="CardDescription";let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("p-3 pt-0",s),...r})});o.displayName="CardContent";let m=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-3 pt-0",s),...r})});m.displayName="CardFooter"},98986:(e,t,s)=>{"use strict";s.d(t,{J:()=>n});var a=s(95155),r=s(12115),l=s(46195),d=s(31027),i=s(21567);let c=(0,d.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),n=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.b,{ref:t,className:(0,i.cn)(c(),s),...r})});n.displayName=l.b.displayName},87081:(e,t,s)=>{"use strict";s.d(t,{E:()=>l});var a=s(95155),r=s(21567);function l(e){let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,r.cn)("animate-pulse rounded-md bg-primary/10",t),...s})}},21567:(e,t,s)=>{"use strict";s.d(t,{cn:()=>l});var a=s(43463),r=s(69795);function l(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.QP)((0,a.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[1181,8526,8562,164,2589,814,8007,5565,9526,6143,4015,8665,7518,6137,7555,7328,9086,8441,1517,7358],()=>t(80602)),_N_E=e.O()}]);
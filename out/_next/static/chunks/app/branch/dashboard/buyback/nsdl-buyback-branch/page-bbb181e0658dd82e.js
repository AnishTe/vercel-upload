(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5991],{62444:(e,t,r)=>{Promise.resolve().then(r.bind(r,83934))},65753:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(67401).A)("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]])},80175:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(67401).A)("CalendarRange",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M17 14h-6",key:"bkmgh3"}],["path",{d:"M13 18H7",key:"bb0bb7"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 18h.01",key:"1bdyru"}]])},61594:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(67401).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},62060:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(67401).A)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},93650:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(67401).A)("FileX",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m14.5 12.5-5 5",key:"b62r18"}],["path",{d:"m9.5 12.5 5 5",key:"1rk7el"}]])},69660:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(67401).A)("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]])},3265:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(67401).A)("ReceiptText",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M14 8H8",key:"1l3xfs"}],["path",{d:"M16 12H8",key:"1fr5h0"}],["path",{d:"M13 16H8",key:"wsln4y"}]])},45686:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(67401).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},77711:(e,t,r)=>{"use strict";r.d(t,{default:()=>l.a});var a=r(21956),l=r.n(a)},21956:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return l}});let a=r(60306)._(r(30580));function l(e,t){var r;let l={};"function"==typeof e&&(l.loader=e);let s={...l,...t};return(0,a.default)({...s,modules:null==(r=s.loadableGenerated)?void 0:r.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},39827:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return l}});let a=r(93719);function l(e){let{reason:t,children:r}=e;if("undefined"==typeof window)throw new a.BailoutToCSRError(t);return r}},30580:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return c}});let a=r(95155),l=r(12115),s=r(39827),n=r(79214);function i(e){return{default:e&&"default"in e?e.default:e}}let d={loader:()=>Promise.resolve(i(()=>null)),loading:null,ssr:!0},c=function(e){let t={...d,...e},r=(0,l.lazy)(()=>t.loader().then(i)),c=t.loading;function o(e){let i=c?(0,a.jsx)(c,{isLoading:!0,pastDelay:!0,error:null}):null,d=!t.ssr||!!t.loading,o=d?l.Suspense:l.Fragment,u=t.ssr?(0,a.jsxs)(a.Fragment,{children:["undefined"==typeof window?(0,a.jsx)(n.PreloadChunks,{moduleIds:t.modules}):null,(0,a.jsx)(r,{...e})]}):(0,a.jsx)(s.BailoutToCSR,{reason:"next/dynamic",children:(0,a.jsx)(r,{...e})});return(0,a.jsx)(o,{...d?{fallback:i}:{},children:u})}return o.displayName="LoadableComponent",o}},79214:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return i}});let a=r(95155),l=r(47650),s=r(75861),n=r(18284);function i(e){let{moduleIds:t}=e;if("undefined"!=typeof window)return null;let r=s.workAsyncStorage.getStore();if(void 0===r)return null;let i=[];if(r.reactLoadableManifest&&t){let e=r.reactLoadableManifest;for(let r of t){if(!e[r])continue;let t=e[r].files;i.push(...t)}}return 0===i.length?null:(0,a.jsx)(a.Fragment,{children:i.map(e=>{let t=r.assetPrefix+"/_next/"+(0,n.encodeURIPath)(e);return e.endsWith(".css")?(0,a.jsx)("link",{precedence:"dynamic",href:t,rel:"stylesheet",as:"style"},e):((0,l.preload)(t,{as:"script",fetchPriority:"low"}),null)})})}},83934:(e,t,r)=>{"use strict";r.d(t,{default:()=>H});var a=r(95155),l=r(12115),s=r(43932),n=r.n(s),i=r(22130),d=r(73312),c=r(15157),o=r(62060),u=r(93650),h=r(37528),m=r(25121),p=r(30814),x=r(61594),f=r(47282),y=r(45686),j=r(72508),g=r(67328),b=r(12711),v=r(51344),k=r(69606),N=r(85060),w=r(43415),C=r(33900),I=r(98986),M=r(44870);let P=w.Ik({clientId:w.Yj().min(1,"Client ID is required"),quantity:w.ai().positive("Quantity is required"),dpId:w.Yj().regex(/^\d{6}$/,"DP ID is required"),boId:w.Yj().regex(/^\d{8}$/,"BO ID is required")});function A(e){let{isOpen:t,onClose:r,onSubmit:l,companyDetails:s}=e,n=(0,k.mN)({resolver:(0,N.u)(P),defaultValues:{clientId:"",quantity:0,dpId:"",boId:""}}),i=e=>{l({...e,scripName:(null==s?void 0:s.scrip)||"",isin:(null==s?void 0:s.isin)||""}),r()};return(0,a.jsx)(v.lG,{open:t,onOpenChange:e=>!e&&r(),children:(0,a.jsxs)(v.Cf,{className:"sm:max-w-[425px]",children:[(0,a.jsx)(v.c7,{children:(0,a.jsx)(v.L3,{children:"Apply NSDL Buyback"})}),(0,a.jsx)(M.lV,{...n,children:(0,a.jsxs)("form",{onSubmit:n.handleSubmit(i),className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(I.J,{htmlFor:"scripName",className:"text-right",children:"ScripName"}),(0,a.jsx)(C.p,{id:"scripName",value:(null==s?void 0:s.scrip)||"",className:"col-span-3",readOnly:!0})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(I.J,{htmlFor:"isin",className:"text-right",children:"ISIN"}),(0,a.jsx)(C.p,{id:"isin",value:(null==s?void 0:s.isin)||"",className:"col-span-3",readOnly:!0})]}),(0,a.jsx)(M.zB,{control:n.control,name:"clientId",render:e=>{let{field:t}=e;return(0,a.jsxs)(M.eI,{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(M.lR,{className:"text-right",children:"ClientId"}),(0,a.jsxs)("div",{className:"col-span-3",children:[(0,a.jsx)(M.MJ,{children:(0,a.jsx)(C.p,{...t})}),(0,a.jsx)(M.C5,{})]})]})}}),(0,a.jsx)(M.zB,{control:n.control,name:"quantity",render:e=>{let{field:t}=e;return(0,a.jsxs)(M.eI,{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(M.lR,{className:"text-right",children:"Quantity"}),(0,a.jsxs)("div",{className:"col-span-3",children:[(0,a.jsx)(M.MJ,{children:(0,a.jsx)(C.p,{...t,type:"number",onChange:e=>t.onChange(Number.parseFloat(e.target.value))})}),(0,a.jsx)(M.C5,{})]})]})}}),(0,a.jsx)(M.zB,{control:n.control,name:"dpId",render:e=>{let{field:t}=e;return(0,a.jsxs)(M.eI,{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(M.lR,{className:"text-right",children:"DpID"}),(0,a.jsxs)("div",{className:"col-span-3 flex",children:[(0,a.jsx)("span",{className:"inline-flex items-center px-3 rounded-l-md border border-r-0 border-yellow-600 bg-yellow-600 text-white text-sm font-medium",children:"IN"}),(0,a.jsx)(M.MJ,{children:(0,a.jsx)(C.p,{...t,className:"rounded-l-none",maxLength:6,inputMode:"numeric",pattern:"\\d*",onChange:e=>{let r=e.target.value.replace(/\D/g,"").slice(0,6);t.onChange(r)}})})]}),(0,a.jsx)(M.C5,{className:"col-start-2 col-span-3"})]})}}),(0,a.jsx)(M.zB,{control:n.control,name:"boId",render:e=>{let{field:t}=e;return(0,a.jsxs)(M.eI,{className:"grid grid-cols-4 items-center gap-4",children:[(0,a.jsx)(M.lR,{className:"text-right",children:"BoID"}),(0,a.jsxs)("div",{className:"col-span-3",children:[(0,a.jsx)(M.MJ,{children:(0,a.jsx)(C.p,{...t,maxLength:8,inputMode:"numeric",pattern:"\\d*",onChange:e=>{let r=e.target.value.replace(/\D/g,"").slice(0,8);t.onChange(r)}})}),(0,a.jsx)(M.C5,{})]})]})}})]})}),(0,a.jsxs)(v.Es,{children:[(0,a.jsx)(d.$,{type:"button",variant:"outline",onClick:r,children:"Cancel"}),(0,a.jsx)(d.$,{type:"submit",className:"bg-yellow-600 hover:bg-yellow-700",onClick:n.handleSubmit(i),children:"Apply"})]})]})})}function S(e){let{isOpen:t,onClose:r,onConfirm:l,title:s,description:n,selectedCount:i}=e;return(0,a.jsx)(v.lG,{open:t,onOpenChange:e=>!e&&r(),children:(0,a.jsxs)(v.Cf,{className:"sm:max-w-[425px]",children:[(0,a.jsxs)(v.c7,{children:[(0,a.jsx)(v.L3,{children:s}),(0,a.jsx)(v.rr,{children:n})]}),void 0!==i&&(0,a.jsx)("div",{className:"py-4",children:(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Selected records: ",i]})}),(0,a.jsxs)(v.Es,{children:[(0,a.jsx)(d.$,{variant:"outline",onClick:r,children:"Cancel"}),(0,a.jsx)(d.$,{onClick:l,children:"Confirm"})]})]})})}var D=r(85147),R=r(55546),O=r(17733);let E=[{id:"isin",accessorKey:"isin",header:"ISIN",hidden:!0},{id:"branchcode",accessorKey:"branchcode",header:"Branch Code"},{id:"clientId",accessorKey:"clientId",header:"Client ID",cell:e=>{var t;let{row:r}=e,l=null!==(t=r.original.clientId)&&void 0!==t?t:"-";return(0,a.jsx)("div",{className:"font-medium",children:l})}},{id:"dpid",accessorKey:"dpid",header:"DPID"},{id:"boid",accessorKey:"boid",header:"BOID"},{id:"quantity",accessorKey:"quantity",header:"Applied Quantity"},{id:"orderStatus",accessorKey:"orderStatus",header:"Order Status"},{id:"appliedDate",accessorKey:"appliedDate",header:"Time",cell:e=>{let{row:t}=e,r=t.original.appliedDate;return r?(0,O.GP)(new Date(r),"yyyy-MM-dd HH:mm:ss"):"-"}}];var F=r(65753),L=r(69660),_=r(77711),B=r(74317),q=r(68678);let z=(0,_.default)(()=>Promise.all([r.e(1122),r.e(3930),r.e(343),r.e(9690),r.e(4390),r.e(2449),r.e(8417),r.e(4156),r.e(227),r.e(5996),r.e(3694)]).then(r.bind(r,75996)),{loadableGenerated:{webpack:()=>[75996]},ssr:!1});function H(){let[e,t]=(0,l.useState)("orders"),[r,s]=(0,l.useState)([]),[v,k]=(0,l.useState)(!1),[N,w]=(0,l.useState)(null),[C,I]=(0,l.useState)(!1),[M,P]=(0,l.useState)(!1);(0,R.U)("(max-width: 640px)");let[O,_]=(0,l.useState)([]),[H,J]=(0,l.useState)(""),[T,K]=(0,l.useState)(null),[V,$]=(0,l.useState)(!1),[G,Y]=(0,l.useState)(!1),[Z,Q]=(0,l.useState)(null),[U,W]=(0,l.useState)([]),[X,ee]=(0,l.useState)(!1),[et,er]=(0,l.useState)(!1),[ea,el]=(0,l.useState)(null),es=(0,l.useRef)(null),en=(0,l.useRef)([]),ei=(0,l.useRef)(null),ed=(0,l.useCallback)(()=>{if(!es.current)return[];let e=n()(es.current).find("table");if(!e)return[];let t=e.DataTable(),r=t.rows({selected:!0}).nodes();return t.rows({selected:!0}).data().toArray().map((e,t)=>{let a=n()(r[t]),l=a.next("tr.child"),s={};return a.add(l).find("input, select, textarea").each(function(){let e=n()(this).attr("name")||n()(this).attr("data-id");e&&(s[e]=this.value)}),{...e,inputs:s}})},[]),ec=(0,l.useCallback)(async()=>{k(!0),w(null);try{let e=await (0,f.D5k)();if(!(0,g.k9)(e)){I(!0);return}let t="string"==typeof e.data.data?JSON.parse(e.data.data):e.data.data;if(t)_(t.map(e=>({scrip:e.scrip,value:e.buybackid.toString(),isin:e.isin,fromdate:e.fromdate,todate:e.todate,buybackprice:e.buybackprice,nsesettno:e.nsesettno,bsesettno:e.bsesettno})));else throw Error(t["Error Description"]||"Failed to fetch template data.")}catch(e){w(e.message||"An error occurred while fetching data.")}finally{k(!1)}},[]);(0,l.useEffect)(()=>{ec()},[ec]);let eo=(0,l.useCallback)(async e=>{k(!0),w(null);try{let t=await (0,f.MCA)({isin:e});if(!(0,g.k9)(t)){I(!0);return}let r="string"==typeof t.data.data?JSON.parse(t.data.data):t.data.data;s(r&&Array.isArray(r)&&r.length>0?r:[])}catch(e){w(e.message||"An error occurred while fetching data.")}finally{k(!1)}},[]),eu=async()=>{k(!0);try{if(!Z)throw Error("No order to confirm");let e=await (0,f.oRL)({data:[Z]});if(!(0,g.k9)(e)){I(!0);return}let t=e.data;t&&t.data?t.data.every(e=>!0===e.status)?(p.oR.success("Order Placed successfully!"),(null==T?void 0:T.isin)&&await eo(T.isin)):p.oR.error("Buyback application failed. Please check and try again."):p.oR.error("Failed to apply for buyback. Please try again.")}catch(e){console.error("Error during buyback application:",e),p.oR.error("An error occurred while applying for buyback. Please try again later.")}finally{k(!1),Y(!1),$(!1),Q(null)}},eh=async e=>{Q({quantity:e.quantity,clientId:e.clientId,boid:e.boId,scrip:(null==T?void 0:T.scrip)||"",isin:(null==T?void 0:T.isin)||"",buybackid:H,dpid:"IN".concat(e.dpId)}),Y(!0),$(!1)},em=(0,l.useCallback)(async()=>{let e=U.length>0?U:en.current;if(M||0===e.length){p.oR.error("Please select orders to delete.");return}P(!0);try{if(!(null==T?void 0:T.scrip)||!H){p.oR.error("Please select a company first.");return}let t=e.map(e=>({boid:e.boid,dpid:e.dpid,scrip:T.scrip,isin:e.original.isin,buybackid:Number.parseInt(H),clientId:e.clientId.toString(),id:e.original.id})),r=await (0,f.flZ)({data:t});if(!(0,g.k9)(r)){I(!0);return}let a=r.data;a&&a.data?a.data.every(e=>!0===e.status)?(p.oR.success("Order deleted successfully"),await eo(T.isin)):p.oR.error("Failed to delete order. Please check and try again."):p.oR.error("Failed to delete order: ".concat(r.data.message||"Unknown error"))}catch(e){console.error("Error deleting order:",e),p.oR.error("An error occurred while deleting the order: ".concat(e.message||"Unknown error"))}finally{var t;P(!1),er(!1),el(null),null===(t=ei.current)||void 0===t||t.close()}},[U,M,T,H,eo]);return(0,l.useEffect)(()=>{if(!es.current||0===r.length)return;let e=n()(es.current);return e.off("select.dt"),e.on("select.dt",(e,t,r,a)=>{if("row"===r){if(1===a.length){let e=a[0],r=t.row(e).data(),l=t.row(e).node();if(["PROCESSED"].includes(r.original.orderStatus)){n()(l).data("suppressCheckbox",!0),t.row(e).deselect(),p.oR.warning("Cannot select order for ".concat(r.original.clientId||"this client"," - Please only select orders with the 'APPLIED' status."),{position:"top-center",duration:5e3}),n()(l).find(".rowCheckbox").prop("checked",!1);return}if(["CANCELLED"].includes(r.original.orderStatus)){n()(l).data("suppressCheckbox",!0),t.row(e).deselect(),p.oR.warning("Cannot select order for ".concat(r.original.clientId||"this client"," - The order is already cancelled. Please only select orders with the 'APPLIED' order status."),{position:"top-center",duration:5e3}),n()(l).find(".rowCheckbox").prop("checked",!1);return}}else if(a.length>1){let e=[];if(a.forEach(r=>{var a,l,s;let i=t.row(r).data(),d=t.row(r).node();["PROCESSED","CANCELLED"].includes(null==i?void 0:null===(a=i.original)||void 0===a?void 0:a.orderStatus)?(n()(d).data("suppressCheckbox",!0),t.row(r).deselect(),e.push((null==i?void 0:null===(s=i.original)||void 0===s?void 0:s.clientId)||"this client"),n()(d).find(".rowCheckbox").prop("checked",!1)):["APPLIED"].includes(null==i?void 0:null===(l=i.original)||void 0===l?void 0:l.orderStatus)&&(n()(d).find(".rowCheckbox").prop("checked",!0),n()(d).data("shouldCheck",!0))}),e.length>0){let t=e.slice(0,3),r=e.length-3;r>0?p.oR.warning("Cannot select orders for clients: ".concat(t.join(", ")," and ").concat(r," more - Please only select orders with the 'APPLIED' status."),{position:"top-center",duration:5e3}):p.oR.warning("Cannot select order".concat(t.length>1?"s":""," for ").concat(t.join(", ")," - Please only select orders with the 'APPLIED' status."),{position:"top-center",duration:5e3})}}}}),()=>{es.current&&e.off("select.dt")}},[r]),(0,a.jsxs)(b.default,{children:[(0,a.jsxs)(i.Zp,{className:"w-full",children:[(0,a.jsxs)(i.aR,{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between space-y-2 sm:space-y-0",children:[(0,a.jsx)(i.ZB,{children:"NSDL Buyback"}),(0,a.jsxs)("div",{className:"mt-2 flex items-center gap-2 rounded-md border border-amber-200 bg-amber-50 px-3 py-2 text-xs text-amber-800 dark:border-amber-800/30 dark:bg-amber-900/30 dark:text-amber-200",children:[(0,a.jsx)(x.A,{className:"h-3.5 w-3.5 flex-shrink-0"}),(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-semibold",children:"NOTE:"})," On End Date Cut_Off time to place order is 12:00 PM."]})]})]}),(0,a.jsxs)(i.Wu,{children:[(0,a.jsx)("div",{className:"bg-slate-50 rounded-md p-1 mb-2",children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-2 items-start md:items-center",children:[(0,a.jsx)("div",{className:"w-full md:w-auto md:mr-auto",children:(0,a.jsx)("div",{className:"relative w-full md:w-[260px]",children:(0,a.jsxs)(h.l6,{value:H,onValueChange:e=>{if(!e||"NONE"===e){p.oR.error("Please select a company."),J(""),s([]),K(null);return}J(e);let t=O.find(t=>t.value===e);if(t){K(t);let e=new Date(t.todate),r=new Date;if(r.getDate()===e.getDate()&&r.getMonth()===e.getMonth()&&r.getFullYear()===e.getFullYear()){let e=new Date(t.todate);if(e.setHours(11,59,0),new Date>e){p.oR.warning("On End Date Cut_Off time to place order is 12:00 PM.");return}}eo(t.isin)}},children:[(0,a.jsx)(h.bq,{className:"w-full bg-white h-9",children:(0,a.jsx)(h.yv,{placeholder:"Select a company"})}),(0,a.jsxs)(h.gC,{children:[(0,a.jsx)(h.eb,{value:"NONE",children:"Select a company"}),O.map(e=>(0,a.jsx)(h.eb,{value:e.value,children:e.scrip},e.value))]})]})})}),T&&"NONE"!==H?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(d.$,{onClick:()=>$(!0),size:"sm",className:"bg-yellow-600 hover:bg-yellow-700",children:[" ",(0,a.jsx)(o.A,{className:"h-4 w-4"}),"Place Order"]}),(0,a.jsxs)(d.$,{variant:"destructive",size:"sm",onClick:()=>{var e;let t=ed();if(0===t.length){p.oR.error("Please select at least one order to delete");return}en.current=t,W(t),null===(e=ei.current)||void 0===e||e.open()},className:"whitespace-nowrap",children:[(0,a.jsx)(y.A,{className:"h-4 w-4 mr-2"}),"Delete Order"]})]}):null]})}),(0,a.jsx)(q.A,{selectedCompanyDetails:T}),H&&"NONE"!==H&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.w,{}),v?(0,a.jsx)(D.A,{columns:4,rows:10}):N?(0,a.jsx)("div",{className:"text-center text-red-500 p-4 bg-red-100 rounded-md",children:N}):0===r.length?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center p-4 text-center bg-muted/20 rounded-md border border-dashed border-muted-foreground/20 my-4",children:[(0,a.jsx)("div",{className:"rounded-full bg-muted p-3 mb-4",children:(0,a.jsx)(u.A,{className:"h-8 w-8 text-muted-foreground"})}),(0,a.jsx)("h3",{className:"text-lg font-medium mb-2",children:"No records found"}),(0,a.jsx)("p",{className:"text-muted-foreground mb-4 max-w-md",children:"There are no records available for this criteria."})]}):(0,a.jsx)("div",{className:"overflow-x-auto",ref:es,children:(0,a.jsx)(z,{columns:E,data:r,selectableRows:!0,showPagination:!0,filterColumn:"clientId"},"buyback_table")})]})]})]}),V&&(0,a.jsx)(A,{isOpen:V,onClose:()=>$(!1),onSubmit:eh,companyDetails:T}),G&&(0,a.jsx)(S,{isOpen:G,onClose:()=>{Y(!1),Q(null)},onConfirm:eu,title:"Confirm Buyback",description:"Are you sure you want to place this buyback order?"}),(0,a.jsx)(B.A,{ref:ei,title:"Confirm Delete ?",onConfirm:em,confirmLoading:M,confirmText:"Delete",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("p",{className:"text-base font-medium",children:"Are you sure you want to delete the selected buyback order(s)?"}),T&&(0,a.jsx)("div",{className:"flex flex-col space-y-2 p-3 bg-slate-50 rounded-md",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(F.A,{className:"h-5 w-5 flex-shrink-0 text-blue-500"}),(0,a.jsx)("span",{className:"font-semibold",children:T.scrip}),T.buybackprice>0&&(0,a.jsxs)("div",{className:"flex items-center gap-1 ml-auto",children:[(0,a.jsx)(L.A,{className:"h-5 w-5 flex-shrink-0 text-blue-500"}),(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"ISIN:"}),(0,a.jsx)(m.E,{variant:"secondary",className:"font-medium",children:T.isin})]})]})})]}),(0,a.jsx)("div",{className:"rounded-md border overflow-hidden",children:(0,a.jsxs)(j.XI,{children:[(0,a.jsx)(j.A0,{children:(0,a.jsxs)(j.Hj,{children:[(0,a.jsx)(j.nd,{className:"w-1/3",children:"ClientId"}),(0,a.jsx)(j.nd,{className:"w-1/4",children:"Applied Quantity"})]})}),(0,a.jsx)(j.BF,{children:U&&U.length>0?U.map((e,t)=>{var r;return(0,a.jsxs)(j.Hj,{children:[(0,a.jsx)(j.nA,{className:"font-medium",children:e.clientId}),(0,a.jsx)(j.nA,{className:"font-medium",children:(null===(r=e.original)||void 0===r?void 0:r.quantity)||"-"})]},t)}):(0,a.jsx)(j.Hj,{children:(0,a.jsx)(j.nA,{colSpan:3,className:"text-center py-4",children:"No scrip selected"})})})]})}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground mt-2",children:(0,a.jsx)("p",{children:"Please review the details before confirming."})})]})}),C&&(0,a.jsx)(g.Bs,{})]})}},44870:(e,t,r)=>{"use strict";r.d(t,{C5:()=>j,MJ:()=>f,Rr:()=>y,eI:()=>p,lR:()=>x,lV:()=>c,zB:()=>u});var a=r(95155),l=r(12115),s=r(14707),n=r(69606),i=r(21567),d=r(98986);let c=n.Op,o=l.createContext({}),u=e=>{let{...t}=e;return(0,a.jsx)(o.Provider,{value:{name:t.name},children:(0,a.jsx)(n.xI,{...t})})},h=()=>{let e=l.useContext(o),t=l.useContext(m),{getFieldState:r,formState:a}=(0,n.xW)(),s=r(e.name,a);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=t;return{id:i,name:e.name,formItemId:"".concat(i,"-form-item"),formDescriptionId:"".concat(i,"-form-item-description"),formMessageId:"".concat(i,"-form-item-message"),...s}},m=l.createContext({}),p=l.forwardRef((e,t)=>{let{className:r,...s}=e,n=l.useId();return(0,a.jsx)(m.Provider,{value:{id:n},children:(0,a.jsx)("div",{ref:t,className:(0,i.cn)("space-y-2",r),...s})})});p.displayName="FormItem";let x=l.forwardRef((e,t)=>{let{className:r,...l}=e,{error:s,formItemId:n}=h();return(0,a.jsx)(d.J,{ref:t,className:(0,i.cn)(s&&"text-destructive",r),htmlFor:n,...l})});x.displayName="FormLabel";let f=l.forwardRef((e,t)=>{let{...r}=e,{error:l,formItemId:n,formDescriptionId:i,formMessageId:d}=h();return(0,a.jsx)(s.DX,{ref:t,id:n,"aria-describedby":l?"".concat(i," ").concat(d):"".concat(i),"aria-invalid":!!l,...r})});f.displayName="FormControl";let y=l.forwardRef((e,t)=>{let{className:r,...l}=e,{formDescriptionId:s}=h();return(0,a.jsx)("p",{ref:t,id:s,className:(0,i.cn)("text-[0.8rem] text-muted-foreground",r),...l})});y.displayName="FormDescription";let j=l.forwardRef((e,t)=>{let{className:r,children:l,...s}=e,{error:n,formMessageId:d}=h(),c=n?String(null==n?void 0:n.message):l;return c?(0,a.jsx)("p",{ref:t,id:d,className:(0,i.cn)("text-[0.8rem] font-medium text-destructive",r),...s,children:c}):null});j.displayName="FormMessage"},98986:(e,t,r)=>{"use strict";r.d(t,{J:()=>c});var a=r(95155),l=r(12115),s=r(46195),n=r(31027),i=r(21567);let d=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=l.forwardRef((e,t)=>{let{className:r,...l}=e;return(0,a.jsx)(s.b,{ref:t,className:(0,i.cn)(d(),r),...l})});c.displayName=s.b.displayName}},e=>{var t=t=>e(e.s=t);e.O(0,[3740,1181,8526,8562,164,2589,814,8007,5565,9526,6143,4015,8665,6527,7518,7733,6137,7555,7328,9086,1816,8441,1517,7358],()=>t(62444)),_N_E=e.O()}]);
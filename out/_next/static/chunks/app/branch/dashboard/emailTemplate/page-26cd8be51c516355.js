(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2125],{72034:(e,a,t)=>{Promise.resolve().then(t.bind(t,10689))},61594:(e,a,t)=>{"use strict";t.d(a,{A:()=>l});let l=(0,t(67401).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},62060:(e,a,t)=>{"use strict";t.d(a,{A:()=>l});let l=(0,t(67401).A)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},10689:(e,a,t)=>{"use strict";t.d(a,{default:()=>N});var l=t(95155),s=t(12115),r=t(37528),i=t(73312),d=t(22130),n=t(38002),o=t(12711),c=t(47282),m=t(67328),u=t(30814),p=t(51344),x=t(33900),f=t(46754),h=t(98986);function b(e){let{isOpen:a,onClose:t,onSubmit:d,accountTypes:n,defaultAccountType:o}=e,[c,m]=(0,s.useState)(""),[b,g]=(0,s.useState)(""),[v,y]=(0,s.useState)(""),[j,N]=(0,s.useState)(""),[w,_]=(0,s.useState)(!1);(0,s.useEffect)(()=>{o&&a&&N(o)},[o,a]);let E=async e=>{if(e.preventDefault(),!j){u.oR.error("Account Type is required");return}if(!c||!b||!v){u.oR.error("All fields are required");return}_(!0);try{await d({name:c,subject:b,message:v,accountType:j}),m(""),g(""),y(""),N(""),t()}catch(e){console.error("Error creating template:",e),u.oR.error("Failed to create template")}finally{_(!1)}},C=()=>{m(""),g(""),y(""),N(""),t()};return(0,l.jsx)(p.lG,{open:a,onOpenChange:C,children:(0,l.jsxs)(p.Cf,{children:[(0,l.jsx)(p.c7,{children:(0,l.jsx)(p.L3,{children:"Create New Email Template"})}),(0,l.jsxs)("form",{onSubmit:E,children:[(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(h.J,{htmlFor:"account-type",children:"Account Type *"}),(0,l.jsxs)(r.l6,{value:j,onValueChange:N,children:[(0,l.jsx)(r.bq,{id:"account-type",children:(0,l.jsx)(r.yv,{placeholder:"Select account type"})}),(0,l.jsx)(r.gC,{children:n.map(e=>(0,l.jsx)(r.eb,{value:e.id,children:e.name},e.id))})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(h.J,{htmlFor:"template-name",children:"Template Name"}),(0,l.jsx)(x.p,{id:"template-name",value:c,onChange:e=>m(e.target.value),placeholder:"Enter template name",required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(h.J,{htmlFor:"subject",children:"Subject"}),(0,l.jsx)(x.p,{id:"subject",value:b,onChange:e=>g(e.target.value),placeholder:"Enter email subject",required:!0})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(h.J,{htmlFor:"message",children:"Message"}),(0,l.jsx)(f.T,{id:"message",value:v,onChange:e=>y(e.target.value),placeholder:"Enter email message",rows:5,required:!0})]})]}),(0,l.jsxs)(p.Es,{className:"mt-4",children:[(0,l.jsx)(i.$,{type:"button",variant:"outline",onClick:C,children:"Cancel"}),(0,l.jsx)(i.$,{type:"submit",disabled:w,children:w?"Creating...":"Create Template"})]})]})]})})}var g=t(61594),v=t(62060),y=t(14505);let j=e=>/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase());function N(){let[e,a]=(0,s.useState)([]),[t,p]=(0,s.useState)(""),[x,f]=(0,s.useState)(""),[h,N]=(0,s.useState)(""),[w,_]=(0,s.useState)(!1),[E,C]=(0,s.useState)(!1),[k,S]=(0,s.useState)(null),[A,T]=(0,s.useState)(!1),[R,F]=(0,s.useState)(""),[P,O]=(0,s.useState)(""),[q,L]=(0,s.useState)(null),[D,B]=(0,s.useState)(null),[U,J]=(0,s.useState)(""),[M,V]=(0,s.useState)(!1),[Z,I]=(0,s.useState)(""),[$,z]=(0,s.useState)(""),[W,Y]=(0,s.useState)(!1),[G,H]=(0,s.useState)(""),[K,Q]=(0,s.useState)([]),[X,ee]=(0,s.useState)(""),[ea,et]=(0,s.useState)([]),[el,es]=(0,s.useState)(null),[er,ei]=(0,s.useState)(!1),ed=(0,s.useCallback)(async()=>{if(X){ei(!0),S(null);try{let e=await (0,c.lgE)({accountType:X});if(!(0,m.k9)(e)){C(!0);return}let t="string"==typeof e.data.data?JSON.parse(e.data.data):e.data.data;if(e.data.data)a(t.templates.map(e=>({id:e.id,name:e.name})));else throw Error(t["Error Description"]||"Failed to fetch template data.")}catch(e){S(e.message||"An error occurred while fetching data."),u.oR.error(e.message||"Failed to load templates")}finally{ei(!1)}}},[X]),en=async()=>{_(!0);try{var e,a,t;let l=await (0,c.u1y)();if(!(0,m.k9)(l)){C(!0);return}if(null==l?void 0:null===(e=l.data)||void 0===e?void 0:e.data){let e=null==l?void 0:null===(t=l.data)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.account_status;et(e);let s=e.map(e=>({id:e.account_type,name:e.account_type}));Q(s);let r=e.find(e=>"PRIMARY"===e.account_type)||e[0];r&&setTimeout(()=>{ee(r.account_type),es(r)},100),e.forEach(e=>{e.status_message&&e.status_message.trim()&&u.oR.info("".concat(e.account_type,": ").concat(e.status_message))})}}catch(e){console.error("Failed to fetch account types:",e),S("Failed to load account types: "+(e.message||"Unknown error")),u.oR.error("Failed to load account types")}finally{_(!1)}};(0,s.useEffect)(()=>{en()},[]),(0,s.useEffect)(()=>{X&&ea.length>0&&(a([]),p(""),es(ea.find(e=>e.account_type===X)||null),ed())},[ea,ed,X]),(0,s.useEffect)(()=>{V(["kyc_update","email_list","clientid_list","branchcode_list"].includes(x))},[x]);let eo=async a=>{if(a.preventDefault(),S(null),!X){let e="Please select an Account Type.";S(e),u.oR.error(e);return}if(el&&!el.can_send_email){let e="Email sending is not allowed for the selected account type.";S(e),u.oR.error(e);return}if(el&&el.limit_reached>=el.total_limit){let e="Email limit reached. Please update your account to continue sending emails.";S(e),u.oR.error(e);return}if(!t&&"NONE"!==t||!x){let e="Please select both Template Name and Audience options.";S(e),u.oR.error(e);return}if("NONE"===t&&!R){let e="Please enter a subject when no template is selected.";S(e),u.oR.error(e);return}if("NONE"===t&&!D){let e="Please attach a file when no template is selected.";S(e),u.oR.error(e);return}if("Text"===x&&!P.trim()){let e="Please enter at least one email address.";S(e),u.oR.error(e);return}if(Z&&!$){let e="Please select a template for AP notification.";S(e),u.oR.error(e);return}_(!0);try{var l,s,r,i,d,n,o;let a=new FormData,b={fromEmail:h||"",accountType:X,templateId:"NONE"===t?"":t,templateName:"NONE"===t?"NONE":(null===(l=e.find(e=>e.id===t))||void 0===l?void 0:l.name)||"",subject:"NONE"===t?R:"",Audience:x,emailList:"Text"===x?P.split(",").map(e=>e.trim()).filter(Boolean):[],EmailTarget:Z,templateIdForAP:Z?$:"",templateNameForAP:Z&&(null===(s=e.find(e=>e.id===$))||void 0===s?void 0:s.name)||"",scheduledDatetime:G||""},g=JSON.stringify(b),v=new Blob([g],{type:"application/json"});a.append("data",v),a.append("Attachment",D||new Blob([],{type:"application/octet-stream"})),a.append("file",q||new Blob([],{type:"application/octet-stream"}));let y=await (0,c.DIg)(a);if(!(0,m.k9)(y)){C(!0);return}if((null==y?void 0:null===(i=y.data)||void 0===i?void 0:null===(r=i.data)||void 0===r?void 0:r.status)==="success"){u.oR.success((null==y?void 0:null===(n=y.data)||void 0===n?void 0:null===(d=n.data)||void 0===d?void 0:d.message)||"Email template sent successfully."),p(""),f(""),B(null),O(""),F(""),H(""),N("");let e=document.getElementById("attachment");e&&(e.value=""),V(!1),I(""),z("")}else throw Error((null==y?void 0:null===(o=y.data)||void 0===o?void 0:o.message)||"Failed to send email template")}catch(a){let e=a instanceof Error?a.message:"An error occurred while sending the email template.";S(e),u.oR.error(e)}finally{_(!1)}},ec=async e=>{try{var a,t,l,s,r,i;let d=await (0,c.Hbf)({Template_Name:e.name,Subject:e.subject,Message:e.message,accountType:e.accountType});if(!(0,m.k9)(d)){C(!0);return}if((null==d?void 0:null===(t=d.data)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.status)==="success")u.oR.success("Email template ".concat(null==d?void 0:null===(s=d.data)||void 0===s?void 0:null===(l=s.data)||void 0===l?void 0:l.name," created successfully!")),ed();else throw Error((null==d?void 0:null===(i=d.data)||void 0===i?void 0:null===(r=i.data)||void 0===r?void 0:r.message)||"Failed to create email template :(")}catch(e){u.oR.error(e instanceof Error?e.message:"An error occurred while creating the email template.")}};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(o.default,{children:(0,l.jsxs)("div",{className:"space-y-4",children:[k&&(0,l.jsxs)(n.Fc,{variant:"destructive",className:"mb-4",children:[(0,l.jsx)(g.A,{className:"h-4 w-4 mr-2"}),(0,l.jsx)(n.TN,{children:k})]}),(0,l.jsxs)(d.Zp,{children:[(0,l.jsxs)(d.aR,{className:"flex justify-between items-center ",children:[(0,l.jsx)(d.ZB,{children:"Send Email Template"}),(0,l.jsxs)(i.$,{onClick:()=>T(!0),variant:"secondary",className:"w-auto",disabled:!X,children:[(0,l.jsx)(v.A,{className:"w-4 h-4 mr-1"}),"Create Template"]})]}),(0,l.jsxs)(d.Wu,{children:[el&&(0,l.jsx)("div",{className:"mb-6 p-5 rounded-lg border bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-950/20 dark:to-indigo-950/20",children:(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Account Type: "}),(0,l.jsx)("span",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:el.account_type})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Email Usage: "}),(0,l.jsxs)("span",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:[el.limit_reached.toLocaleString()," /"," ",el.total_limit.toLocaleString()]})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{className:"flex justify-between text-sm text-gray-600 dark:text-gray-400",children:[(0,l.jsx)("span",{children:"Usage Progress"}),(0,l.jsxs)("span",{children:[(el.limit_reached/el.total_limit*100).toFixed(1),"%"]})]}),(0,l.jsx)("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3",children:(0,l.jsx)("div",{className:"h-3 rounded-full transition-all duration-300 ".concat(el.limit_reached>=el.total_limit?"bg-red-600":el.limit_reached/el.total_limit*100>=90?"bg-red-500":el.limit_reached/el.total_limit*100>=75?"bg-yellow-500":el.limit_reached/el.total_limit*100>=50?"bg-green-500":"bg-emerald-500"),style:{width:"".concat(Math.min(el.limit_reached/el.total_limit*100,100),"%")}})}),el.limit_reached>=el.total_limit&&(0,l.jsx)("p",{className:"text-xs text-red-600 font-medium",children:"Limit reached. Please update your account to continue sending emails."}),el.limit_reached<el.total_limit&&el.limit_reached/el.total_limit*100>=90&&(0,l.jsx)("p",{className:"text-xs text-red-600 font-medium",children:"Warning: You are about to reach your email limit."})]}),el.status_message&&(0,l.jsx)("div",{className:"p-3 rounded-lg border-l-4 ".concat(el.can_send_email?"bg-blue-50 border-blue-400 dark:bg-blue-950/20":"bg-red-50 border-red-400 dark:bg-red-950/20"),children:(0,l.jsxs)("div",{className:"flex items-start gap-2",children:[(0,l.jsx)(g.A,{className:"h-4 w-4 mt-0.5 ".concat(el.can_send_email?"text-blue-600":"text-red-600")}),(0,l.jsxs)("div",{className:"text-sm ".concat(el.can_send_email?"text-blue-800 dark:text-blue-200":"text-red-800 dark:text-red-200"),children:[(0,l.jsx)("span",{className:"font-medium",children:"Notice:"})," ",el.status_message]})]})})]})}),(0,l.jsx)("form",{onSubmit:eo,className:"p-4",children:(0,l.jsx)("div",{className:"flex justify-center",children:(0,l.jsxs)("div",{className:"w-full max-w-lg space-y-4",children:[(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("label",{htmlFor:"accountType",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Account Type *"}),(0,l.jsxs)(r.l6,{value:X,onValueChange:ee,children:[(0,l.jsx)(r.bq,{id:"accountType",children:(0,l.jsx)(r.yv,{placeholder:"Select account type"})}),(0,l.jsx)(r.gC,{children:K.map(e=>(0,l.jsx)(r.eb,{value:e.id,children:e.name},e.id))})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("label",{htmlFor:"fromEmail",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"From Email:"}),(0,l.jsxs)(r.l6,{value:h,onValueChange:N,children:[(0,l.jsx)(r.bq,{id:"fromEmail",children:(0,l.jsx)(r.yv,{placeholder:"Select a Email type"})}),(0,l.jsxs)(r.gC,{children:[(0,l.jsx)(r.eb,{value:"research@pesbl.co.in",children:"research@pesbl.co.in"}),(0,l.jsx)(r.eb,{value:"info@pesbl.co.in",children:"info@pesbl.co.in"})]})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("label",{htmlFor:"templateName",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 flex items-center gap-2",children:["Template Name",er&&(0,l.jsx)(y.A,{className:"h-4 w-4 animate-spin"})]}),(0,l.jsxs)(r.l6,{value:t,onValueChange:p,disabled:!X||er,children:[(0,l.jsx)(r.bq,{id:"templateName",children:(0,l.jsx)(r.yv,{placeholder:X?er?"Loading templates...":"Select a template":"Select account type first"})}),(0,l.jsxs)(r.gC,{children:[(0,l.jsx)(r.eb,{value:"NONE",children:"NONE"}),e.map(e=>(0,l.jsx)(r.eb,{value:e.id,children:e.name},e.id))]})]})]}),"NONE"===t&&(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("label",{htmlFor:"subject",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Subject *"}),(0,l.jsx)("textarea",{id:"subject",className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"Enter subject",value:R,onChange:e=>F(e.target.value)})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("label",{htmlFor:"sendTo",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Audience *"}),(0,l.jsxs)(r.l6,{value:x,onValueChange:f,children:[(0,l.jsx)(r.bq,{id:"sendTo",children:(0,l.jsx)(r.yv,{placeholder:"Select audience"})}),(0,l.jsxs)(r.gC,{children:[(0,l.jsx)(r.eb,{value:"All",children:"All"}),(0,l.jsx)(r.eb,{value:"Text",children:"Text"}),(0,l.jsx)(r.eb,{value:"kyc_update",children:"KYC Update"}),(0,l.jsx)(r.eb,{value:"email_list",children:"Email List"}),(0,l.jsx)(r.eb,{value:"clientid_list",children:"Client List"}),(0,l.jsx)(r.eb,{value:"branchcode_list",children:"Branch List"})]})]})]}),M&&(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("label",{htmlFor:"fileUpload",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"File Upload"}),(0,l.jsx)("input",{type:"file",id:"fileUpload",className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",onChange:e=>{var a;L((null===(a=e.target.files)||void 0===a?void 0:a[0])||null)}})]}),["kyc_update","clientid_list"].includes(x)&&(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("label",{htmlFor:"emailTarget",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Email Target:"}),(0,l.jsxs)(r.l6,{value:Z,onValueChange:I,children:[(0,l.jsx)(r.bq,{id:"emailTarget",children:(0,l.jsx)(r.yv,{placeholder:"Select a Email Target"})}),(0,l.jsxs)(r.gC,{children:[(0,l.jsx)(r.eb,{value:"only_Clients",children:"Only Clients"}),(0,l.jsx)(r.eb,{value:"only_AP",children:"Only AP"}),(0,l.jsx)(r.eb,{value:"Both",children:"Both"})]})]})]}),Z&&(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("label",{htmlFor:"apTemplateName",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Template Name for AP"}),(0,l.jsxs)(r.l6,{value:$,onValueChange:z,children:[(0,l.jsx)(r.bq,{id:"apTemplateName",children:(0,l.jsx)(r.yv,{placeholder:"Select a template for AP"})}),(0,l.jsx)(r.gC,{children:e.filter(e=>"NONE"!==e.name).map(e=>(0,l.jsx)(r.eb,{value:e.id,children:e.name},e.id))})]})]}),"Text"===x&&(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("label",{htmlFor:"textContent",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Email Addresses *"}),(0,l.jsxs)("div",{className:"flex flex-wrap gap-2 p-2 rounded-md border border-input bg-background",children:[P.split(",").filter(e=>e.trim()).map((e,a)=>(0,l.jsxs)("div",{className:"flex items-center bg-secondary text-secondary-foreground px-2 py-1 rounded-md",children:[(0,l.jsx)("span",{children:e.trim()}),(0,l.jsx)("button",{type:"button",onClick:()=>{O(P.split(",").filter((e,t)=>t!==a).join(","))},className:"ml-2 text-secondary-foreground hover:text-primary-foreground",children:"\xd7"})]},a)),(0,l.jsx)("input",{type:"text",className:"flex-grow min-w-[200px] bg-transparent focus:outline-none",placeholder:"Enter email addresses (press Enter or comma to add)",value:U,onChange:e=>{if(J(e.target.value),e.target.value.endsWith(",")){let a=e.target.value.slice(0,-1).trim();j(a)?(O(e=>e?"".concat(e,",").concat(a):a),J("")):u.oR.error("Please enter a valid email address.")}},onKeyDown:e=>{if("Enter"===e.key){e.preventDefault();let a=U.trim();a&&j(a)?(O(e=>e?"".concat(e,",").concat(a):a),J("")):a&&u.oR.error("Please enter a valid email address.")}}})]})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("label",{htmlFor:"attachment",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"NONE"===t?"Attachment (required)":"Attachment (optional)"}),(0,l.jsx)("input",{type:"file",id:"attachment",className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",onChange:e=>{var a;B((null===(a=e.target.files)||void 0===a?void 0:a[0])||null)},required:"NONE"===t})]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("label",{htmlFor:"scheduleDateTime",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Schedule Message (Optional)"}),(0,l.jsx)("div",{className:"flex gap-2",children:(0,l.jsx)("input",{type:"datetime-local",id:"scheduleDateTime",className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:G,onChange:e=>H(e.target.value)})}),(0,l.jsx)("p",{className:"text-xs text-muted-foreground",children:"Leave empty to send immediately"})]}),(0,l.jsx)("div",{className:"space-y-2 flex justify-end p-4",children:(0,l.jsx)(i.$,{type:"submit",className:"w-auto",disabled:w||W||!!el&&!el.can_send_email||!!el&&el.limit_reached>=el.total_limit,children:w?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(y.A,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending..."]}):W?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(y.A,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):el&&el.limit_reached>=el.total_limit?"Limit Reached":"Submit"})})]})})})]})]})]})}),(0,l.jsx)(b,{isOpen:A,onClose:()=>T(!1),onSubmit:ec,accountTypes:K,defaultAccountType:X}),E&&(0,l.jsx)(m.Bs,{})]})}},38002:(e,a,t)=>{"use strict";t.d(a,{Fc:()=>n,TN:()=>c,XL:()=>o});var l=t(95155),s=t(12115),r=t(31027),i=t(21567);let d=(0,r.F)("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),n=s.forwardRef((e,a)=>{let{className:t,variant:s,...r}=e;return(0,l.jsx)("div",{ref:a,role:"alert",className:(0,i.cn)(d({variant:s}),t),...r})});n.displayName="Alert";let o=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,l.jsx)("h5",{ref:a,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",t),...s})});o.displayName="AlertTitle";let c=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,l.jsx)("div",{ref:a,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",t),...s})});c.displayName="AlertDescription"},22130:(e,a,t)=>{"use strict";t.d(a,{BT:()=>o,Wu:()=>c,ZB:()=>n,Zp:()=>i,aR:()=>d,wL:()=>m});var l=t(95155),s=t(12115),r=t(21567);let i=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,l.jsx)("div",{ref:a,className:(0,r.cn)("rounded-xl border bg-card text-card-foreground shadow mt-7",t),...s})});i.displayName="Card";let d=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,l.jsx)("div",{ref:a,className:(0,r.cn)("flex flex-row lg:flex-row md:flex-col sm:flex-col md:items-center md:justify-between p-6 border-b bg-blue-500 mx-3 -mt-6 px-8 pt-4 pb-4 rounded-xl shadow-lg text-white space-y-4 md:space-y-0 mb-4",t),...s})});d.displayName="CardHeader";let n=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,l.jsx)("div",{ref:a,className:(0,r.cn)("font-semibold leading-none tracking-tight",t),...s})});n.displayName="CardTitle";let o=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,l.jsx)("div",{ref:a,className:(0,r.cn)("text-sm text-muted",t),...s})});o.displayName="CardDescription";let c=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,l.jsx)("div",{ref:a,className:(0,r.cn)("p-3 pt-0",t),...s})});c.displayName="CardContent";let m=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,l.jsx)("div",{ref:a,className:(0,r.cn)("flex items-center p-3 pt-0",t),...s})});m.displayName="CardFooter"},98986:(e,a,t)=>{"use strict";t.d(a,{J:()=>o});var l=t(95155),s=t(12115),r=t(46195),i=t(31027),d=t(21567);let n=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,l.jsx)(r.b,{ref:a,className:(0,d.cn)(n(),t),...s})});o.displayName=r.b.displayName},37528:(e,a,t)=>{"use strict";t.d(a,{bq:()=>u,eb:()=>h,gC:()=>f,l6:()=>c,yv:()=>m});var l=t(95155),s=t(12115),r=t(54066),i=t(51719),d=t(91902),n=t(98867),o=t(21567);let c=r.bL;r.YJ;let m=r.WT,u=s.forwardRef((e,a)=>{let{className:t,children:s,...d}=e;return(0,l.jsxs)(r.l9,{ref:a,className:(0,o.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...d,children:[s,(0,l.jsx)(r.In,{asChild:!0,children:(0,l.jsx)(i.A,{className:"h-4 w-4 opacity-50"})})]})});u.displayName=r.l9.displayName;let p=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,l.jsx)(r.PP,{ref:a,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",t),...s,children:(0,l.jsx)(d.A,{className:"h-4 w-4"})})});p.displayName=r.PP.displayName;let x=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,l.jsx)(r.wn,{ref:a,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",t),...s,children:(0,l.jsx)(i.A,{className:"h-4 w-4"})})});x.displayName=r.wn.displayName;let f=s.forwardRef((e,a)=>{let{className:t,children:s,position:i="popper",...d}=e;return(0,l.jsx)(r.ZL,{children:(0,l.jsxs)(r.UC,{ref:a,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:i,...d,children:[(0,l.jsx)(p,{}),(0,l.jsx)(r.LM,{className:(0,o.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,l.jsx)(x,{})]})})});f.displayName=r.UC.displayName,s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,l.jsx)(r.JU,{ref:a,className:(0,o.cn)("px-2 py-1.5 text-sm font-semibold",t),...s})}).displayName=r.JU.displayName;let h=s.forwardRef((e,a)=>{let{className:t,children:s,...i}=e;return(0,l.jsxs)(r.q7,{ref:a,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...i,children:[(0,l.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,l.jsx)(r.VF,{children:(0,l.jsx)(n.A,{className:"h-4 w-4"})})}),(0,l.jsx)(r.p4,{children:s})]})});h.displayName=r.q7.displayName,s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,l.jsx)(r.wv,{ref:a,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",t),...s})}).displayName=r.wv.displayName},87081:(e,a,t)=>{"use strict";t.d(a,{E:()=>r});var l=t(95155),s=t(21567);function r(e){let{className:a,...t}=e;return(0,l.jsx)("div",{className:(0,s.cn)("animate-pulse rounded-md bg-primary/10",a),...t})}},46754:(e,a,t)=>{"use strict";t.d(a,{T:()=>i});var l=t(95155),s=t(12115),r=t(21567);let i=s.forwardRef((e,a)=>{let{className:t,...s}=e;return(0,l.jsx)("textarea",{className:(0,r.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:a,...s})});i.displayName="Textarea"},21567:(e,a,t)=>{"use strict";t.d(a,{cn:()=>r});var l=t(43463),s=t(69795);function r(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,s.QP)((0,l.$)(a))}},46195:(e,a,t)=>{"use strict";t.d(a,{b:()=>d});var l=t(12115),s=t(59997),r=t(95155),i=l.forwardRef((e,a)=>(0,r.jsx)(s.sG.label,{...e,ref:a,onMouseDown:a=>{var t;a.target.closest("button, input, select, textarea")||(null===(t=e.onMouseDown)||void 0===t||t.call(e,a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));i.displayName="Label";var d=i}},e=>{var a=a=>e(e.s=a);e.O(0,[1181,8526,8562,164,2589,814,8007,5565,9526,6143,4015,8665,6527,6137,7555,7328,9086,8441,1517,7358],()=>a(72034)),_N_E=e.O()}]);
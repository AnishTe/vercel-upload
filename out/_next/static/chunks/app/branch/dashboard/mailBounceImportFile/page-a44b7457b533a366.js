(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4821],{2579:(e,l,t)=>{Promise.resolve().then(t.bind(t,86525))},73239:(e,l,t)=>{"use strict";t.d(l,{A:()=>a});let a=(0,t(67401).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},86525:(e,l,t)=>{"use strict";t.d(l,{default:()=>v});var a=t(95155),s=t(47282),r=t(12711),d=t(73312),i=t(22130),n=t(33900),c=t(12115),o=t(67328),u=t(51344),f=t(75340),m=t(73239),x=t(2291),p=t(98986);function v(){let[e,l]=(0,c.useState)(null),[t,v]=(0,c.useState)(!1),[h,j]=(0,c.useState)(!1),[N,w]=(0,c.useState)(!1),[y,g]=(0,c.useState)({title:"",message:"",isError:!1}),[b,C]=(0,c.useState)(!0),E=(0,c.useRef)(null),S=async t=>{if(t.preventDefault(),!e){k("Error","Please select a file to upload",!0);return}j(!0);try{var a,r,d,i,n,c,u,f;let t=new FormData;t.append("file",e,e.name);let m=JSON.stringify({sentToAP:b}),x=new Blob([m],{type:"application/json"});t.append("data",x);let p=await (0,s.Vfl)(t);if(!(0,o.k9)(p)){v(!0);return}if((null==p?void 0:null===(r=p.data)||void 0===r?void 0:null===(a=r.data)||void 0===a?void 0:a.fileUploadStatus)&&(null==p?void 0:null===(i=p.data)||void 0===i?void 0:null===(d=i.data)||void 0===d?void 0:d.recordsInsertedStatus))k("Success","File uploaded and data inserted successfully! Unique Email Id's from log files: ".concat(null==p?void 0:null===(c=p.data)||void 0===c?void 0:null===(n=c.data)||void 0===n?void 0:n.uniqueRecipientsCount),!1),l(null),E.current&&(E.current.value="");else throw Error((null==p?void 0:null===(f=p.data)||void 0===f?void 0:null===(u=f.data)||void 0===u?void 0:u.error)||"Failed to upload file :(")}catch(e){k("Error","Error uploading file",!0),console.error("Upload error:",e)}finally{j(!1)}},k=(e,l,t)=>{g({title:e,message:l,isError:t}),w(!0)};return(0,c.useEffect)(()=>{if(N){let e=setTimeout(()=>{w(!1)},5e3);return()=>clearTimeout(e)}},[N]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.default,{children:(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)(i.Zp,{className:"w-full shadow-lg",children:[(0,a.jsx)(i.aR,{className:"",children:(0,a.jsx)(i.ZB,{className:"text-center",children:"Mail Bounce Import File"})}),(0,a.jsx)(i.Wu,{children:(0,a.jsx)("div",{className:"flex flex-col justify-center items-center gap-8 min-h-[400px]",children:(0,a.jsxs)("form",{onSubmit:S,className:"space-y-6 w-full max-w-md p-6 rounded-xl",children:[(0,a.jsx)("div",{className:"grid w-full max-w-sm items-center gap-1.5",children:(0,a.jsx)(n.p,{id:"file",type:"file",onChange:e=>{e.target.files&&e.target.files[0]&&l(e.target.files[0])},className:"cursor-pointer",ref:E})}),(0,a.jsx)("div",{className:"space-y-2",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(x.S,{id:"notifyAP",checked:b,onCheckedChange:e=>C(e)}),(0,a.jsx)(p.J,{htmlFor:"notifyAP",children:"Notify AP"})]})}),(0,a.jsx)(d.$,{type:"submit",className:"w-full ",disabled:!e||h,children:h?"Uploading...":"Submit"})]})})})]})})}),t&&(0,a.jsx)(o.Bs,{}),(0,a.jsx)(u.lG,{open:N,onOpenChange:w,children:(0,a.jsxs)(u.Cf,{className:"sm:max-w-[425px]",children:[(0,a.jsxs)(u.c7,{children:[(0,a.jsx)("div",{className:"flex items-center justify-center mb-4",children:y.isError?(0,a.jsx)(f.A,{className:"h-16 w-16 text-red-500"}):(0,a.jsx)(m.A,{className:"h-16 w-16 text-green-500"})}),(0,a.jsx)(u.L3,{className:"text-center text-xl font-semibold",children:y.title})]}),(0,a.jsx)(u.rr,{className:"text-center text-base",children:y.message}),(0,a.jsx)(u.Es,{children:(0,a.jsx)(d.$,{onClick:()=>w(!1),className:"w-full",children:"OK"})})]})})]})}},22130:(e,l,t)=>{"use strict";t.d(l,{BT:()=>c,Wu:()=>o,ZB:()=>n,Zp:()=>d,aR:()=>i,wL:()=>u});var a=t(95155),s=t(12115),r=t(21567);let d=s.forwardRef((e,l)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:l,className:(0,r.cn)("rounded-xl border bg-card text-card-foreground shadow mt-7",t),...s})});d.displayName="Card";let i=s.forwardRef((e,l)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:l,className:(0,r.cn)("flex flex-row lg:flex-row md:flex-col sm:flex-col md:items-center md:justify-between p-6 border-b bg-blue-500 mx-3 -mt-6 px-8 pt-4 pb-4 rounded-xl shadow-lg text-white space-y-4 md:space-y-0 mb-4",t),...s})});i.displayName="CardHeader";let n=s.forwardRef((e,l)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:l,className:(0,r.cn)("font-semibold leading-none tracking-tight",t),...s})});n.displayName="CardTitle";let c=s.forwardRef((e,l)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:l,className:(0,r.cn)("text-sm text-muted",t),...s})});c.displayName="CardDescription";let o=s.forwardRef((e,l)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:l,className:(0,r.cn)("p-3 pt-0",t),...s})});o.displayName="CardContent";let u=s.forwardRef((e,l)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:l,className:(0,r.cn)("flex items-center p-3 pt-0",t),...s})});u.displayName="CardFooter"},98986:(e,l,t)=>{"use strict";t.d(l,{J:()=>c});var a=t(95155),s=t(12115),r=t(46195),d=t(31027),i=t(21567);let n=(0,d.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=s.forwardRef((e,l)=>{let{className:t,...s}=e;return(0,a.jsx)(r.b,{ref:l,className:(0,i.cn)(n(),t),...s})});c.displayName=r.b.displayName},87081:(e,l,t)=>{"use strict";t.d(l,{E:()=>r});var a=t(95155),s=t(21567);function r(e){let{className:l,...t}=e;return(0,a.jsx)("div",{className:(0,s.cn)("animate-pulse rounded-md bg-primary/10",l),...t})}},21567:(e,l,t)=>{"use strict";t.d(l,{cn:()=>r});var a=t(43463),s=t(69795);function r(){for(var e=arguments.length,l=Array(e),t=0;t<e;t++)l[t]=arguments[t];return(0,s.QP)((0,a.$)(l))}},46195:(e,l,t)=>{"use strict";t.d(l,{b:()=>i});var a=t(12115),s=t(59997),r=t(95155),d=a.forwardRef((e,l)=>(0,r.jsx)(s.sG.label,{...e,ref:l,onMouseDown:l=>{var t;l.target.closest("button, input, select, textarea")||(null===(t=e.onMouseDown)||void 0===t||t.call(e,l),!l.defaultPrevented&&l.detail>1&&l.preventDefault())}}));d.displayName="Label";var i=d}},e=>{var l=l=>e(e.s=l);e.O(0,[1181,8526,8562,164,2589,814,8007,5565,9526,6143,4015,8665,6137,7555,7328,9086,8441,1517,7358],()=>l(2579)),_N_E=e.O()}]);
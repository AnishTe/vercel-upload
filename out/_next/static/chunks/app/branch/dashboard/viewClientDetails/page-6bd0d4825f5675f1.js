(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[853,9299],{97350:(e,s,t)=>{Promise.resolve().then(t.bind(t,73830))},20853:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(67401).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},73830:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>v});var a=t(95155),l=t(47282),r=t(12711),i=t(22130),n=t(12115),d=t(33900),c=t(73312),o=t(98986),u=t(20853),m=t(30814),x=t(87081),h=t(83469),f=t(77240);let p=["clientId","clientName","email","pan","mobile","birthDate","branchCode"],v=(0,f.p)(function(e){let{validationResult:s,setValidationResult:t}=e,[v,w]=(0,n.useState)(!1),[b,g]=(0,n.useState)(null),[N,j]=(0,n.useState)(null),[y,C]=(0,n.useState)(""),k=async e=>{let s=(null!=e?e:y).trim();if(!s){j(null),m.oR.error("Please enter a Client ID");return}w(!0),g(null);try{let e=await (0,l.l7y)({clientId:s}),i=(0,f.s)(e);if(t(i),i.isValid){let s="string"==typeof e.data.data?JSON.parse(e.data.data):e.data.data;if(s)j(s);else{var a,r;throw Error((null===(r=e.data)||void 0===r?void 0:null===(a=r.branchClientCheck)||void 0===a?void 0:a.message)||"Failed to fetch client data")}}else g("You are not authorized to access this client."),j(null)}catch(e){g(e.message||"An error occurred while fetching data."),j(null)}finally{w(!1)}},R=e=>e.split(/(?=[A-Z])|_/).map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(" ");return s.isValid?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(r.default,{children:(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)(i.Zp,{className:"w-full shadow-lg",children:[(0,a.jsx)(i.aR,{children:(0,a.jsx)(i.ZB,{className:"text-center",children:"View Client Details"})}),(0,a.jsxs)(i.Wu,{className:"container mx-auto",children:[(0,a.jsxs)("div",{className:"flex flex-col space-y-2 mb-4 w-full sm:w-auto p-4",children:[(0,a.jsx)(o.J,{htmlFor:"clientId",children:"Please enter ClientID to continue:"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 w-full sm:w-auto",children:[(0,a.jsx)(d.p,{id:"clientId",type:"text",placeholder:"Enter Client ID",value:y,onChange:e=>{C(e.target.value)},onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),k(y))},className:"w-full sm:w-48"}),(0,a.jsx)(c.$,{onClick:()=>k(),disabled:v,size:"sm",children:(0,a.jsx)(u.A,{className:"h-4 w-4"})})]})]}),b&&(0,a.jsx)("div",{className:"text-center text-red-500 p-4 bg-red-100 rounded-md",children:b}),v?(0,a.jsxs)("div",{className:"container mx-auto w-full md:w-[80%]",children:[(0,a.jsx)(x.E,{className:"h-6 w-40 mb-4"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 m-4",children:Array.from({length:10}).map((e,s)=>(0,a.jsxs)("div",{className:"flex flex-row gap-2 p-2",children:[(0,a.jsx)(x.E,{className:"h-4 w-24"}),(0,a.jsx)(x.E,{className:"h-4 w-32"})]},s))})]}):N&&(0,a.jsxs)("div",{className:"container mx-auto w-full  p-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:[null==p?void 0:p.map(e=>N[e]&&(0,a.jsxs)("div",{className:"flex flex-wrap gap-2 p-2 rounded-lg shadow-sm",children:[(0,a.jsxs)("span",{className:"font-semibold text-base sm:text-lg w-full sm:w-1/2",children:[R(e),":"]}),(0,a.jsx)("span",{className:"text-sm sm:text-md w-full sm:w-1/2",children:N[e]})]},e)),Object.entries(N).map(e=>{let[s,t]=e;return!(null==p?void 0:p.includes(s))&&(0,a.jsxs)("div",{className:"flex flex-wrap gap-2 p-2 rounded-lg shadow-sm",children:[(0,a.jsxs)("span",{className:"font-semibold text-base sm:text-lg w-full sm:w-1/2",children:[R(s),":"]}),(0,a.jsx)("span",{className:"text-sm sm:text-md w-full sm:w-1/2 break-words whitespace-normal overflow-hidden",children:t})]},s)})]}),(0,a.jsx)("div",{className:"flex justify-center mt-6",children:(0,a.jsx)(c.$,{disabled:v,onClick:()=>{let e=N.clientId;encodeURIComponent(JSON.stringify(N)),sessionStorage.setItem("branchClientCheck_".concat(e),JSON.stringify(N));let s=(0,h.K)("/client/dashboard");window.open("".concat(s,"?clientId=").concat(e,"&branchClientCheck=true"),"_blank")},className:"px-6 py-2 text-white bg-blue-600 hover:bg-blue-700 transition rounded-lg",children:"Go to Client Dashboard"})})]})]})]})})})}):null})},38002:(e,s,t)=>{"use strict";t.d(s,{Fc:()=>d,TN:()=>o,XL:()=>c});var a=t(95155),l=t(12115),r=t(31027),i=t(21567);let n=(0,r.F)("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),d=l.forwardRef((e,s)=>{let{className:t,variant:l,...r}=e;return(0,a.jsx)("div",{ref:s,role:"alert",className:(0,i.cn)(n({variant:l}),t),...r})});d.displayName="Alert";let c=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("h5",{ref:s,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",t),...l})});c.displayName="AlertTitle";let o=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",t),...l})});o.displayName="AlertDescription"},22130:(e,s,t)=>{"use strict";t.d(s,{BT:()=>c,Wu:()=>o,ZB:()=>d,Zp:()=>i,aR:()=>n,wL:()=>u});var a=t(95155),l=t(12115),r=t(21567);let i=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:(0,r.cn)("rounded-xl border bg-card text-card-foreground shadow mt-7",t),...l})});i.displayName="Card";let n=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:(0,r.cn)("flex flex-row lg:flex-row md:flex-col sm:flex-col md:items-center md:justify-between p-6 border-b bg-blue-500 mx-3 -mt-6 px-8 pt-4 pb-4 rounded-xl shadow-lg text-white space-y-4 md:space-y-0 mb-4",t),...l})});n.displayName="CardHeader";let d=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:(0,r.cn)("font-semibold leading-none tracking-tight",t),...l})});d.displayName="CardTitle";let c=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:(0,r.cn)("text-sm text-muted",t),...l})});c.displayName="CardDescription";let o=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:(0,r.cn)("p-3 pt-0",t),...l})});o.displayName="CardContent";let u=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:(0,r.cn)("flex items-center p-3 pt-0",t),...l})});u.displayName="CardFooter"},98986:(e,s,t)=>{"use strict";t.d(s,{J:()=>c});var a=t(95155),l=t(12115),r=t(46195),i=t(31027),n=t(21567);let d=(0,i.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(r.b,{ref:s,className:(0,n.cn)(d(),t),...l})});c.displayName=r.b.displayName},87081:(e,s,t)=>{"use strict";t.d(s,{E:()=>r});var a=t(95155),l=t(21567);function r(e){let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,l.cn)("animate-pulse rounded-md bg-primary/10",s),...t})}},21567:(e,s,t)=>{"use strict";t.d(s,{cn:()=>r});var a=t(43463),l=t(69795);function r(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,l.QP)((0,a.$)(s))}},77240:(e,s,t)=>{"use strict";t.d(s,{p:()=>u,s:()=>o});var a=t(95155),l=t(12115),r=t(30814),i=t(38002),n=t(67328),d=t(76046),c=t(58690);let o=e=>{var s,t,a;let l=null==e?void 0:null===(s=e.data)||void 0===s?void 0:s.tokenValidity,i=null==e?void 0:null===(a=e.data)||void 0===a?void 0:null===(t=a.tokenValidity)||void 0===t?void 0:t.branchClientCheck,n={isValid:!0,showSessionExpired:!1,showAccessDenied:!1,userType:(null==l?void 0:l.userType)||""};if(l&&!l.isValid){n.isValid=!1,n.showSessionExpired=!0;let e=(0,c.Lg)("currentClientId");e&&((0,c.$1)("userToken_".concat(e)),(0,c.$1)("userID_".concat(e)),(0,c.$1)("userDetails_".concat(e)),(0,c.$1)("currentClientId")),r.oR.error("You have been logged out :(")}else l||r.oR.warning("tokenValidity is not available in response.");return i&&!i.isValidBranch&&(null==l?void 0:l.userType)==="BRANCH"&&(n.isValid=!1,n.showAccessDenied=!0),n};function u(e){return function(s){let t=(0,d.usePathname)(),[c,o]=(0,l.useState)({isValid:!0,showSessionExpired:!1,showAccessDenied:!1,userType:""});if((0,l.useEffect)(()=>{c.showAccessDenied&&"BRANCH"===c.userType&&(t.startsWith("/branch")?(r.oR.error("You are not authorized to access this branch."),o(e=>({...e,showAccessDenied:!1,isValid:!0}))):t.startsWith("/client")&&r.oR.error("You are not authorized to access this branch."))},[c,t]),c.showSessionExpired)return(0,a.jsx)(n.Bs,{});if(c.showAccessDenied&&"BRANCH"===c.userType){if(t.startsWith("/branch"))return null;if(t.startsWith("/client"))return(0,a.jsx)(()=>{let[e,s]=(0,l.useState)(5),r=(0,d.useSearchParams)();return(0,l.useEffect)(()=>{let e=r.get("clientId"),a=r.get("branchClientCheck");if(!(t.startsWith("/client")&&e&&"true"===a))return;let l=setInterval(()=>{sessionStorage.removeItem("branchClientCheck"),sessionStorage.removeItem("clientId"),sessionStorage.removeItem("branchClientCheck_".concat(e)),sessionStorage.clear(),s(e=>(e<=1&&(clearInterval(l),window.close()),e-1))},1e3);return()=>clearInterval(l)},[r]),(0,a.jsxs)("div",{className:"fixed inset-0 flex items-center justify-center z-50",children:[(0,a.jsx)("div",{className:"absolute inset-0 backdrop-blur-sm"}),(0,a.jsxs)(i.Fc,{className:"w-full max-w-lg border border-black/20 shadow-lg backdrop-blur-md",children:[(0,a.jsx)(i.XL,{className:"text-2xl font-bold text-destructive",children:"Access Denied"}),(0,a.jsxs)(i.TN,{className:"mt-4 text-lg",children:[(0,a.jsx)("p",{className:"mb-4",children:"You are not authorized to access this branch."}),(0,a.jsxs)("div",{className:"font-semibold",children:["Closing window in ",(0,a.jsx)("span",{className:"text-destructive",children:e})," seconds..."]})]})]})]})},{})}return c.isValid?(0,a.jsx)(e,{...s,validationResult:c,setValidationResult:o}):null}}},46195:(e,s,t)=>{"use strict";t.d(s,{b:()=>n});var a=t(12115),l=t(59997),r=t(95155),i=a.forwardRef((e,s)=>(0,r.jsx)(l.sG.label,{...e,ref:s,onMouseDown:s=>{var t;s.target.closest("button, input, select, textarea")||(null===(t=e.onMouseDown)||void 0===t||t.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));i.displayName="Label";var n=i}},e=>{var s=s=>e(e.s=s);e.O(0,[1181,8526,8562,164,2589,814,8007,5565,9526,6143,4015,8665,6137,7555,7328,9086,8441,1517,7358],()=>s(97350)),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[123],{61795:(e,t,s)=>{Promise.resolve().then(s.bind(s,62421))},99577:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(67401).A)("ArrowDownUp",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"m21 8-4-4-4 4",key:"1c9v7m"}],["path",{d:"M17 4v16",key:"7dpous"}]])},98435:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(67401).A)("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]])},96771:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(67401).A)("HandCoins",[["path",{d:"M11 15h2a2 2 0 1 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 17",key:"geh8rc"}],["path",{d:"m7 21 1.6-1.4c.3-.4.8-.6 1.4-.6h4c1.1 0 2.1-.4 2.8-1.2l4.6-4.4a2 2 0 0 0-2.75-2.91l-4.2 3.9",key:"1fto5m"}],["path",{d:"m2 16 6 6",key:"1pfhp9"}],["circle",{cx:"16",cy:"9",r:"2.9",key:"1n0dlu"}],["circle",{cx:"6",cy:"5",r:"3",key:"151irh"}]])},48686:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(67401).A)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},77711:(e,t,s)=>{"use strict";s.d(t,{default:()=>n.a});var a=s(21956),n=s.n(a)},21956:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n}});let a=s(60306)._(s(30580));function n(e,t){var s;let n={};"function"==typeof e&&(n.loader=e);let l={...n,...t};return(0,a.default)({...l,modules:null==(s=l.loadableGenerated)?void 0:s.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},39827:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return n}});let a=s(93719);function n(e){let{reason:t,children:s}=e;if("undefined"==typeof window)throw new a.BailoutToCSRError(t);return s}},30580:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return c}});let a=s(95155),n=s(12115),l=s(39827),r=s(79214);function i(e){return{default:e&&"default"in e?e.default:e}}let d={loader:()=>Promise.resolve(i(()=>null)),loading:null,ssr:!0},c=function(e){let t={...d,...e},s=(0,n.lazy)(()=>t.loader().then(i)),c=t.loading;function o(e){let i=c?(0,a.jsx)(c,{isLoading:!0,pastDelay:!0,error:null}):null,d=!t.ssr||!!t.loading,o=d?n.Suspense:n.Fragment,m=t.ssr?(0,a.jsxs)(a.Fragment,{children:["undefined"==typeof window?(0,a.jsx)(r.PreloadChunks,{moduleIds:t.modules}):null,(0,a.jsx)(s,{...e})]}):(0,a.jsx)(l.BailoutToCSR,{reason:"next/dynamic",children:(0,a.jsx)(s,{...e})});return(0,a.jsx)(o,{...d?{fallback:i}:{},children:m})}return o.displayName="LoadableComponent",o}},79214:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return i}});let a=s(95155),n=s(47650),l=s(75861),r=s(18284);function i(e){let{moduleIds:t}=e;if("undefined"!=typeof window)return null;let s=l.workAsyncStorage.getStore();if(void 0===s)return null;let i=[];if(s.reactLoadableManifest&&t){let e=s.reactLoadableManifest;for(let s of t){if(!e[s])continue;let t=e[s].files;i.push(...t)}}return 0===i.length?null:(0,a.jsx)(a.Fragment,{children:i.map(e=>{let t=s.assetPrefix+"/_next/"+(0,r.encodeURIPath)(e);return e.endsWith(".css")?(0,a.jsx)("link",{precedence:"dynamic",href:t,rel:"stylesheet",as:"style"},e):((0,n.preload)(t,{as:"script",fetchPriority:"low"}),null)})})}},62421:(e,t,s)=>{"use strict";s.d(t,{default:()=>D});var a=s(95155),n=s(12115),l=s(22130),r=s(73312),i=s(30814),d=s(47282),c=s(67328),o=s(12711),m=s(48686),u=s(48617),x=s(61594),h=s(96771),p=s(93650),f=s(51710),g=s(94696),j=s(72157),y=s(98435),b=s(99577),v=s(85147),N=s(72508),w=s(33900),k=s(25121),A=s(2291),S=s(37528),C=s(77711),q=s(74317);(0,C.default)(()=>Promise.all([s.e(2226),s.e(7690),s.e(9190),s.e(1122),s.e(3740),s.e(2449),s.e(7981),s.e(853)]).then(s.bind(s,17981)),{loadableGenerated:{webpack:()=>[17981]},ssr:!1});let P=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(e),I=e=>{let{itemKey:t,currentValue:s,hasError:n,maxQuantity:l,onChange:i}=e;return(0,a.jsxs)("div",{className:"relative w-32",children:[(0,a.jsx)(w.p,{name:"quantity",type:"number",step:"1",min:"1","data-id":"quantity-".concat(t),placeholder:"Qty",value:s||"",className:"h-7 text-right pr-6 text-xs ".concat(n?"border-destructive bg-red-50":"border-gray-300 bg-white focus:border-primary focus:ring-1 focus:ring-primary"),onClick:e=>e.stopPropagation(),onKeyDown:e=>{("."===e.key||","===e.key)&&e.preventDefault()},onChange:e=>{i(t,e.target.value,l)}}),(0,a.jsx)(r.$,{variant:"ghost",size:"icon",className:"h-4 w-4 absolute right-1 top-1.5 p-0 text-primary hover:text-primary/80",onClick:e=>{e.stopPropagation();let s=document.querySelector('input[data-id="quantity-'.concat(t,'"]'));s&&s.focus()},children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,a.jsx)("path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"})})})]})};function D(){let[e,t]=(0,n.useState)([]),[s,w]=(0,n.useState)([]),[C,D]=(0,n.useState)(!0),[Q,E]=(0,n.useState)(null),[_,R]=(0,n.useState)(!1),[M,z]=(0,n.useState)(!1),[L,F]=(0,n.useState)([]),[O,B]=(0,n.useState)({}),[T,H]=(0,n.useState)({}),[V,W]=(0,n.useState)(!1),[Z,U]=(0,n.useState)(""),[K,G]=(0,n.useState)(null),[$,J]=(0,n.useState)("amount-high-low"),[X,Y]=(0,n.useState)(!1),ee=(0,n.useRef)(null),et=(0,n.useRef)([]),es=(0,n.useRef)(null),[ea,en]=(0,n.useState)(!1);(0,n.useEffect)(()=>{let e=()=>{en(window.innerWidth<768)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]);let el=(0,n.useCallback)(()=>L.map(e=>{let t=e.inputs||{};return{...e,inputs:t}}),[L]),er=(0,n.useCallback)(()=>{let t=[...e];switch($){case"amount-high-low":return t.sort((e,t)=>t.amount-e.amount);case"script-a-z":return t.sort((e,t)=>e.scriptName.localeCompare(t.scriptName));case"script-z-a":return t.sort((e,t)=>t.scriptName.localeCompare(e.scriptName));case"amount-low-high":return t.sort((e,t)=>e.amount-t.amount);default:return t}},[e,$]),ei=async()=>{D(!0),E(null);try{let e=await (0,d.HmW)();if(!(0,c.k9)(e)){z(!0);return}let s=e.data.data,a={};s.forEach(e=>{a["".concat(e.boID,"-").concat(e.isin)]={quantity:e.unpledgedQuantity}}),H(a),t(s),w(s),0===s.length&&i.oR.info("No pledge data available.")}catch(e){E(e.message||"An error occurred while fetching data."),i.oR.error("Failed to fetch pledge data. Please try again later.")}finally{D(!1)}};(0,n.useEffect)(()=>{ei()},[]);let ed=(t,s,a)=>{let n=Number.parseInt(s,10);H(e=>({...e,[t]:{...e[t],quantity:n||0}})),eo(t,n,a);let[l,r]=t.split("-"),i=L.findIndex(e=>e.boID===l&&e.isin===r);if(i>=0){let e=[...L];e[i]={...e[i],inputs:{...e[i].inputs,quantity:n}},F(e)}let d=document.getElementById("amount-".concat(t));if(d){let t=e.find(e=>e.boID===l&&e.isin===r);if(t){let e=t.amount,s=t.unpledgedQuantity;d.textContent=P(s>0?e*n/s:0)}}},ec=async()=>{if(0===L.length){i.oR.error("Please select at least one row.");return}if(L.length>49){i.oR.error("Please select less than 50 items.");return}D(!0),E(null);try{let e=L.map(e=>{var t;let s=e.boID,a=e.isin,n="".concat(s,"-").concat(a),l=e.inputs.quantity||"",r=(null===(t=document.getElementById("amount-".concat(n)))||void 0===t?void 0:t.textContent)||"0",i=parseFloat(r.replace(/[^0-9.]/g,"")||"0").toFixed(2);return{clientid:e.clientId.toString()||"",boid:s,isin:a,quantity:l.toString(),amount:i,segment:"CM"}});console.log(e);let t=await (0,d.dEx)({record:e});if(!(0,c.k9)(t)){z(!0);return}let s=JSON.parse(t.data.data);if(s.reqid)F([]),localStorage.setItem("pledgeReturnUrl",window.location.pathname),U(s.url),G({pledgedtls:s.pledgedtls,dpid:s.dpid,version:s.version,reqid:s.reqid}),Y(!0);else throw Error((null==s?void 0:s.error)||"Failed to pledge stock")}catch(e){console.error("Error during pledge application:",e),i.oR.error(e instanceof Error?e.message:"An error occurred while pledging the stock")}finally{var e;D(!1),R(!1),null===(e=es.current)||void 0===e||e.close()}};(0,n.useEffect)(()=>{if(X&&Z&&K){let e=setTimeout(()=>{let e=document.getElementById("pledgeForm");if(e){e.pledgeDtls.value=K.pledgedtls,e.dpid.value=K.dpid,e.version.value=K.version,e.reqid.value=K.reqid;let t=e.querySelector('button[type="submit"]');t&&(t.click(),Y(!1))}},3e3);return()=>clearTimeout(e)}},[X,Z,K]);let eo=(e,t,s)=>{let a="".concat(e,"-quantity");return isNaN(t)||t<=0||!Number.isInteger(t)?(B(e=>({...e,[a]:"Quantity should not be blank or zero."})),!1):t>s?(B(e=>({...e,[a]:"Quantity cannot exceed the unpledged quantity (".concat(s,")")})),!1):(B(e=>{let t={...e};return delete t[a],t}),!0)},em=()=>{let e=!0,t={};return L.forEach(s=>{var a;let n="".concat(s.boID,"-").concat(s.isin),l=(null===(a=T[n])||void 0===a?void 0:a.quantity)||0,r="".concat(n,"-quantity");isNaN(l)||l<=0||!Number.isInteger(l)?(t[r]="Quantity should not be blank or zero.",e=!1):l>s.unpledgedQuantity&&(t[r]="Quantity cannot exceed the unpledged quantity (".concat(s.unpledgedQuantity,")"),e=!1)}),B(t),e},eu=(e,t)=>{let s="".concat(t.boID,"-").concat(t.isin);if(e){var a;F([...L,{...t,inputs:{quantity:(null===(a=T[s])||void 0===a?void 0:a.quantity)||t.unpledgedQuantity}}])}else F(L.filter(e=>!(e.boID===t.boID&&e.isin===t.isin)))},ex=(e,t)=>{var s,n,l;let r="".concat(e.boID,"-").concat(e.isin),i="".concat(r,"-quantity"),d=!!O[i],c=L.some(t=>t.boID===e.boID&&t.isin===e.isin),o=(null===(s=T[r])||void 0===s?void 0:s.quantity)!==void 0?T[r].quantity:e.unpledgedQuantity;return(0,a.jsx)("div",{className:"rounded-md mb-2 transition-all duration-200 ".concat(c?"bg-primary/5 border border-primary/20 shadow":"border border-gray-200 hover:border-primary/30 hover:shadow-sm"),children:(0,a.jsxs)("div",{className:"p-2",children:[ea?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(A.S,{id:"select-".concat(t),checked:c,onCheckedChange:t=>eu(!!t,e)}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:e.scriptName}),(0,a.jsx)(k.E,{variant:"outline",className:"ml-2 text-[10px] bg-blue-50 text-blue-700 border-blue-200",children:e.isin})]})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2 ml-6 mb-2",children:[(0,a.jsxs)("div",{className:"text-xs bg-gray-50 p-1 rounded",children:[(0,a.jsx)("span",{className:"text-gray-700 font-medium",children:"BOID:"})," ",(0,a.jsx)("span",{className:"font-medium",children:e.boID})]}),(0,a.jsxs)("div",{className:"text-xs bg-gray-50 p-1 rounded",children:[(0,a.jsx)("span",{className:"text-gray-700 font-medium",children:"Amount:"})," ",(0,a.jsx)("span",{id:"amount-".concat(r),className:"font-medium",children:P((null===(n=T[r])||void 0===n?void 0:n.quantity)&&e.unpledgedQuantity>0?e.amount*T[r].quantity/e.unpledgedQuantity:e.amount)})]}),(0,a.jsxs)("div",{className:"text-xs flex items-center bg-green-50 p-1 rounded",children:[(0,a.jsx)(m.A,{className:"h-3 w-3 text-green-600 mr-1"}),(0,a.jsx)("span",{className:"text-gray-700 font-medium",children:"Total:"})," ",(0,a.jsx)("span",{className:"font-medium ml-1",children:e.totalQuantity})]}),(0,a.jsxs)("div",{className:"text-xs flex items-center bg-amber-50 p-1 rounded",children:[(0,a.jsx)(u.A,{className:"h-3 w-3 text-amber-500 mr-1"}),(0,a.jsx)("span",{className:"text-gray-700 font-medium",children:"Unpledged:"})," ",(0,a.jsx)("span",{className:"font-medium ml-1",children:e.unpledgedQuantity})]})]}),(0,a.jsx)("div",{className:"flex items-center justify-between ml-6",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-[10px] text-gray-700 font-medium block mb-1",children:"Pledge Quantity"}),(0,a.jsx)(I,{itemKey:r,currentValue:o,hasError:d,maxQuantity:e.unpledgedQuantity,onChange:ed})]})})]}):(0,a.jsxs)("div",{className:"grid grid-cols-12 gap-4 items-center",children:[(0,a.jsxs)("div",{className:"col-span-4 flex items-center space-x-2",children:[(0,a.jsx)(A.S,{id:"select-".concat(t),checked:c,onCheckedChange:t=>eu(!!t,e)}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:e.scriptName}),(0,a.jsx)(k.E,{variant:"outline",className:"ml-2 text-[10px] bg-blue-50 text-blue-700 border-blue-200",children:e.isin})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-xs",children:[(0,a.jsxs)("span",{className:"bg-gray-100 px-1 py-0.5 rounded font-medium text-gray-800",children:["BOID: ",e.boID]}),(0,a.jsx)("span",{children:"â€¢"}),(0,a.jsxs)("span",{className:"bg-gray-100 px-1 py-0.5 rounded font-medium text-gray-800",children:["Amount:"," ",(0,a.jsx)("span",{id:"amount-".concat(r),children:P((null===(l=T[r])||void 0===l?void 0:l.quantity)&&e.unpledgedQuantity>0?e.amount*T[r].quantity/e.unpledgedQuantity:e.amount)})]})]})]})]}),(0,a.jsxs)("div",{className:"col-span-4 flex items-center justify-center space-x-3",children:[(0,a.jsxs)("div",{className:"flex items-center bg-green-50 px-2 py-1 rounded-md",children:[(0,a.jsx)(m.A,{className:"h-3 w-3 text-green-600 mr-1"}),(0,a.jsxs)("span",{className:"text-xs font-medium text-green-700",children:["Total: ",e.totalQuantity]})]}),(0,a.jsxs)("div",{className:"flex items-center bg-amber-50 px-2 py-1 rounded-md",children:[(0,a.jsx)(u.A,{className:"h-3 w-3 text-amber-500 mr-1"}),(0,a.jsxs)("span",{className:"text-xs font-medium text-amber-700",children:["Unpledged: ",e.unpledgedQuantity]})]})]}),(0,a.jsx)("div",{className:"col-span-4 flex items-center justify-end",children:(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("span",{className:"text-[10px] font-medium text-gray-700",children:"Pledge Qty"}),(0,a.jsx)(I,{itemKey:r,currentValue:o,hasError:d,maxQuantity:e.unpledgedQuantity,onChange:ed})]})})]}),d&&(0,a.jsxs)("div",{className:"mt-1 ml-6 flex items-center text-destructive text-[10px] bg-red-50 p-1 rounded",children:[(0,a.jsx)(x.A,{className:"h-3 w-3 mr-1 flex-shrink-0"}),(0,a.jsx)("span",{className:"truncate",children:O[i]})]})]})},"".concat(r,"-").concat(t))};return(0,a.jsxs)(o.default,{children:[(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between space-y-2 sm:space-y-0",children:[(0,a.jsx)(l.ZB,{children:"MTF Pledge"}),e.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"text-xs text-amber-700 bg-amber-50 border border-amber-200 rounded-md px-2 py-1 flex items-center mx-auto",children:[(0,a.jsx)(x.A,{className:"h-3 w-3 mr-1 flex-shrink-0"}),(0,a.jsxs)("p",{className:"sm:whitespace-nowrap",children:[(0,a.jsx)("span",{className:"font-semibold",children:"Note:"})," Do not pledge stocks you plan to sell today or have already sold. Pledging such stocks can lead to settlement issues or short delivery."]})]}),(0,a.jsxs)(r.$,{onClick:()=>{let e=el();if(0===e.length){i.oR.error("Please select at least one item");return}if(e.length>49){i.oR.error("Please select less than 50 items.");return}if(et.current=e,F(e),em()){var t;null===(t=es.current)||void 0===t||t.open()}else i.oR.error("Please review the details before confirming.",{icon:(0,a.jsx)(x.A,{className:"h-5 w-5 text-destructive"})})},size:"sm",className:"bg-primary hover:bg-primary/90 whitespace-nowrap",children:[(0,a.jsx)(h.A,{className:"h-4 w-4 mr-2"}),"Apply Pledge"]})]})]}),(0,a.jsx)(l.Wu,{children:C?(0,a.jsx)(v.A,{columns:4,rows:10}):Q?(0,a.jsx)("div",{className:"text-center text-red-500 p-4 bg-red-100 rounded-md",children:Q}):(0,a.jsx)(a.Fragment,{children:0===e.length?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center p-4 text-center bg-muted/20 rounded-md border border-dashed border-muted-foreground/20 my-4",children:[(0,a.jsx)("div",{className:"rounded-full bg-muted p-3 mb-4",children:(0,a.jsx)(p.A,{className:"h-8 w-8 text-muted-foreground"})}),(0,a.jsx)("h3",{className:"text-lg font-medium mb-2",children:"No records found"}),(0,a.jsx)("p",{className:"text-muted-foreground mb-4 max-w-md",children:"There are no records available for this criteria."})]}):(0,a.jsxs)("div",{className:"space-y-1",ref:ee,children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 bg-muted/10 rounded-md mb-3 shadow-sm gap-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(A.S,{id:"select-all",checked:L.length===e.length,onCheckedChange:t=>{t?F(e.map(e=>{var t;let s="".concat(e.boID,"-").concat(e.isin);return{...e,inputs:{quantity:(null===(t=T[s])||void 0===t?void 0:t.quantity)||e.unpledgedQuantity}}})):F([])}}),(0,a.jsx)("label",{htmlFor:"select-all",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Select All"})]}),(0,a.jsx)("div",{className:"".concat(ea?"w-[140px]":"w-[200px]"),children:(0,a.jsxs)(S.l6,{value:$,onValueChange:J,children:[(0,a.jsx)(S.bq,{className:"".concat(ea?"h-7 text-xs px-2":"h-8 text-xs"),children:(0,a.jsxs)(S.yv,{placeholder:"Sort by",children:["default"===$&&(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(f.A,{className:"h-3.5 w-3.5 mr-2"}),(0,a.jsx)("span",{children:"Default"})]}),"script-a-z"===$&&(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(g.A,{className:"h-3.5 w-3.5 mr-2"}),(0,a.jsx)("span",{children:"Script Name (A-Z)"})]}),"script-z-a"===$&&(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(j.A,{className:"h-3.5 w-3.5 mr-2"}),(0,a.jsx)("span",{children:"Script Name (Z-A)"})]}),"amount-low-high"===$&&(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(y.A,{className:"h-3.5 w-3.5 mr-2"}),(0,a.jsx)("span",{children:"Amount (Low-High)"})]}),"amount-high-low"===$&&(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(b.A,{className:"h-3.5 w-3.5 mr-2"}),(0,a.jsx)("span",{children:"Amount (High-Low)"})]})]})}),(0,a.jsxs)(S.gC,{children:[(0,a.jsx)(S.eb,{value:"default",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(f.A,{className:"h-3.5 w-3.5 mr-2"}),(0,a.jsx)("span",{children:"Default"})]})}),(0,a.jsx)(S.eb,{value:"script-a-z",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(g.A,{className:"h-3.5 w-3.5 mr-2"}),(0,a.jsx)("span",{children:"Script Name (A-Z)"})]})}),(0,a.jsx)(S.eb,{value:"script-z-a",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(j.A,{className:"h-3.5 w-3.5 mr-2"}),(0,a.jsx)("span",{children:"Script Name (Z-A)"})]})}),(0,a.jsx)(S.eb,{value:"amount-low-high",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(y.A,{className:"h-3.5 w-3.5 mr-2"}),(0,a.jsx)("span",{children:"Amount (Low-High)"})]})}),(0,a.jsx)(S.eb,{value:"amount-high-low",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(b.A,{className:"h-3.5 w-3.5 mr-2"}),(0,a.jsx)("span",{children:"Amount (High-Low)"})]})})]})]})})]}),er().map((e,t)=>ex(e,t))]})})})]}),(0,a.jsx)(q.A,{ref:es,title:"Confirm Pledge",onConfirm:ec,confirmLoading:C,confirmText:"Confirm",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Are you sure you want to pledge the following shares?"}),(0,a.jsx)("div",{className:"rounded-md border overflow-hidden shadow-sm",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)(N.XI,{children:[(0,a.jsx)(N.A0,{className:"bg-primary/5",children:(0,a.jsxs)(N.Hj,{children:[(0,a.jsx)(N.nd,{className:"w-1/3 text-xs",children:"Script Name"}),(0,a.jsx)(N.nd,{className:"w-1/4 text-xs",children:"Quantity"})]})}),(0,a.jsx)(N.BF,{children:L&&L.length>0?L.map((e,t)=>{var s;let n="".concat(e.boID,"-").concat(e.isin);return(0,a.jsxs)(N.Hj,{className:t%2==0?"bg-gray-50":"bg-white",children:[(0,a.jsx)(N.nA,{className:"text-xs",children:e.scriptName}),(0,a.jsx)(N.nA,{className:"text-xs",children:(0,a.jsx)(k.E,{variant:"secondary",className:"bg-green-100 text-green-700 text-[10px]",children:(null===(s=T[n])||void 0===s?void 0:s.quantity)||"-"})})]},t)}):(0,a.jsx)(N.Hj,{children:(0,a.jsx)(N.nA,{colSpan:2,className:"text-center py-4 text-xs",children:"No scripts selected"})})})]})})}),(0,a.jsxs)("div",{className:"text-xs text-gray-700 mt-2 bg-amber-50 p-2 rounded-md border border-amber-200 flex items-start",children:[(0,a.jsx)(u.A,{className:"h-3 w-3 text-amber-500 mr-2 mt-0.5"}),(0,a.jsx)("p",{children:"Please review the details before confirming."})]})]})}),M&&(0,a.jsx)(c.Bs,{}),X&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center",children:(0,a.jsx)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4 shadow-xl",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Redirecting to CDSL page..."}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Please Wait! You will be redirected shortly."}),(0,a.jsx)("div",{className:"flex justify-center mb-4",children:(0,a.jsxs)("svg",{className:"animate-spin h-10 w-10 text-primary",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})]})})}),(0,a.jsxs)("form",{name:"frmpledge",id:"pledgeForm",method:"POST",action:Z,style:{display:"none"},children:[(0,a.jsx)("input",{type:"hidden",name:"pledgeDtls"}),(0,a.jsx)("input",{type:"hidden",name:"dpid"}),(0,a.jsx)("input",{type:"hidden",name:"version"}),(0,a.jsx)("input",{type:"hidden",name:"reqid"}),(0,a.jsx)("button",{type:"submit",children:"Submit Pledge"})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[1181,8526,8562,164,2589,814,8007,5565,9526,6143,4015,8665,6527,6137,7555,7328,9086,2536,8441,1517,7358],()=>t(61795)),_N_E=e.O()}]);
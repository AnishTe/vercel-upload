(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5804],{14016:(e,t,r)=>{Promise.resolve().then(r.bind(r,92726))},92726:(e,t,r)=>{"use strict";r.d(t,{default:()=>D});var a=r(95155),s=r(12115),l=r(76046),n=r(69606),i=r(85060),d=r(43415),o=r(22130),c=r(44870),m=r(33900),u=r(73312),x=r(2291),p=r(84179),h=r(37528),f=r(51344),j=r(30814),N=r(1541),y=r(85672),g=r(47282),b=r(67328),v=r(83469),I=r(1466),w=r(35620),C=r(65753),S=r(8453),P=r(99053),R=r(58690);function D(){let[e,t]=(0,s.useState)(null),r=(0,l.useSearchParams)(),D=(0,l.useRouter)(),[V,O]=(0,s.useState)(!1),[A,B]=(0,s.useState)(11050),[E,k]=(0,s.useState)(["1","2","3","4","5"]),[L,M]=(0,s.useState)(!1),{selectedIPO:z,setSelectedIPO:F}=(0,y.y)(),[J,Y]=(0,s.useState)(null),[q,U]=(0,s.useState)(!1),[T,Z]=(0,s.useState)(""),[$,_]=(0,s.useState)(1),[W,K]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let e=r.get("ipoId");e?t(e.replace(/\.html$/,"")):D.push((0,v.K)("/branch/dashboard/ipo"))},[D,r]);let Q=d.Ik({panNo:d.Yj().min(10,"PAN Number must be 10 characters").max(10,"PAN Number must be 10 characters"),fullName:d.Yj().min(1,"Full Name is required"),mobileNumber:d.Yj().min(10,"Mobile Number must be 10 digits").max(10,"Mobile Number must be 10 digits"),emailId:d.Yj().email("Invalid email address"),category:d.k5(["individual","shareholder"]),hasUPI:d.k5(["YES","NO"]),upiId:d.Yj().optional().nullable(),bankAccountNO:d.Yj().optional(),bankName:d.Yj().optional(),depositoryId:d.k5(["CDSL","NSDL"]),beneficiaryId:d.Yj().min(1,"Beneficiary ID is required"),depositoryParticipantId:d.Yj().optional(),selectedBOID:d.Yj().optional(),lot:d.Yj().min(1,"Lot is required"),quantity:d.ai().int().positive("Quantity must be a positive integer"),rate:d.ai().positive().nullable().optional(),autoCutOff:d.zM()}).refine(e=>"YES"!==e.hasUPI||!!e.upiId&&""!==e.upiId.trim(),{message:"UPI ID is required when UPI is selected",path:["upiId"]}).refine(e=>"CDSL"!==e.depositoryId||16===e.beneficiaryId.length,{message:"Beneficiary ID must be 16 digits for CDSL",path:["beneficiaryId"]}).refine(e=>"NSDL"!==e.depositoryId||8===e.beneficiaryId.length,{message:"Beneficiary ID must be 8 digits for NSDL",path:["beneficiaryId"]}).refine(e=>"NSDL"!==e.depositoryId||!!e.depositoryParticipantId&&8===e.depositoryParticipantId.length,{message:"Depository Participant ID must be 8 digits for NSDL",path:["depositoryParticipantId"]}).refine(e=>"YES"!==e.hasUPI||!e.upiId||/^[a-zA-Z0-9.\-_]{2,256}@[a-zA-Z]{2,64}$/.test(e.upiId),{message:"Invalid UPI ID. Example format: username@bank",path:["upiId"]}),H=(0,n.mN)({resolver:(0,i.u)(Q),defaultValues:{panNo:"",fullName:"",mobileNumber:"",emailId:"",category:"individual",hasUPI:"YES",upiId:"",bankAccountNO:"",bankName:"",depositoryId:"CDSL",beneficiaryId:"",depositoryParticipantId:"",selectedBOID:"",lot:"1",quantity:1,rate:(null==z?void 0:z.maxpricerange)?Number.parseFloat(z.maxpricerange):0,autoCutOff:!0},mode:"onChange"}),G=H.watch("hasUPI"),X=H.watch("autoCutOff"),ee=H.watch("depositoryId"),et=H.watch("beneficiaryId"),er=H.watch("depositoryParticipantId"),ea=H.watch("lot");(0,s.useEffect)(()=>{if("CDSL"===ee&&et)Z(et),H.setValue("selectedBOID",et,{shouldValidate:!1});else if("NSDL"===ee&&er&&et){let e="IN".concat(er).concat(et);Z(e),H.setValue("selectedBOID",e,{shouldValidate:!1})}},[ee,et,er,H]),(0,s.useEffect)(()=>{if(z&&!W){let e=Number.parseInt(z.noofequitysharesbid||"0"),t=Number.parseFloat(z.cutoffprice||"0"),r=Number.parseInt(z.maxlotsize||"0"),a=Number.parseFloat(z.maxpricerange||"0"),s=Array.from({length:"YES"===G?Math.floor(5e5/(e*t)):r},(e,t)=>(t+1).toString()),l=1*e;B(l*t),k(s),H.setValue("lot","1",{shouldValidate:!1}),H.setValue("quantity",l,{shouldValidate:!1}),X?H.setValue("rate",a,{shouldValidate:!1}):H.setValue("rate",null,{shouldValidate:!1}),K(!0)}},[z,G,X,H,W]),(0,s.useEffect)(()=>{if(z&&ea){let e=Number.parseInt(z.noofequitysharesbid||"0"),t=Number.parseFloat(z.cutoffprice||"0"),r=e*Number.parseInt(ea);H.setValue("quantity",r,{shouldValidate:!1}),B(r*t)}},[z,ea,H]),(0,s.useEffect)(()=>{if(z){let e=Number.parseFloat(z.maxpricerange||"0");X&&H.setValue("rate",e,{shouldValidate:!1})}},[X,z,H]),(0,s.useEffect)(()=>{if(z){let e=Number.parseInt(z.noofequitysharesbid||"0"),t=Number.parseFloat(z.cutoffprice||"0"),r=Number.parseInt(z.maxlotsize||"0");k(Array.from({length:"YES"===G?Math.floor(5e5/(e*t)):r},(e,t)=>(t+1).toString())),H.setValue("lot","1",{shouldValidate:!1});let a=1*e;H.setValue("quantity",a,{shouldValidate:!1}),B(a*t)}},[G,z,H]);let es=async e=>{"CDSL"===ee&&et?H.setValue("selectedBOID",et,{shouldValidate:!1}):"NSDL"===ee&&er&&et&&H.setValue("selectedBOID","IN".concat(er).concat(et),{shouldValidate:!1}),M(!0)},el=async()=>{var t,r,a,s,l;O(!0),Y(null);let n=H.getValues(),i=[{boid:n.beneficiaryId,dpid:n.depositoryParticipantId||"",depository:n.depositoryId,companyname:null==z?void 0:z.companyname,ipocompanymasterId:e,name:n.fullName,pan:n.panNo,upiId:n.upiId,lotsapplied:n.lot,clientId:"GUESTUSER",mobile:null==n?void 0:n.mobileNumber,email:null==n?void 0:n.emailId,applicationno:"",quantity:n.quantity.toString(),rate:n.autoCutOff?null==z?void 0:z.maxpricerange:null===(t=n.rate)||void 0===t?void 0:t.toString(),formtype:"YES"===n.hasUPI?"online":"offline",cuttoffflag:n.autoCutOff?"1":"0",category:(null==z?void 0:z.category)||"Retail",companySymbol:null==z?void 0:z.companysymbol,actionCode:"n",Exchange:null==z?void 0:z.companylogoex}];try{let e=await (0,g.v70)({data:i});if(!(0,b.k9)(e)){U(!0);return}if(null==e?void 0:null===(r=e.data)||void 0===r?void 0:r.data){let t=e.data.data;if((null===(a=t[0])||void 0===a?void 0:a.orderstatus)===!0)(0,R.ZB)("applicationno",null===(s=t[0])||void 0===s?void 0:s.applicationNo),j.oR.success("IPO application submitted successfully.",{position:"top-center"}),F(null),setTimeout(()=>{D.push((0,v.K)("/guestIPO"))},3e3);else throw Error((null===(l=t[0])||void 0===l?void 0:l.message)||"Failed to submit IPO application.")}else throw Error("Invalid API response format.")}catch(e){Y(e instanceof Error?e.message:"An error occurred while submitting the application."),j.oR.error(e instanceof Error?e.message:"An error occurred while submitting the application.",{position:"top-center"})}finally{O(!1),M(!1)}};if((0,s.useEffect)(()=>{H.getValues("depositoryId")||H.setValue("depositoryId","CDSL",{shouldValidate:!1}),H.getValues("lot")||H.setValue("lot","1",{shouldValidate:!1})},[H,$]),J)return(0,a.jsx)(o.Zp,{className:"w-full max-w-4xl mx-auto",children:(0,a.jsxs)(o.Wu,{className:"p-6",children:[(0,a.jsx)("div",{className:"text-center text-red-500 p-4 bg-red-100 rounded-md",children:J}),(0,a.jsx)(u.$,{className:"mt-4 mx-auto block",onClick:()=>D.push((0,v.K)("/guestIPO")),children:"Back to IPO List"})]})});let en=()=>(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(I.A,{className:"h-5 w-5 text-primary"}),(0,a.jsx)("h3",{className:"text-lg font-medium",children:"Personal Information"})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,a.jsx)(c.zB,{control:H.control,name:"panNo",render:e=>{let{field:t}=e;return(0,a.jsxs)(c.eI,{children:[(0,a.jsx)(c.lR,{className:"after:content-['*'] after:ml-0.5 after:text-red-500",children:"PAN Number"}),(0,a.jsx)(c.MJ,{children:(0,a.jsx)(m.p,{...t,placeholder:"ABCDE1234F"})}),(0,a.jsx)(c.C5,{})]})}}),(0,a.jsx)(c.zB,{control:H.control,name:"fullName",render:e=>{let{field:t}=e;return(0,a.jsxs)(c.eI,{children:[(0,a.jsx)(c.lR,{className:"after:content-['*'] after:ml-0.5 after:text-red-500",children:"Full Name"}),(0,a.jsx)(c.MJ,{children:(0,a.jsx)(m.p,{...t,placeholder:"As per PAN Card"})}),(0,a.jsx)(c.C5,{})]})}}),(0,a.jsx)(c.zB,{control:H.control,name:"mobileNumber",render:e=>{let{field:t}=e;return(0,a.jsxs)(c.eI,{children:[(0,a.jsx)(c.lR,{className:"after:content-['*'] after:ml-0.5 after:text-red-500",children:"Mobile Number"}),(0,a.jsx)(c.MJ,{children:(0,a.jsx)(m.p,{...t,placeholder:"10-digit mobile number"})}),(0,a.jsx)(c.C5,{})]})}}),(0,a.jsx)(c.zB,{control:H.control,name:"emailId",render:e=>{let{field:t}=e;return(0,a.jsxs)(c.eI,{children:[(0,a.jsx)(c.lR,{className:"after:content-['*'] after:ml-0.5 after:text-red-500",children:"Email ID"}),(0,a.jsx)(c.MJ,{children:(0,a.jsx)(m.p,{...t,placeholder:"your@email.com",type:"email"})}),(0,a.jsx)(c.C5,{})]})}})]}),(0,a.jsx)(c.zB,{control:H.control,name:"category",render:e=>{let{field:t}=e;return(0,a.jsxs)(c.eI,{className:"bg-muted/50 p-4 rounded-lg",children:[(0,a.jsx)(c.lR,{className:"after:content-['*'] after:ml-0.5 after:text-red-500",children:"Investor Category"}),(0,a.jsxs)(p.z,{onValueChange:e=>{t.onChange(e)},value:t.value,className:"flex flex-row space-y-1 items-center gap-6",children:[(0,a.jsxs)(c.eI,{className:"flex items-center justify-center space-x-3 space-y-0",children:[(0,a.jsx)(c.MJ,{children:(0,a.jsx)(p.C,{value:"individual"})}),(0,a.jsx)(c.lR,{className:"font-normal",children:"Individual / HUF"})]}),(0,a.jsxs)(c.eI,{className:"flex items-center space-x-3 space-y-0",children:[(0,a.jsx)(c.MJ,{children:(0,a.jsx)(p.C,{value:"shareholder"})}),(0,a.jsx)(c.lR,{className:"font-normal",children:"Shareholder"})]})]}),(0,a.jsx)(c.C5,{})]})}})]}),ei=()=>(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(w.A,{className:"h-5 w-5 text-primary"}),(0,a.jsx)("h3",{className:"text-lg font-medium",children:"Payment Method"})]}),(0,a.jsx)(c.zB,{control:H.control,name:"hasUPI",render:e=>{let{field:t}=e;return(0,a.jsxs)(c.eI,{className:"bg-muted/50 p-4 rounded-lg",children:[(0,a.jsx)(c.lR,{className:"after:content-['*'] after:ml-0.5 after:text-red-500",children:"Payment Method"}),(0,a.jsxs)(p.z,{onValueChange:e=>{t.onChange(e),"NO"===e&&H.getValues("upiId")&&H.setValue("upiId","",{shouldValidate:!1})},value:t.value,className:"flex flex-col space-y-3 mt-2",children:[(0,a.jsxs)(c.eI,{className:"flex items-start space-x-3 space-y-0 rounded-md border p-4 bg-white",children:[(0,a.jsx)(c.MJ,{children:(0,a.jsx)(p.C,{value:"YES"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)(c.lR,{className:"font-medium",children:"UPI Payment"}),(0,a.jsx)(c.Rr,{children:"Pay using UPI ID linked to your bank account"})]})]}),(0,a.jsxs)(c.eI,{className:"flex items-start space-x-3 space-y-0 rounded-md border p-4 bg-white",children:[(0,a.jsx)(c.MJ,{children:(0,a.jsx)(p.C,{value:"NO"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)(c.lR,{className:"font-medium",children:"Pre-Print Form (ASBA)"}),(0,a.jsx)(c.Rr,{children:"Application Supported by Blocked Amount through your bank"})]})]})]}),(0,a.jsx)(c.C5,{})]})}}),"YES"===G&&(0,a.jsx)(c.zB,{control:H.control,name:"upiId",render:e=>{var t;let{field:r}=e;return(0,a.jsxs)(c.eI,{children:[(0,a.jsx)(c.lR,{className:"after:content-['*'] after:ml-0.5 after:text-red-500",children:"UPI ID"}),(0,a.jsx)(c.MJ,{children:(0,a.jsx)(m.p,{...r,value:null!==(t=r.value)&&void 0!==t?t:"",placeholder:"username@bank"})}),(0,a.jsx)(c.Rr,{children:"Enter your UPI ID in the format username@bank (e.g., johndoe@okicici)"}),(0,a.jsx)(c.C5,{})]})}}),"NO"===G&&(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,a.jsx)(c.zB,{control:H.control,name:"bankAccountNO",render:e=>{let{field:t}=e;return(0,a.jsxs)(c.eI,{children:[(0,a.jsx)(c.lR,{children:"Bank Account Number"}),(0,a.jsx)(c.MJ,{children:(0,a.jsx)(m.p,{...t,placeholder:"Your bank account number"})}),(0,a.jsx)(c.C5,{})]})}}),(0,a.jsx)(c.zB,{control:H.control,name:"bankName",render:e=>{let{field:t}=e;return(0,a.jsxs)(c.eI,{children:[(0,a.jsx)(c.lR,{children:"Bank Name & Branch"}),(0,a.jsx)(c.MJ,{children:(0,a.jsx)(m.p,{...t,placeholder:"e.g., HDFC Bank, Andheri Branch"})}),(0,a.jsx)(c.C5,{})]})}})]})]}),ed=()=>(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(C.A,{className:"h-5 w-5 text-primary"}),(0,a.jsx)("h3",{className:"text-lg font-medium",children:"Demat Account Details"})]}),(0,a.jsx)(c.zB,{control:H.control,name:"depositoryId",render:e=>{let{field:t}=e;return(0,a.jsxs)(c.eI,{className:"bg-muted/50 p-4 rounded-lg",children:[(0,a.jsx)(c.lR,{className:"after:content-['*'] after:ml-0.5 after:text-red-500",children:"Depository Type"}),(0,a.jsxs)(p.z,{onValueChange:e=>{t.onChange(e),e!==ee&&(H.setValue("beneficiaryId","",{shouldValidate:!1}),"NSDL"===e&&H.setValue("depositoryParticipantId","",{shouldValidate:!1}))},value:t.value,className:"flex flex-col space-y-3 mt-2",children:[(0,a.jsxs)(c.eI,{className:"flex items-start space-x-3 space-y-0 rounded-md border p-4 bg-white",children:[(0,a.jsx)(c.MJ,{children:(0,a.jsx)(p.C,{value:"CDSL"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)(c.lR,{className:"font-medium",children:"CDSL"}),(0,a.jsx)(c.Rr,{children:"Central Depository Services Limited"})]})]}),(0,a.jsxs)(c.eI,{className:"flex items-start space-x-3 space-y-0 rounded-md border p-4 bg-white",children:[(0,a.jsx)(c.MJ,{children:(0,a.jsx)(p.C,{value:"NSDL"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)(c.lR,{className:"font-medium",children:"NSDL"}),(0,a.jsx)(c.Rr,{children:"National Securities Depository Limited"})]})]})]}),(0,a.jsx)(c.C5,{})]})}}),"CDSL"===ee?(0,a.jsx)("div",{className:"bg-white border rounded-lg p-4",children:(0,a.jsx)(c.zB,{control:H.control,name:"beneficiaryId",render:e=>{let{field:t}=e;return(0,a.jsxs)(c.eI,{children:[(0,a.jsx)(c.lR,{className:"after:content-['*'] after:ml-0.5 after:text-red-500",children:"Beneficiary ID (16-digit)"}),(0,a.jsx)(c.MJ,{children:(0,a.jsx)(m.p,{...t,placeholder:"16-digit Beneficiary ID",maxLength:16})}),(0,a.jsx)(c.Rr,{children:"Enter your 16-digit CDSL Beneficiary ID"}),(0,a.jsx)(c.C5,{})]})}})}):(0,a.jsxs)("div",{className:"bg-white border rounded-lg p-4 space-y-4",children:[(0,a.jsx)(c.zB,{control:H.control,name:"depositoryParticipantId",render:e=>{let{field:t}=e;return(0,a.jsxs)(c.eI,{children:[(0,a.jsx)(c.lR,{className:"after:content-['*'] after:ml-0.5 after:text-red-500",children:"Depository Participant ID (8-digit)"}),(0,a.jsx)(c.MJ,{children:(0,a.jsx)(m.p,{...t,placeholder:"8-digit DP ID",maxLength:8})}),(0,a.jsx)(c.C5,{})]})}}),(0,a.jsx)(c.zB,{control:H.control,name:"beneficiaryId",render:e=>{let{field:t}=e;return(0,a.jsxs)(c.eI,{children:[(0,a.jsx)(c.lR,{className:"after:content-['*'] after:ml-0.5 after:text-red-500",children:"Beneficiary ID (8-digit)"}),(0,a.jsx)(c.MJ,{children:(0,a.jsx)(m.p,{...t,placeholder:"8-digit Client ID",maxLength:8})}),(0,a.jsx)(c.C5,{})]})}}),er&&et&&(0,a.jsxs)("div",{className:"mt-4 p-3 bg-muted/50 rounded-md",children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Your NSDL ID:"}),(0,a.jsxs)("p",{className:"text-lg font-mono mt-1",children:[er,et]})]})]})]}),eo=()=>(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)(S.A,{className:"h-5 w-5 text-primary"}),(0,a.jsx)("h3",{className:"text-lg font-medium",children:"Order Details"})]}),(0,a.jsxs)("div",{className:"bg-muted/30 p-4 rounded-lg mb-6",children:[(0,a.jsx)("h4",{className:"font-medium text-sm text-muted-foreground mb-2",children:"IPO Details"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Company"}),(0,a.jsx)("p",{className:"font-medium",children:(null==z?void 0:z.companyname)||"N/A"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Symbol"}),(0,a.jsx)("p",{className:"font-medium",children:(null==z?void 0:z.companysymbol)||"N/A"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Price Range"}),(0,a.jsxs)("p",{className:"font-medium",children:["₹",null==z?void 0:z.minpricerange," - ₹",null==z?void 0:z.maxpricerange]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Lot Size"}),(0,a.jsx)("p",{className:"font-medium",children:(null==z?void 0:z.noofequitysharesbid)||"0"})]})]})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,a.jsx)(c.zB,{control:H.control,name:"lot",render:e=>{let{field:t}=e;return(0,a.jsxs)(c.eI,{children:[(0,a.jsx)(c.lR,{children:"Select Lot"}),(0,a.jsxs)(h.l6,{onValueChange:t.onChange,value:t.value,defaultValue:"1",children:[(0,a.jsx)(c.MJ,{children:(0,a.jsx)(h.bq,{children:(0,a.jsx)(h.yv,{placeholder:"Select lot",defaultValue:"1",children:t.value||"1"})})}),(0,a.jsx)(h.gC,{children:E.map(e=>(0,a.jsx)(h.eb,{value:e,children:e},e))})]}),(0,a.jsx)(c.C5,{})]})}}),(0,a.jsx)(c.zB,{control:H.control,name:"quantity",render:e=>{let{field:t}=e;return(0,a.jsxs)(c.eI,{children:[(0,a.jsx)(c.lR,{children:"Quantity"}),(0,a.jsx)(c.MJ,{children:(0,a.jsx)(m.p,{type:"number",...t,onChange:e=>t.onChange(Number.parseInt(e.target.value)),disabled:!0})}),(0,a.jsx)(c.C5,{})]})}})]}),(0,a.jsxs)("div",{className:"bg-white border rounded-lg p-4 space-y-4",children:[(0,a.jsx)(c.zB,{control:H.control,name:"autoCutOff",render:e=>{let{field:t}=e;return(0,a.jsxs)(c.eI,{className:"flex flex-row items-start space-x-3 space-y-0 rounded-md border p-4",children:[(0,a.jsx)(c.MJ,{children:(0,a.jsx)(x.S,{checked:t.value,onCheckedChange:e=>{t.onChange(e),e?H.setValue("rate",Number(null==z?void 0:z.maxpricerange)||null,{shouldValidate:!1}):H.setValue("rate",null,{shouldValidate:!1})}})}),(0,a.jsxs)("div",{className:"space-y-1 leading-none",children:[(0,a.jsx)(c.lR,{children:"Auto Cut-off Pricing"}),(0,a.jsx)(c.Rr,{children:"Enable this to automatically use the cut-off price for the IPO."})]})]})}}),(0,a.jsx)(c.zB,{control:H.control,name:"rate",render:e=>{var t;let{field:r}=e;return(0,a.jsxs)(c.eI,{children:[(0,a.jsx)(c.lR,{children:"Bid Price"}),(0,a.jsx)(c.MJ,{children:(0,a.jsx)(m.p,{type:"number",...r,onChange:e=>r.onChange(Number.parseFloat(e.target.value)||null),value:null!==(t=r.value)&&void 0!==t?t:"",placeholder:"Enter a rate between ".concat(null==z?void 0:z.minpricerange," & ").concat(null==z?void 0:z.maxpricerange),disabled:X})}),(0,a.jsx)(c.C5,{})]})}})]}),(0,a.jsx)("div",{className:"bg-primary/5 border border-primary/20 rounded-lg p-6 mt-6",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-1",children:"Total Amount Payable"}),(0,a.jsx)("div",{className:"font-bold text-2xl md:text-3xl text-primary",children:(0,a.jsx)(N.A,{animateOn:"view",revealDirection:"center",characters:"12345678",text:new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(Number.parseFloat(A.toFixed(2)))})})]})})]});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"space-y-4 max-w-4xl mx-auto",children:(0,a.jsxs)(o.Zp,{children:[(0,a.jsxs)(o.aR,{className:"pb-0",children:[(0,a.jsx)(o.ZB,{className:"text-xl md:text-2xl",children:"Apply for IPO"}),(0,a.jsx)(o.BT,{children:(null==z?void 0:z.companyname)?"Apply for ".concat(z.companyname," IPO"):"Complete the form to apply for IPO"})]}),(0,a.jsxs)(o.Wu,{className:"p-6",children:[(0,a.jsx)("div",{className:"flex items-center justify-center mb-6",children:(0,a.jsx)("div",{className:"flex items-center w-full max-w-3xl",children:Array.from({length:4}).map((e,t)=>(0,a.jsxs)("div",{className:"flex-1 relative",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center mx-auto z-10 relative\n                                    ".concat($>t+1?"bg-green-500 text-white":$===t+1?"bg-primary text-white":"bg-gray-200 text-gray-500"),children:t+1}),(0,a.jsx)("div",{className:"text-xs text-center mt-1 font-medium",children:["Personal Info","Payment Method","Demat Account","Order Details"][t]}),t<3&&(0,a.jsx)("div",{className:"absolute top-4 left-1/2 w-full h-0.5 \n                                        ".concat($>t+1?"bg-green-500":"bg-gray-200")})]},t))})}),(0,a.jsx)(c.lV,{...H,children:(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),4===$&&H.handleSubmit(es)(e)},children:[(()=>{switch($){case 1:return en();case 2:return ei();case 3:return ed();case 4:return eo();default:return null}})(),(0,a.jsxs)("div",{className:"flex justify-between mt-8 gap-3",children:[$>1?(0,a.jsx)(u.$,{type:"button",variant:"outline",onClick:()=>{let e=H.getValues();_(t=>{let r=Math.max(t-1,1);return setTimeout(()=>{Object.entries(e).forEach(e=>{let[t,r]=e;null!=r&&H.setValue(t,r,{shouldValidate:!1})})},0),r})},children:"Previous"}):(0,a.jsx)(u.$,{type:"button",variant:"outline",onClick:()=>D.push((0,v.K)("/guestIPO")),children:"Back to IPO List"}),$<4?(0,a.jsxs)(u.$,{type:"button",onClick:()=>{let e={1:["panNo","fullName","mobileNumber","emailId","category"],2:["hasUPI",..."YES"===G?["upiId"]:["bankAccountNO","bankName"]],3:["depositoryId","beneficiaryId",..."NSDL"===ee?["depositoryParticipantId"]:[]]}[$];H.trigger(e).then(e=>{if(e){let e=H.getValues();_(t=>{let r=Math.min(t+1,4);return setTimeout(()=>{Object.entries(e).forEach(e=>{let[t,r]=e;null!=r&&H.setValue(t,r,{shouldValidate:!1})})},0),r})}})},children:["Continue ",(0,a.jsx)(P.A,{className:"ml-2 h-4 w-4"})]}):(0,a.jsx)(u.$,{type:"button",onClick:H.handleSubmit(es),children:"YES"===G?"Submit Application":"Print IPO Form"})]})]})})]})]})}),q&&(0,a.jsx)(b.Bs,{}),(0,a.jsx)(f.lG,{open:L,onOpenChange:M,children:(0,a.jsxs)(f.Cf,{className:"sm:max-w-[425px]",children:[(0,a.jsxs)(f.c7,{children:[(0,a.jsx)(f.L3,{children:"Apply IPO Confirmation"}),(0,a.jsx)(f.rr,{className:"py-2",children:"Are you sure you want to submit the IPO application?"})]}),(0,a.jsx)("div",{className:"space-y-4 py-2",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,a.jsx)("p",{className:"text-muted-foreground",children:"Company:"}),(0,a.jsx)("p",{className:"font-medium",children:null==z?void 0:z.companyname}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Applicant:"}),(0,a.jsx)("p",{className:"font-medium",children:H.getValues().fullName}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Lot Size:"}),(0,a.jsx)("p",{className:"font-medium",children:H.getValues().lot}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Quantity:"}),(0,a.jsx)("p",{className:"font-medium",children:H.getValues().quantity}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Amount:"}),(0,a.jsxs)("p",{className:"font-medium",children:["₹",A.toFixed(2)]})]})}),(0,a.jsxs)(f.Es,{children:[(0,a.jsx)(u.$,{variant:"outline",onClick:()=>M(!1),children:"Cancel"}),(0,a.jsx)(u.$,{onClick:el,disabled:V,children:V?"Submitting...":"Confirm & Submit"})]})]})})]})}},1541:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var a=r(95155),s=r(12115),l=r(25427);function n(e){let{text:t,speed:r=50,maxIterations:n=10,sequential:i=!1,revealDirection:d="start",useOriginalCharsOnly:o=!1,characters:c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz!@#$%^&*()_+",className:m="",parentClassName:u="",encryptedClassName:x="",animateOn:p="hover",...h}=e,[f,j]=(0,s.useState)(t),[N,y]=(0,s.useState)(!1),[g,b]=(0,s.useState)(!1),[v,I]=(0,s.useState)(new Set),[w,C]=(0,s.useState)(!1),S=(0,s.useRef)(null);return(0,s.useEffect)(()=>{let e;let a=0,s=e=>{let r=t.length;switch(d){case"start":default:return e.size;case"end":return r-1-e.size;case"center":{let t=Math.floor(r/2),a=Math.floor(e.size/2),s=e.size%2==0?t+a:t-a-1;if(s>=0&&s<r&&!e.has(s))return s;for(let t=0;t<r;t++)if(!e.has(t))return t;return 0}}},l=o?Array.from(new Set(t.split(""))).filter(e=>" "!==e):c.split(""),m=(e,t)=>{if(!o)return e.split("").map((r,a)=>" "===r?" ":t.has(a)?e[a]:l[Math.floor(Math.random()*l.length)]).join("");{let r=e.split("").map((e,r)=>({char:e,isSpace:" "===e,index:r,isRevealed:t.has(r)})),a=r.filter(e=>!e.isSpace&&!e.isRevealed).map(e=>e.char);for(let e=a.length-1;e>0;e--){let t=Math.floor(Math.random()*(e+1));[a[e],a[t]]=[a[t],a[e]]}let s=0;return r.map(t=>t.isSpace?" ":t.isRevealed?e[t.index]:a[s++]).join("")}};return N?(b(!0),e=setInterval(()=>{I(r=>{if(!i)return j(m(t,r)),++a>=n&&(clearInterval(e),b(!1),j(t)),r;if(!(r.size<t.length))return clearInterval(e),b(!1),r;{let e=s(r),a=new Set(r);return a.add(e),j(m(t,a)),a}})},r)):(j(t),I(new Set),b(!1)),()=>{e&&clearInterval(e)}},[N,t,r,n,i,d,c,o]),(0,s.useEffect)(()=>{if("view"!==p)return;let e=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&!w&&(y(!0),C(!0))})},{root:null,rootMargin:"0px",threshold:.1}),t=S.current;return t&&e.observe(t),()=>{t&&e.unobserve(t)}},[p,w]),(0,a.jsxs)(l.P.span,{ref:S,className:"inline-block whitespace-pre-wrap relative ".concat(u),..."hover"===p?{onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1)}:{},...h,children:[(0,a.jsx)("span",{className:"sr-only",children:f}),(0,a.jsx)("span",{"aria-hidden":"true",children:f.split("").map((e,t)=>{let r=v.has(t)||!g||!N;return(0,a.jsx)("span",{className:r?m:x,children:e},t)})})]})}},22130:(e,t,r)=>{"use strict";r.d(t,{BT:()=>o,Wu:()=>c,ZB:()=>d,Zp:()=>n,aR:()=>i,wL:()=>m});var a=r(95155),s=r(12115),l=r(21567);let n=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("rounded-xl border bg-card text-card-foreground shadow mt-7",r),...s})});n.displayName="Card";let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-row lg:flex-row md:flex-col sm:flex-col md:items-center md:justify-between p-6 border-b bg-blue-500 mx-3 -mt-6 px-8 pt-4 pb-4 rounded-xl shadow-lg text-white space-y-4 md:space-y-0 mb-4",r),...s})});i.displayName="CardHeader";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("font-semibold leading-none tracking-tight",r),...s})});d.displayName="CardTitle";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("text-sm text-muted",r),...s})});o.displayName="CardDescription";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("p-3 pt-0",r),...s})});c.displayName="CardContent";let m=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-3 pt-0",r),...s})});m.displayName="CardFooter"},2291:(e,t,r)=>{"use strict";r.d(t,{S:()=>d});var a=r(95155),s=r(12115),l=r(86352),n=r(98867),i=r(21567);let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(l.bL,{ref:t,className:(0,i.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",r),...s,children:(0,a.jsx)(l.C1,{className:(0,i.cn)("flex items-center justify-center text-current"),children:(0,a.jsx)(n.A,{className:"h-4 w-4"})})})});d.displayName=l.bL.displayName},44870:(e,t,r)=>{"use strict";r.d(t,{C5:()=>N,MJ:()=>f,Rr:()=>j,eI:()=>p,lR:()=>h,lV:()=>o,zB:()=>m});var a=r(95155),s=r(12115),l=r(14707),n=r(69606),i=r(21567),d=r(98986);let o=n.Op,c=s.createContext({}),m=e=>{let{...t}=e;return(0,a.jsx)(c.Provider,{value:{name:t.name},children:(0,a.jsx)(n.xI,{...t})})},u=()=>{let e=s.useContext(c),t=s.useContext(x),{getFieldState:r,formState:a}=(0,n.xW)(),l=r(e.name,a);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=t;return{id:i,name:e.name,formItemId:"".concat(i,"-form-item"),formDescriptionId:"".concat(i,"-form-item-description"),formMessageId:"".concat(i,"-form-item-message"),...l}},x=s.createContext({}),p=s.forwardRef((e,t)=>{let{className:r,...l}=e,n=s.useId();return(0,a.jsx)(x.Provider,{value:{id:n},children:(0,a.jsx)("div",{ref:t,className:(0,i.cn)("space-y-2",r),...l})})});p.displayName="FormItem";let h=s.forwardRef((e,t)=>{let{className:r,...s}=e,{error:l,formItemId:n}=u();return(0,a.jsx)(d.J,{ref:t,className:(0,i.cn)(l&&"text-destructive",r),htmlFor:n,...s})});h.displayName="FormLabel";let f=s.forwardRef((e,t)=>{let{...r}=e,{error:s,formItemId:n,formDescriptionId:i,formMessageId:d}=u();return(0,a.jsx)(l.DX,{ref:t,id:n,"aria-describedby":s?"".concat(i," ").concat(d):"".concat(i),"aria-invalid":!!s,...r})});f.displayName="FormControl";let j=s.forwardRef((e,t)=>{let{className:r,...s}=e,{formDescriptionId:l}=u();return(0,a.jsx)("p",{ref:t,id:l,className:(0,i.cn)("text-[0.8rem] text-muted-foreground",r),...s})});j.displayName="FormDescription";let N=s.forwardRef((e,t)=>{let{className:r,children:s,...l}=e,{error:n,formMessageId:d}=u(),o=n?String(null==n?void 0:n.message):s;return o?(0,a.jsx)("p",{ref:t,id:d,className:(0,i.cn)("text-[0.8rem] font-medium text-destructive",r),...l,children:o}):null});N.displayName="FormMessage"},33900:(e,t,r)=>{"use strict";r.d(t,{p:()=>n});var a=r(95155),s=r(12115),l=r(21567);let n=s.forwardRef((e,t)=>{let{className:r,type:s,...n}=e;return(0,a.jsx)("input",{type:s,className:(0,l.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...n})});n.displayName="Input"},98986:(e,t,r)=>{"use strict";r.d(t,{J:()=>o});var a=r(95155),s=r(12115),l=r(46195),n=r(31027),i=r(21567);let d=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(l.b,{ref:t,className:(0,i.cn)(d(),r),...s})});o.displayName=l.b.displayName},84179:(e,t,r)=>{"use strict";r.d(t,{C:()=>o,z:()=>d});var a=r(95155),s=r(12115),l=r(852),n=r(33565),i=r(21567);let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(l.bL,{className:(0,i.cn)("grid gap-2",r),...s,ref:t})});d.displayName=l.bL.displayName;let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(l.q7,{ref:t,className:(0,i.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",r),...s,children:(0,a.jsx)(l.C1,{className:"flex items-center justify-center",children:(0,a.jsx)(n.A,{className:"h-3.5 w-3.5 fill-primary"})})})});o.displayName=l.q7.displayName},37528:(e,t,r)=>{"use strict";r.d(t,{bq:()=>u,eb:()=>f,gC:()=>h,l6:()=>c,yv:()=>m});var a=r(95155),s=r(12115),l=r(54066),n=r(51719),i=r(91902),d=r(98867),o=r(21567);let c=l.bL;l.YJ;let m=l.WT,u=s.forwardRef((e,t)=>{let{className:r,children:s,...i}=e;return(0,a.jsxs)(l.l9,{ref:t,className:(0,o.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r),...i,children:[s,(0,a.jsx)(l.In,{asChild:!0,children:(0,a.jsx)(n.A,{className:"h-4 w-4 opacity-50"})})]})});u.displayName=l.l9.displayName;let x=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(l.PP,{ref:t,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",r),...s,children:(0,a.jsx)(i.A,{className:"h-4 w-4"})})});x.displayName=l.PP.displayName;let p=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(l.wn,{ref:t,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",r),...s,children:(0,a.jsx)(n.A,{className:"h-4 w-4"})})});p.displayName=l.wn.displayName;let h=s.forwardRef((e,t)=>{let{className:r,children:s,position:n="popper",...i}=e;return(0,a.jsx)(l.ZL,{children:(0,a.jsxs)(l.UC,{ref:t,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:n,...i,children:[(0,a.jsx)(x,{}),(0,a.jsx)(l.LM,{className:(0,o.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,a.jsx)(p,{})]})})});h.displayName=l.UC.displayName,s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(l.JU,{ref:t,className:(0,o.cn)("px-2 py-1.5 text-sm font-semibold",r),...s})}).displayName=l.JU.displayName;let f=s.forwardRef((e,t)=>{let{className:r,children:s,...n}=e;return(0,a.jsxs)(l.q7,{ref:t,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...n,children:[(0,a.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(l.VF,{children:(0,a.jsx)(d.A,{className:"h-4 w-4"})})}),(0,a.jsx)(l.p4,{children:s})]})});f.displayName=l.q7.displayName,s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(l.wv,{ref:t,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",r),...s})}).displayName=l.wv.displayName},85672:(e,t,r)=>{"use strict";r.d(t,{IPOProvider:()=>i,y:()=>d});var a=r(95155),s=r(58690),l=r(12115);let n=(0,l.createContext)(void 0);function i(e){let{children:t}=e,[r,i]=(0,l.useState)(null),[d,o]=(0,l.useState)(null),[c,m]=(0,l.useState)(!1);(0,l.useEffect)(()=>{if(!c)try{let e=(0,s.Lg)("selectedIPO");if(e){let t=JSON.parse(e);i(t)}m(!0)}catch(e){console.error("Error loading IPO data from localStorage:",e),m(!0)}},[c]);let u=async e=>new Promise(t=>{i(e),setTimeout(()=>{if(e)try{let t={...e,clientDetails:d};(0,s.ZB)("selectedIPO",JSON.stringify(t))}catch(e){console.error("Error saving IPO data to localStorage:",e)}else(0,s.$1)("selectedIPO");t()},100)});return(0,l.useEffect)(()=>{if(r&&c)try{let e={...r,clientDetails:d};(0,s.ZB)("selectedIPO",JSON.stringify(e))}catch(e){console.error("Error updating IPO data in localStorage:",e)}},[d,r,c]),(0,a.jsx)(n.Provider,{value:{selectedIPO:r,setSelectedIPO:u,clientDetails:d,setClientDetailsIPO:o},children:t})}function d(){let e=(0,l.useContext)(n);if(void 0===e)throw Error("useIPO must be used within an IPOProvider");return e}},21567:(e,t,r)=>{"use strict";r.d(t,{cn:()=>l});var a=r(43463),s=r(69795);function l(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[1181,8526,8562,164,2589,814,9526,6527,7518,5427,7027,6137,7328,8441,1517,7358],()=>t(14016)),_N_E=e.O()}]);
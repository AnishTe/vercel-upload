(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5967],{6453:(e,t,s)=>{Promise.resolve().then(s.bind(s,57757))},57757:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>D});var r=s(95155),a=s(12115),l=s(24672),n=s(22130),i=s(62153),o=s(43415),m=s(85060),c=s(69606),d=s(42640),u=s(1466),g=s(16233),x=s(61594),b=s(73239),h=s(43831),f=s(14505),p=s(66462),N=s(73312),y=s(44870),j=s(33900),v=s(62884),w=s(38002),P=s(25121),O=s(15157),S=s(59173),T=s(17733),A=s(65564),_=s(21567),E=s(47282),I=s(58690),C=s(24590);function V(e){let{value:t="",onChange:s,onEnter:l,length:n=6,disabled:i=!1,autoFocus:o=!1,className:m,inputClassName:c,isVisible:d=!0}=e,[u,g]=(0,a.useState)(0),x=(0,a.useRef)([]);(0,a.useEffect)(()=>{x.current=x.current.slice(0,n)},[n]),(0,a.useEffect)(()=>{o&&d&&x.current[0]&&x.current[0].focus()},[o,d]);let b=(e,r)=>{let a=e.target.value.replace(/\D/g,"");if(!a)return;let l=a.slice(-1),i=t.split("");if(i[r]=l,s(i.join("")),r<n-1&&l){var o;g(r+1),null===(o=x.current[r+1])||void 0===o||o.focus()}},h=(e,r)=>{var a,i,o;if("Enter"===e.key&&l){e.preventDefault(),l();return}if("Backspace"===e.key){if(e.preventDefault(),t[r]){let e=t.split("");e[r]="",s(e.join(""));return}if(r>0){g(r-1),null===(a=x.current[r-1])||void 0===a||a.focus();let e=t.split("");e[r-1]="",s(e.join(""))}}else"ArrowLeft"===e.key&&r>0?(e.preventDefault(),g(r-1),null===(i=x.current[r-1])||void 0===i||i.focus()):"ArrowRight"===e.key&&r<n-1&&(e.preventDefault(),g(r+1),null===(o=x.current[r+1])||void 0===o||o.focus())},f=e=>{var t;e.preventDefault();let r=e.clipboardData.getData("text/plain").trim().replace(/\D/g,"").slice(0,n);if(!r)return;let a=Array(n).fill("");for(let e=0;e<r.length;e++)a[e]=r[e];s(a.join(""));let l=Math.min(r.length,n-1);g(l),null===(t=x.current[l])||void 0===t||t.focus()},p=e=>{g(e)};return d?(0,r.jsx)("div",{className:(0,_.cn)("flex gap-2 justify-center",m),children:Array(n).fill("").map((e,s)=>{let a=t[s]||"";return(0,r.jsx)(j.p,{type:"text",inputMode:"numeric",pattern:"[0-9]*",maxLength:1,value:a,onChange:e=>b(e,s),onKeyDown:e=>h(e,s),onPaste:f,onFocus:()=>p(s),ref:e=>{x.current[s]=e},disabled:i,className:(0,_.cn)("w-10 h-10 sm:w-12 sm:h-12 text-center text-lg font-bold p-0 border-2 transition-all duration-200",a?"border-green-500 bg-green-50":u===s?"border-blue-500 shadow-md":"border-gray-200 hover:border-gray-300",i&&"opacity-50 cursor-not-allowed",c),"aria-label":"OTP digit ".concat(s+1)},s)})}):null}function F(e){let{isActive:t,initialSeconds:s,onComplete:l,className:n}=e,[i,o]=(0,a.useState)(0),m=(0,a.useRef)(null);(0,a.useEffect)(()=>{t&&0===i&&o(s)},[t,s,i]),(0,a.useEffect)(()=>(i>0?m.current=setInterval(()=>{o(e=>e<=1?(null==l||l(),0):e-1)},1e3):m.current&&(clearInterval(m.current),m.current=null),()=>{m.current&&clearInterval(m.current)}),[i,l]),(0,a.useEffect)(()=>{!t&&(o(0),m.current&&(clearInterval(m.current),m.current=null))},[t]);let c=s>0?Math.round(i/s*100):0;return i<=0?null:(0,r.jsxs)("div",{className:(0,_.cn)("flex items-center justify-center gap-2",n),children:[(0,r.jsx)("div",{className:"text-xs sm:text-sm text-gray-600 font-medium",children:"Resend OTP in"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("div",{className:"bg-gradient-to-r from-blue-100 to-purple-100 text-gray-800 font-bold px-3 py-1 rounded-full min-w-[3rem] text-center border border-blue-200 text-sm",children:[Math.floor(i/60),":",(i%60).toString().padStart(2,"0")]}),(0,r.jsx)("div",{className:"absolute bottom-0 left-0 h-1 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full transition-all duration-1000",style:{width:"".concat(c,"%")}})]})]})}let k=o.Ik({panNumber:o.Yj().regex(/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/,{message:"Please enter a valid PAN number (e.g., ABCDE1234F)."}),mobileNumber:o.Yj().min(10,"Mobile number must be 10 digits").max(10,"Mobile number must be 10 digits").regex(/^[6-9]\d{9}$/,{message:"Please enter a valid 10-digit mobile number starting with 6-9."}),otp:o.Yj().length(6,{message:"OTP must be 6 digits."})}),B=o.Ik({panNumber:o.Yj().regex(/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/,{message:"Please enter a valid PAN number (e.g., ABCDE1234F)."}),clientName:o.Yj().min(2,{message:"Name must be at least 2 characters."}).max(50,{message:"Name must not exceed 50 characters."}),dateOfBirth:o.p6({required_error:"Date of birth is required."}),mobileNumber:o.Yj().min(10,"Mobile number must be 10 digits").max(10,"Mobile number must be 10 digits").regex(/^[6-9]\d{9}$/,{message:"Please enter a valid 10-digit mobile number starting with 6-9."}),mobileOtp:o.Yj().length(6,{message:"OTP must be 6 digits."}),email:o.Yj().email({message:"Please enter a valid email address."}),emailOtp:o.Yj().length(6,{message:"OTP must be 6 digits."})});function M(){let[e,t]=(0,a.useState)("signin"),[s,n]=(0,a.useState)(!1),[i,o]=(0,a.useState)(!1),[M,$]=(0,a.useState)(!1),[D,R]=(0,a.useState)(!1),[Z,z]=(0,a.useState)(!1),[Y,L]=(0,a.useState)(!1),[U,J]=(0,a.useState)(!1),[q,K]=(0,a.useState)(!1),[X,G]=(0,a.useState)(!1),[W,H]=(0,a.useState)(null),[Q,ee]=(0,a.useState)(null),[et,es]=(0,a.useState)(null),[er,ea]=(0,a.useState)(0),[el,en]=(0,a.useState)(!1),[ei,eo]=(0,a.useState)(!1),[em,ec]=(0,a.useState)(!1),{toast:ed}=(0,A.dj)(),{updateStepStatus:eu,navigateToStep:eg,setSessionId:ex}=(0,l.b)(),[eb,eh]=(0,a.useState)({panNumber:"",mobileNumber:"",otp:""}),[ef,ep]=(0,a.useState)({panNumber:"",clientName:"",mobileNumber:"",mobileOtp:"",email:"",emailOtp:""}),eN=(0,c.mN)({resolver:(0,m.u)(k),defaultValues:eb,mode:"onChange"}),ey=(0,c.mN)({resolver:(0,m.u)(B),defaultValues:ef,mode:"onChange"}),ej=(0,a.useCallback)(()=>{eo(!1)},[]),ev=(0,a.useCallback)(()=>{ec(!1)},[]);(0,a.useEffect)(()=>{let e=ey.watch(e=>{let t=e.panNumber,s=e.clientName,r=e.dateOfBirth,a=0;t&&/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/.test(t)&&(a+=20),s&&s.length>=2&&(a+=20),r&&(a+=20),i&&(a+=20),M&&(a+=20),ea(a)});return()=>e.unsubscribe()},[ey,i,M]);let ew=(0,c.FH)({control:ey.control,name:"panNumber"}),eP=(0,c.FH)({control:ey.control,name:"clientName"}),eO=(0,c.FH)({control:ey.control,name:"dateOfBirth"}),eS=(0,a.useRef)(null);(0,a.useEffect)(()=>{if(ew&&/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/.test(ew)&&eP&&eO)return ew&&/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/.test(ew)&&eP&&eO&&(eS.current&&clearTimeout(eS.current),eS.current=setTimeout(async()=>{try{let e=await (0,E.pSV)({dob:(0,T.GP)(eO,"dd/MM/yyyy"),name:eP,pan:ew}),t=e.data.data.data;200===e.status&&"valid"===t.status&&"y"===t.aadhaar_seeding_status&&t.date_of_birth_match&&t.name_as_per_pan_match?(R(!0),es(t.name),ee("PAN and Date of Birth are valid"),H(null),ey.clearErrors("panNumber"),ey.clearErrors("dateOfBirth")):(R(!1),H("Failed to PAN Check. Please try again."),ee(null))}catch(e){console.error("Error in pan-check:",e),H("Failed to PAN Check. Please try again."),ee(null),ed({variant:"destructive",title:"PAN Check Failed"})}},800)),()=>{eS.current&&clearTimeout(eS.current)}},[ew,eP,eO,ey,ed]),(0,a.useEffect)(()=>{if(!X)try{let e=localStorage.getItem("kyc_signin_form");if(e){let t=JSON.parse(e);t.dateOfBirth&&(t.dateOfBirth=new Date(t.dateOfBirth),ep(e=>({...e,dateOfBirth:t.dateOfBirth}))),t.panNumber&&ep(e=>({...e,panNumber:t.panNumber})),t.mobileNumber&&(eh(e=>({...e,mobileNumber:t.mobileNumber})),ep(e=>({...e,mobileNumber:t.mobileNumber}))),t.email&&ep(e=>({...e,email:t.email}))}G(!0)}catch(e){console.error("Error loading saved form data:",e),G(!0)}},[X]),(0,a.useEffect)(()=>{X&&(eN.reset(eb),ey.reset(ef))},[X,eN,ey,eb,ef]),(0,a.useEffect)(()=>{if(el){console.log("Auto transition detected, skipping state clear");return}console.log("Manual tab switch, clearing states"),H(null),ee(null),o(!1),$(!1),R(!1),eo(!1),ec(!1),es(null)},[e,el]),(0,a.useEffect)(()=>{if(el){let e=setTimeout(()=>{en(!1),console.log("Auto transition flag reset")},500);return()=>clearTimeout(e)}},[el]),(0,a.useEffect)(()=>{let e=ey.watch((e,t)=>{let{name:s,type:r}=t,a=e.panNumber;e.dateOfBirth,"panNumber"===s&&a&&/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/.test(a)&&ey.clearErrors("panNumber"),"mobileNumber"===s&&e.mobileNumber&&/^[6-9]\d{9}$/.test(e.mobileNumber)&&ey.clearErrors("mobileNumber"),"email"===s&&e.email&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)&&ey.clearErrors("email"),"mobileOtp"===s&&e.mobileOtp&&6===e.mobileOtp.length&&ey.clearErrors("mobileOtp"),"emailOtp"===s&&e.emailOtp&&6===e.emailOtp.length&&ey.clearErrors("emailOtp")});return()=>e.unsubscribe()},[ey]),(0,a.useEffect)(()=>{let e=eN.watch((e,t)=>{let{name:s,type:r}=t,a=e.panNumber,l=e.mobileNumber;console.log("Sign-in form values:",{panNumber:a,panValid:a&&/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/.test(a),mobileNumber:l,mobileValid:l&&/^[6-9]\d{9}$/.test(l),mobileLength:null==l?void 0:l.length}),"mobileNumber"===s&&e.mobileNumber&&/^[6-9]\d{9}$/.test(e.mobileNumber)&&eN.clearErrors("mobileNumber")});return()=>e.unsubscribe()},[eN,et]);let eT=async()=>{console.log("\uD83D\uDE80 handleSendMobileOtp called");let e=eN.getValues("panNumber"),t=eN.getValues("mobileNumber");if(console.log("Values:",{panNumber:e,mobileNumber:t}),H(null),!/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/.test(e)){eN.setError("panNumber",{type:"manual",message:"Please enter a valid PAN number."});return}if(!/^[6-9]\d{9}$/.test(t)){eN.setError("mobileNumber",{type:"manual",message:"Please enter a valid 10-digit mobile number."});return}z(!0);try{let s=await (0,E.e_r)({LoginType:"SignIn",pan:e,OTP_Type:"mobile",OTP_Validator:t,BranchCode:"500"});if(console.log(s),200===s.status){let t=s.data;"success"===t.status?(localStorage.setItem("otp_inserted_id",t.id.toString()),localStorage.setItem("otp_pan",e),eN.setValue("otp",""),ee("OTP has been sent to your registered mobile number"),eo(!0)):H(t.message||"Failed to send OTP. Please try again.")}else H("Failed to send OTP. Please try again.")}catch(e){console.error("Error sending OTP:",e),H("Failed to send OTP. Please try again.")}finally{z(!1)}},eA=async()=>{let e=eN.getValues("panNumber"),t=eN.getValues("otp");if(H(null),!/^\d{6}$/.test(t)){eN.setError("otp",{type:"manual",message:"Please enter a valid 6-digit OTP."});return}J(!0);try{let s=localStorage.getItem("otp_inserted_id"),r=localStorage.getItem("otp_pan")||e;if(!s)throw Error("OTP session expired. Please request a new OTP.");let a=await (0,E.KDz)({id:Number.parseInt(s),pan:r,OTP_Type:"SignIn",OTP:t});if(200===a.status){let e=a.data;"verify"===e.status?(o(!0),ee("Mobile number verified successfully"),localStorage.removeItem("otp_pan"),localStorage.setItem("kyc_pan",r),eN.clearErrors("otp"),eo(!1),setTimeout(()=>{ee(null)},3e3)):(eN.setError("otp",{type:"manual",message:"Invalid OTP. Please try again."}),H(e.message||"Invalid OTP. Please try again."))}else H("Failed to verify OTP. Please try again.")}catch(e){console.error("Error verifying OTP:",e),H("object"==typeof e&&null!==e&&"message"in e?String(e.message):"Failed to verify OTP. Please try again.")}finally{J(!1)}},e_=async()=>{console.log("\uD83D\uDE80 handleSendSignUpMobileOtp called"),console.log("panAndDobValid:",D);let e=ey.getValues("panNumber"),s=ey.getValues("mobileNumber"),r=ey.getValues("clientName")||"",a=ey.getValues("dateOfBirth"),l=a?(0,T.GP)(a,"yyyy-MM-dd"):"";if(H(null),!/^[6-9]\d{9}$/.test(s)){ey.setError("mobileNumber",{type:"manual",message:"Please enter a valid 10-digit mobile number."});return}z(!0);try{let a=await (0,E.e_r)({LoginType:"SignUp",dob:l,ClientName:r,pan:e,OTP_Type:"mobile",OTP_Validator:s,BranchCode:"500"});if(console.log(a),200===a.status){let s=a.data;if(console.log(s),"success"===s.status)localStorage.setItem("signup_mobile_otp_id",s.id.toString()),ey.setValue("mobileOtp",""),ee("OTP has been sent to your registered mobile number"),eo(!0);else if("already_acc"===s.status&&s.message&&s.message.includes("already")){console.log("User already exists, transferring to sign-in"),en(!0);let r=s.id?s.id.toString():localStorage.getItem("signup_mobile_otp_id");r&&(localStorage.setItem("otp_inserted_id",r),localStorage.setItem("otp_pan",e),localStorage.removeItem("signup_mobile_otp_id"));let a={panNumber:e,mobileNumber:ey.getValues("mobileNumber"),otp:""};console.log("Transferring data:",a),eh(a),eo(!0),ee("!!  OTP has been sent to your registered mobile number. Please enter it to sign in."),H(null),setTimeout(()=>{t("signin"),eN.reset(a),console.log("Form reset immediately with:",a),setTimeout(()=>{eN.reset(a),console.log("Form reset after tab switch:",eN.getValues())},100)},100)}else H(s.message||"Failed to send OTP. Please try again.")}else H("Failed to send OTP. Please try again.")}catch(e){console.error("Error sending OTP:",e),H("Failed to send OTP. Please try again.")}finally{z(!1)}},eE=async()=>{let e=ey.getValues("panNumber"),t=ey.getValues("mobileOtp");if(H(null),!/^\d{6}$/.test(t)){ey.setError("mobileOtp",{type:"manual",message:"Please enter a valid 6-digit OTP."});return}J(!0);try{let s=localStorage.getItem("signup_mobile_otp_id");if(!s)throw Error("OTP session expired. Please request a new OTP.");let r=await (0,E.KDz)({id:Number.parseInt(s),pan:e,OTP_Type:"mobile",OTP:t});if(200===r.status){let e=r.data;console.log(e),"verify"===e.status?(o(!0),ee("Mobile number verified successfully. Please verify your email."),localStorage.removeItem("signup_mobile_otp_id"),ey.clearErrors("mobileOtp"),eo(!1),setTimeout(()=>{ee(null)},3e3)):(ey.setError("mobileOtp",{type:"manual",message:"Invalid OTP. Please try again."}),H(e.message||"Invalid OTP. Please try again."))}else H("Failed to verify OTP. Please try again.")}catch(e){console.error("Error verifying OTP:",e),H("object"==typeof e&&null!==e&&"message"in e?String(e.message):"Failed to verify OTP. Please try again.")}finally{J(!1)}},eI=async()=>{let e=ey.getValues("panNumber"),t=ey.getValues("email"),s=ey.getValues("clientName")||"",r=ey.getValues("dateOfBirth"),a=r?(0,T.GP)(r,"yyyy-MM-dd"):"";if(H(null),!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)){ey.setError("email",{type:"manual",message:"Please enter a valid email address."});return}L(!0);try{let r=await (0,E.e_r)({LoginType:"SignUp",dob:a,ClientName:s,pan:e,OTP_Type:"email",OTP_Validator:t,BranchCode:"500"});if(console.log(r),200===r.status){let e=r.data;"success"===e.status?(localStorage.setItem("signup_email_otp_id",e.id.toString()),ey.setValue("emailOtp",""),ee("OTP has been sent to your registered email address"),ec(!0)):H(e.message||"Failed to send OTP. Please try again.")}else H("Failed to send OTP. Please try again.")}catch(e){console.error("Error sending OTP:",e),H("Failed to send OTP. Please try again.")}finally{L(!1)}},eC=async()=>{let e=ey.getValues("panNumber"),t=ey.getValues("emailOtp");if(H(null),!/^\d{6}$/.test(t)){ey.setError("emailOtp",{type:"manual",message:"Please enter a valid 6-digit OTP."});return}K(!0);try{let s=localStorage.getItem("signup_email_otp_id");if(!s)throw Error("OTP session expired. Please request a new OTP.");let r=await (0,E.KDz)({id:Number.parseInt(s),pan:e,OTP_Type:"email",OTP:t});if(200===r.status){let e=r.data;"verify"===e.status?($(!0),ee("Email verified successfully. You can now create your account."),ey.clearErrors("emailOtp"),ec(!1),setTimeout(()=>{ee(null)},3e3)):(ey.setError("emailOtp",{type:"manual",message:"Invalid OTP. Please try again."}),H(e.message||"Failed to verify email OTP. Please try again."))}else H("Failed to verify OTP. Please try again.")}catch(e){console.error("Error verifying email OTP:",e),H("object"==typeof e&&null!==e&&"message"in e?String(e.message):"Failed to verify OTP. Please try again.")}finally{K(!1)}},eV=async e=>{n(!0);let t=localStorage.getItem("signup_email_otp_id");if(!t)throw Error("OTP session expired. Please request a new OTP.");try{let s=await (0,E.jW8)({LoginType:"SignUp",ID:Number.parseInt(t),pan:e.panNumber,mobile:e.mobileNumber,email:e.email,dob:(0,T.GP)(e.dateOfBirth,"yyyy-MM-dd"),ClientName:e.clientName});if(200!==s.status||"success"!==s.data.status)throw Error("Sign up failed");let r=s.data.session_id||s.data.sessionId,a=s.data.TradingId,l=s.data.CustomerId,n=s.data.docs_fetched,i=s.data.selfie_fetched,o=s.data.client_id;r&&a&&(console.log("Session ID received from SignUp:",r),ex(r),sessionStorage.setItem("docs_fetched",n),sessionStorage.setItem("selfie_fetched",i),sessionStorage.setItem("TradingId",a),sessionStorage.setItem("CustomerId",l),sessionStorage.setItem("client_id",o),sessionStorage.setItem("currentPAN",s.data.pan),sessionStorage.setItem("currentMobile",s.data.mobile),sessionStorage.setItem("currentEmail",s.data.email),sessionStorage.setItem("currentDOB",s.data.dob),sessionStorage.setItem("currentName",s.data.client_name),(0,I.ZB)("kyc_pan",e.panNumber),(0,I.ZB)("userToken_".concat(e.panNumber),r));let m={...e,session_id:r};localStorage.setItem("kyc_signin_form",JSON.stringify(m)),await new Promise(e=>setTimeout(e,1500)),eu("signin","completed"),eg("personal-details")}catch(e){console.error("Error in sign-up process:",e),eu("signin","failed"),ed({title:"Error signing up",description:"There was an error verifying your information. Please try again.",variant:"destructive"}),n(!1)}},eF=async e=>{n(!0);let t=localStorage.getItem("otp_inserted_id");if(!t)throw Error("OTP session expired. Please request a new OTP.");try{let s=await (0,E.jW8)({LoginType:"SignIn",ID:Number.parseInt(t),pan:e.panNumber,mobile:e.mobileNumber});if(200===s.status&&"success"===s.data.status){let t=s.data.session_id||s.data.sessionId,r=s.data.TradingId,a=s.data.docs_fetched,l=s.data.selfie_fetched,n=s.data.CustomerId,i=s.data.client_id;t&&r&&(console.log("Session ID received from SignIn:",t),ex(t),sessionStorage.setItem("docs_fetched",a),sessionStorage.setItem("selfie_fetched",l),sessionStorage.setItem("TradingId",r),sessionStorage.setItem("CustomerId",n),sessionStorage.setItem("client_id",i),sessionStorage.setItem("currentPAN",s.data.pan),sessionStorage.setItem("currentMobile",s.data.mobile),sessionStorage.setItem("currentEmail",s.data.email),sessionStorage.setItem("currentDOB",s.data.dob),sessionStorage.setItem("currentName",s.data.client_name),(0,I.ZB)("kyc_pan",e.panNumber),(0,I.ZB)("userToken_".concat(e.panNumber),t)),ee("Sign In successful!"),ed({title:"Sign In Successful",description:"You have Successfully Signed In."});let o={...e,session_id:t};localStorage.setItem("kyc_signin_form",JSON.stringify(o)),eu("signin","completed"),eg("personal-details")}else throw Error(s.data.message||"Sign in failed")}catch(e){console.error("Error in sign-in process:",e),H("Failed to sign in. Please try again."),ed({variant:"destructive",title:"Sign In Failed",description:"There was an error signing in. Please try again."})}finally{n(!1)}};return(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 p-2 sm:p-4 ",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto space-y-4",children:[(0,r.jsxs)("div",{className:"text-center mb-2",children:[(0,r.jsxs)("div",{className:"flex items-center justify-center gap-4 mb-2",children:[(0,r.jsx)("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-gradient-to-r from-blue-600 to-purple-600 rounded-full",children:(0,r.jsx)(d.A,{className:"w-6 h-6 text-white"})}),(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Secure Authentication"})]}),(0,r.jsx)("p",{className:"text-gray-600 text-sm max-w-lg mx-auto",children:"Complete your KYC verification with our secure multi-step authentication process"})]}),(0,r.jsxs)(v.tU,{defaultValue:"signin",value:e,onValueChange:t,className:"w-full",children:[(0,r.jsxs)(v.j7,{className:"grid w-full grid-cols-2 mb-4 bg-white rounded-xl p-0.5 h-auto shadow-sm border ",children:[(0,r.jsxs)(v.Xi,{value:"signin",className:(0,_.cn)("flex items-center justify-center gap-2 py-3 rounded-lg transition-all font-medium text-sm","signin"===e?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-md":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:[(0,r.jsx)(u.A,{className:(0,_.cn)("w-4 h-4","signin"===e?"text-white":"text-gray-600")}),(0,r.jsx)("span",{className:"signin"===e?"text-white":"text-gray-600",children:"Sign In"})]}),(0,r.jsxs)(v.Xi,{value:"signup",className:(0,_.cn)("flex items-center justify-center gap-2 py-3 rounded-lg transition-all font-medium text-sm","signup"===e?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-md":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:[(0,r.jsx)(g.A,{className:(0,_.cn)("w-4 h-4","signup"===e?"text-white":"text-gray-600")}),(0,r.jsx)("span",{className:"signup"===e?"text-white":"text-gray-600",children:"Sign Up"})]})]}),W&&(0,r.jsxs)(w.Fc,{variant:"destructive",className:"mb-4 border-red-200 bg-red-50 sticky top-0 z-10 shadow-md",children:[(0,r.jsx)(x.A,{className:"h-4 w-4"}),(0,r.jsx)(w.XL,{className:"font-semibold text-sm",children:"Error"}),(0,r.jsx)(w.TN,{className:"text-xs",children:W})]}),Q&&(0,r.jsxs)(w.Fc,{className:"mb-4 bg-green-50 border-green-200 text-green-800 sticky top-0 z-10 shadow-md",children:[(0,r.jsx)(b.A,{className:"h-4 w-4 text-green-600"}),(0,r.jsx)(w.XL,{className:"font-semibold text-green-800 text-sm",children:"Success"}),(0,r.jsx)(w.TN,{className:"text-xs text-green-700",children:Q})]}),(0,r.jsx)(v.av,{value:"signin",children:(0,r.jsxs)("div",{className:"border-0 shadow-none sm:shadow-xl sm:bg-white/80 backdrop-blur-sm rounded-xl",children:[(0,r.jsxs)("div",{className:"text-center p-4 pb-2",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Welcome Back"}),(0,r.jsx)("p",{className:"text-gray-600 text-sm",children:"as if you have already started your application, Please fill in the details complete it.."})]}),(0,r.jsx)("div",{className:"p-4 space-y-6",children:(0,r.jsx)(y.lV,{...eN,children:(0,r.jsxs)("form",{onSubmit:eN.handleSubmit(eF),className:"space-y-6",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,r.jsx)("div",{className:"flex items-center justify-center w-6 h-6 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-full text-xs font-bold",children:"1"}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"PAN Verification"})]}),(0,r.jsx)(y.zB,{control:eN.control,name:"panNumber",render:e=>{let{field:t}=e;return(0,r.jsxs)(y.eI,{children:[(0,r.jsxs)(y.lR,{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[(0,r.jsx)(g.A,{className:"w-4 h-4"}),"PAN Number"]}),(0,r.jsx)(y.MJ,{children:(0,r.jsx)(j.p,{placeholder:"e.g., ABCDE1234F",...t,onChange:e=>{let s=e.target.value.toUpperCase().trim();t.onChange(s),/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/.test(s)&&eN.clearErrors("panNumber")},className:"uppercase h-10 border-2 focus:border-blue-500 transition-colors"})}),(0,r.jsx)(y.Rr,{className:"text-xs text-gray-500",children:"Your Permanent Account Number as per income tax records"}),(0,r.jsx)(y.C5,{})]})}})]}),(0,r.jsx)(O.w,{className:"my-4"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,r.jsx)("div",{className:"flex items-center justify-center w-6 h-6 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-full text-xs font-bold",children:"2"}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Mobile Verification"})]}),(0,r.jsx)(y.zB,{control:eN.control,name:"mobileNumber",render:e=>{let{field:t}=e;return(0,r.jsxs)(y.eI,{children:[(0,r.jsxs)(y.lR,{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[(0,r.jsx)(h.A,{className:"w-4 h-4"}),"Mobile Number"]}),(0,r.jsx)(y.MJ,{children:(0,r.jsxs)("div",{className:"relative flex",children:[(0,r.jsx)("div",{className:"flex items-center justify-center px-3 border-2 border-r-0 rounded-l-lg bg-gray-50 text-gray-700 font-medium text-sm",children:"+91"}),(0,r.jsx)(j.p,{placeholder:"Enter 10 digit mobile number",...t,maxLength:10,className:(0,_.cn)("rounded-l-none h-10 border-2 focus:border-blue-500 transition-colors",i&&"border-green-500 bg-green-50"),disabled:i,onChange:e=>{let s=e.target.value.replace(/\D/g,"").slice(0,10);t.onChange(s),10===s.length&&/^[6-9]\d{9}$/.test(s)&&eN.clearErrors("mobileNumber")}}),i&&(0,r.jsx)(b.A,{className:"absolute right-2 top-1/2 -translate-y-1/2 h-5 w-5 text-green-600"})]})}),(0,r.jsx)(y.Rr,{className:"text-xs text-gray-500",children:"Your active mobile number for verification"}),(0,r.jsx)(y.C5,{})]})}}),(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)(N.$,{type:"button",size:"sm",variant:i?"outline":"default",className:(0,_.cn)("transition-all rounded-full px-4 h-9 font-medium text-sm",i?"bg-green-50 text-green-700 border-green-300 hover:bg-green-100":ei?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg"),onClick:eT,disabled:Z||i||ei||!eN.getValues("panNumber")||!/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/.test(eN.getValues("panNumber"))||!eN.getValues("mobileNumber")||10!==eN.getValues("mobileNumber").length,children:Z?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.A,{className:"h-4 w-4 animate-spin mr-1"}),"Sending..."]}):i?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(b.A,{className:"h-4 w-4 mr-1"}),"Sent"]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.A,{className:"h-4 w-4 mr-1"}),"Send OTP"]})})}),ei&&!i&&(0,r.jsx)(F,{isActive:ei,initialSeconds:60,className:"mt-2",onComplete:ej}),(ei||i)&&!i&&(0,r.jsxs)("div",{className:"mt-6 space-y-4",children:[(0,r.jsx)(y.zB,{control:eN.control,name:"otp",render:e=>{let{field:t}=e;return(0,r.jsxs)(y.eI,{children:[(0,r.jsx)(y.lR,{className:"text-sm font-medium text-gray-700 text-center block",children:"Enter Mobile OTP"}),(0,r.jsx)(y.MJ,{children:(0,r.jsx)(V,{value:t.value,onChange:t.onChange,disabled:i,autoFocus:!0,onEnter:eA,className:"justify-center"})}),(0,r.jsx)(y.Rr,{className:"text-center text-xs text-gray-500",children:"Enter the 6-digit OTP sent to your mobile number"}),(0,r.jsx)(y.C5,{})]})}}),(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsx)(N.$,{type:"button",size:"sm",variant:i?"outline":"default",className:(0,_.cn)("transition-all rounded-full px-6 h-9 font-medium text-sm",i?"bg-green-50 text-green-700 border-green-300 hover:bg-green-100":"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg"),onClick:eA,disabled:U||i||!eN.getValues("otp")||6!==eN.getValues("otp").length,children:U?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.A,{className:"h-4 w-4 animate-spin mr-1"}),"Verifying..."]}):i?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(b.A,{className:"h-4 w-4 mr-1"}),"Verified"]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.A,{className:"h-4 w-4 mr-1"}),"Verify OTP"]})})}),!i&&!ei&&eN.getValues("mobileNumber")&&(0,r.jsx)("div",{className:"flex justify-center mt-2",children:(0,r.jsx)(N.$,{type:"button",variant:"ghost",size:"sm",className:"text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-full font-medium text-xs h-7",onClick:eT,disabled:Z||!eN.getValues("panNumber")||!/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/.test(eN.getValues("panNumber"))||!eN.getValues("mobileNumber")||10!==eN.getValues("mobileNumber").length,children:"Resend OTP"})})]})]}),(0,r.jsx)("div",{className:"flex justify-center pt-4",children:(0,r.jsx)(N.$,{type:"submit",size:"sm",className:"w-full sm:w-auto px-8 py-2 font-semibold bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg rounded-full transition-all",disabled:s||!i,children:s?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Signing In..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.A,{className:"mr-2 h-4 w-4"}),"Sign In Securely"]})})})]})})})]})}),(0,r.jsx)(v.av,{value:"signup",children:(0,r.jsxs)("div",{className:"border-0 shadow-xl bg-white/80 backdrop-blur-sm rounded-xl",children:[(0,r.jsxs)("div",{className:"text-center p-4 pb-2",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Create Your Account"}),(0,r.jsx)("p",{className:"text-gray-600 text-sm",children:"Complete your KYC verification to get started"}),(0,r.jsxs)("div",{className:"mt-3",children:[(0,r.jsxs)("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[(0,r.jsx)("span",{children:"Progress"}),(0,r.jsxs)("span",{children:[er,"% Complete"]})]}),(0,r.jsx)(S.k,{value:er,className:"h-1.5"})]})]}),(0,r.jsx)("div",{className:"p-4 space-y-6",children:(0,r.jsx)(y.lV,{...ey,children:(0,r.jsxs)("form",{onSubmit:ey.handleSubmit(eV),className:"space-y-6",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,r.jsx)("div",{className:"flex items-center justify-center w-6 h-6 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-full text-xs font-bold",children:"1"}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Personal Details"})]}),(0,r.jsx)(y.zB,{control:ey.control,name:"panNumber",render:e=>{let{field:t}=e;return(0,r.jsxs)(y.eI,{children:[(0,r.jsxs)(y.lR,{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[(0,r.jsx)(g.A,{className:"w-4 h-4"}),"PAN Number"]}),(0,r.jsx)(y.MJ,{children:(0,r.jsx)(j.p,{placeholder:"e.g., ABCDE1234F",...t,onChange:e=>{let s=e.target.value.toUpperCase().trim();t.onChange(s),/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/.test(s)&&ey.clearErrors("panNumber")},className:"uppercase h-10 border-2 focus:border-blue-500 transition-colors"})}),(0,r.jsx)(y.Rr,{className:"text-xs text-gray-500",children:"Your Permanent Account Number as per income tax records"}),(0,r.jsx)(y.C5,{})]})}}),(0,r.jsx)(y.zB,{control:ey.control,name:"clientName",render:e=>{let{field:t}=e;return(0,r.jsxs)(y.eI,{children:[(0,r.jsxs)(y.lR,{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[(0,r.jsx)(u.A,{className:"w-4 h-4"}),"Full Name"]}),(0,r.jsx)(y.MJ,{children:(0,r.jsx)(j.p,{placeholder:"Enter your full name as per PAN",...t,onChange:e=>{let s=e.target.value;t.onChange(s),s.trim().length>0&&ey.clearErrors("clientName")},className:"h-10 border-2 focus:border-blue-500 transition-colors"})}),(0,r.jsx)(y.Rr,{className:"text-xs text-gray-500",children:"Your name as per PAN records"}),(0,r.jsx)(y.C5,{})]})}}),(0,r.jsx)(C.L,{control:ey.control,name:"dateOfBirth",label:"Date of Birth",placeholder:"Select your date of birth",description:"Must be between 18 and 65 years old",required:!0,minAge:18,maxAge:65,startYear:1940})]}),(0,r.jsx)(O.w,{className:"my-4"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,r.jsx)("div",{className:"flex items-center justify-center w-6 h-6 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-full text-xs font-bold",children:"2"}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Mobile Verification"}),i&&(0,r.jsxs)(P.E,{className:"bg-green-100 text-green-800 border-green-300 text-xs",children:[(0,r.jsx)(b.A,{className:"w-3 h-3 mr-1"}),"Verified"]})]}),(0,r.jsx)(y.zB,{control:ey.control,name:"mobileNumber",render:e=>{let{field:t}=e;return(0,r.jsxs)(y.eI,{children:[(0,r.jsxs)(y.lR,{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[(0,r.jsx)(h.A,{className:"w-4 h-4"}),"Mobile Number"]}),(0,r.jsx)(y.MJ,{children:(0,r.jsxs)("div",{className:"relative flex",children:[(0,r.jsx)("div",{className:"flex items-center justify-center px-3 border-2 border-r-0 rounded-l-lg bg-gray-50 text-gray-700 font-medium text-sm",children:"+91"}),(0,r.jsx)(j.p,{placeholder:"Enter 10 digit mobile number",...t,maxLength:10,className:(0,_.cn)("rounded-l-none h-10 border-2 focus:border-blue-500 transition-colors",i&&"border-green-500 bg-green-50"),disabled:!D||i,onChange:e=>{let s=e.target.value.replace(/\D/g,"").slice(0,10);t.onChange(s),10===s.length&&/^[6-9]\d{9}$/.test(s)&&ey.clearErrors("mobileNumber")}}),i&&(0,r.jsx)(b.A,{className:"absolute right-2 top-1/2 -translate-y-1/2 h-5 w-5 text-green-600"})]})}),(0,r.jsx)(y.Rr,{className:"text-xs text-gray-500",children:"Your active mobile number for verification"}),(0,r.jsx)(y.C5,{})]})}}),(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)(N.$,{type:"button",size:"sm",variant:i?"outline":"default",className:(0,_.cn)("transition-all rounded-full px-4 h-9 font-medium text-sm",i?"bg-green-50 text-green-700 border-green-300 hover:bg-green-100":ei?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg"),onClick:e_,disabled:!D||Z||i||ei||!ey.getValues("mobileNumber")||10!==ey.getValues("mobileNumber").length,children:Z?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.A,{className:"h-4 w-4 animate-spin mr-1"}),"Sending..."]}):i?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(b.A,{className:"h-4 w-4 mr-1"}),"Sent"]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.A,{className:"h-4 w-4 mr-1"}),"Send OTP"]})})}),ei&&!i&&(0,r.jsx)(F,{isActive:ei,initialSeconds:60,className:"mt-2",onComplete:ej}),(ei||i)&&!i&&(0,r.jsxs)("div",{className:"mt-6 space-y-4",children:[(0,r.jsx)(y.zB,{control:ey.control,name:"mobileOtp",render:e=>{let{field:t}=e;return(0,r.jsxs)(y.eI,{children:[(0,r.jsx)(y.lR,{className:"text-sm font-medium text-gray-700 text-center block",children:"Enter Mobile OTP"}),(0,r.jsx)(y.MJ,{children:(0,r.jsx)(V,{value:t.value,onChange:t.onChange,disabled:!D,onEnter:eE,autoFocus:!0,className:"justify-center"})}),(0,r.jsx)(y.Rr,{className:"text-center text-xs text-gray-500",children:"Enter the 6-digit OTP sent to your mobile number"}),(0,r.jsx)(y.C5,{})]})}}),(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsx)(N.$,{type:"button",size:"sm",variant:"default",className:"transition-all rounded-full px-6 h-9 font-medium text-sm bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg",onClick:eE,disabled:!D||U||!ey.getValues("mobileOtp")||6!==ey.getValues("mobileOtp").length,children:U?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.A,{className:"h-4 w-4 animate-spin mr-1"}),"Verifying..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.A,{className:"h-4 w-4 mr-1"}),"Verify OTP"]})})}),!ei&&ey.getValues("mobileNumber")&&D&&(0,r.jsx)("div",{className:"flex justify-center mt-2",children:(0,r.jsx)(N.$,{type:"button",variant:"ghost",size:"sm",className:"text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-full font-medium text-xs h-7",onClick:e_,disabled:Z||!ey.getValues("mobileNumber")||10!==ey.getValues("mobileNumber").length,children:"Resend OTP"})})]}),i&&(0,r.jsx)("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2 text-green-700",children:[(0,r.jsx)(b.A,{className:"h-5 w-5"}),(0,r.jsx)("span",{className:"font-medium text-sm",children:"Mobile Number Verified"})]})})]}),(0,r.jsx)(O.w,{className:"my-4"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,r.jsx)("div",{className:"flex items-center justify-center w-6 h-6 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-full text-xs font-bold",children:"3"}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Email Verification"}),M&&(0,r.jsxs)(P.E,{className:"bg-green-100 text-green-800 border-green-300 text-xs",children:[(0,r.jsx)(b.A,{className:"w-3 h-3 mr-1"}),"Verified"]})]}),(0,r.jsx)(y.zB,{control:ey.control,name:"email",render:e=>{let{field:t}=e;return(0,r.jsxs)(y.eI,{children:[(0,r.jsxs)(y.lR,{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[(0,r.jsx)(p.A,{className:"w-4 h-4"}),"Email Address"]}),(0,r.jsx)(y.MJ,{children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(j.p,{placeholder:"Enter your email address",type:"email",...t,disabled:!i||M,className:(0,_.cn)("h-10 border-2 focus:border-blue-500 transition-colors",M&&"border-green-500 bg-green-50"),onChange:e=>{let s=e.target.value.trim();t.onChange(s),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s)&&ey.clearErrors("email")}}),M&&(0,r.jsx)(b.A,{className:"absolute right-2 top-1/2 -translate-y-1/2 h-5 w-5 text-green-600"})]})}),(0,r.jsx)(y.Rr,{className:"text-xs text-gray-500",children:"Your email address for communication and verification"}),(0,r.jsx)(y.C5,{})]})}}),(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)(N.$,{type:"button",size:"sm",variant:M?"outline":"default",className:(0,_.cn)("transition-all rounded-full px-4 h-9 font-medium text-sm",M?"bg-green-50 text-green-700 border-green-300 hover:bg-green-100":em?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg"),onClick:eI,disabled:!i||Y||M||em||!ey.getValues("email")||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(ey.getValues("email")),children:Y?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.A,{className:"h-4 w-4 animate-spin mr-1"}),"Sending..."]}):M?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(b.A,{className:"h-4 w-4 mr-1"}),"Sent"]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p.A,{className:"h-4 w-4 mr-1"}),"Send OTP"]})})}),em&&!M&&(0,r.jsx)(F,{isActive:em,initialSeconds:60,className:"mt-2",onComplete:ev}),(em||M)&&!M&&(0,r.jsxs)("div",{className:"mt-6 space-y-4",children:[(0,r.jsx)(y.zB,{control:ey.control,name:"emailOtp",render:e=>{let{field:t}=e;return(0,r.jsxs)(y.eI,{children:[(0,r.jsx)(y.lR,{className:"text-sm font-medium text-gray-700 text-center block",children:"Enter Email OTP"}),(0,r.jsx)(y.MJ,{children:(0,r.jsx)(V,{value:t.value,onChange:t.onChange,disabled:!i,onEnter:eC,autoFocus:!0,className:"justify-center"})}),(0,r.jsx)(y.Rr,{className:"text-center text-xs text-gray-500",children:"Enter the 6-digit OTP sent to your email address"}),(0,r.jsx)(y.C5,{})]})}}),(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsx)(N.$,{type:"button",size:"sm",variant:"default",className:"transition-all rounded-full px-6 h-9 font-medium text-sm bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg",onClick:eC,disabled:!i||q||!ey.getValues("emailOtp")||6!==ey.getValues("emailOtp").length,children:q?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.A,{className:"h-4 w-4 animate-spin mr-1"}),"Verifying..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.A,{className:"h-4 w-4 mr-1"}),"Verify OTP"]})})}),!em&&ey.getValues("email")&&i&&(0,r.jsx)("div",{className:"flex justify-center mt-2",children:(0,r.jsx)(N.$,{type:"button",variant:"ghost",size:"sm",className:"text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded-full font-medium text-xs h-7",onClick:eI,disabled:Y||!ey.getValues("email")||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(ey.getValues("email")),children:"Resend OTP"})})]}),M&&(0,r.jsx)("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:(0,r.jsxs)("div",{className:"flex items-center justify-center gap-2 text-green-700",children:[(0,r.jsx)(b.A,{className:"h-5 w-5"}),(0,r.jsx)("span",{className:"font-medium text-sm",children:"Email Address Verified"})]})})]}),(0,r.jsx)("div",{className:"flex justify-center pt-4",children:(0,r.jsx)(N.$,{type:"submit",size:"sm",className:"w-full sm:w-auto px-8 py-2 font-semibold bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg rounded-full transition-all",disabled:s||!D||!i||!M,children:s?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating Account..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(b.A,{className:"mr-2 h-4 w-4"}),"Create Account"]})})})]})})})]})})]})]})})}var $=s(76046);function D(){let{setCurrentStep:e,handleDigioReturn:t,updateStepStatus:s,state:o}=(0,l.b)(),m=(0,$.useSearchParams)(),c=(0,$.useRouter)();return(0,a.useEffect)(()=>{e("signin")},[e]),(0,a.useEffect)(()=>{let e=m.get("status"),s=m.get("sessionId");e&&s&&(t("signin","success"===e?"success":"failure"),c.replace("/kyc/signin"))},[m,t,c]),(0,a.useEffect)(()=>{let{steps:e}=o;"completed"!==e.signin||localStorage.getItem("kyc_signin_form")||s("signin","not_started")},[o,s]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.A,{}),(0,r.jsx)(n.Zp,{className:"border-none shadow-md",children:(0,r.jsx)(n.Wu,{className:"m-0 p-0 shadow-xl rounded-xl backdrop-blur",children:(0,r.jsx)(M,{})})})]})}},25121:(e,t,s)=>{"use strict";s.d(t,{E:()=>i});var r=s(95155);s(12115);var a=s(31027),l=s(21567);let n=(0,a.F)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:s,...a}=e;return(0,r.jsx)("div",{className:(0,l.cn)(n({variant:s}),t),...a})}},62884:(e,t,s)=>{"use strict";s.d(t,{Xi:()=>m,av:()=>c,j7:()=>o,tU:()=>i});var r=s(95155),a=s(12115),l=s(58629),n=s(21567);let i=l.bL,o=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(l.B8,{ref:t,className:(0,n.cn)("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",s),...a})});o.displayName=l.B8.displayName;let m=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(l.l9,{ref:t,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",s),...a})});m.displayName=l.l9.displayName;let c=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(l.UC,{ref:t,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...a})});c.displayName=l.UC.displayName}},e=>{var t=t=>e(e.s=t);e.O(0,[1181,8526,8562,164,2589,8007,8417,7518,5427,7733,6678,9636,9643,6137,4672,9741,9096,8441,1517,7358],()=>t(6453)),_N_E=e.O()}]);